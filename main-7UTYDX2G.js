var Rj=Object.defineProperty,Mj=Object.defineProperties;var kj=Object.getOwnPropertyDescriptors;var ax=Object.getOwnPropertySymbols,Pj=Object.getPrototypeOf,Nj=Object.prototype.hasOwnProperty,Oj=Object.prototype.propertyIsEnumerable,Fj=Reflect.get;var cx=(n,e,t)=>e in n?Rj(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})Nj.call(e,t)&&cx(n,t,e[t]);if(ax)for(var t of ax(e))Oj.call(e,t)&&cx(n,t,e[t]);return n},se=(n,e)=>Mj(n,kj(e));var go=(n,e,t)=>Fj(Pj(n),t,e);var y=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var _y;function bf(){return _y}function zr(n){let e=_y;return _y=n,e}var lx=Symbol("NotFound");function ic(n){return n===lx||n?.name==="\u0275NotFound"}var dn=null,wf=!1,vy=1,Lj=null,St=Symbol("SIGNAL");function he(n){let e=dn;return dn=n,e}function Tf(){return dn}var Os={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _o(n){if(wf)throw new Error("");if(dn===null)return;dn.consumerOnSignalRead(n);let e=dn.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=dn.recomputing;if(r&&(t=e!==void 0?e.nextProducer:dn.producers,t!==void 0&&t.producer===n)){dn.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===dn&&(!r||jj(i,dn)))return;let o=oc(dn),s={producer:n,consumer:dn,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};dn.producersTail=s,e!==void 0?e.nextProducer=s:dn.producers=s,o&&fx(n,s)}function ux(){vy++}function Df(n){if(!(oc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===vy)){if(!n.producerMustRecompute(n)&&!Ls(n)){Cf(n);return}n.producerRecomputeValue(n),Cf(n)}}function yy(n){if(n.consumers===void 0)return;let e=wf;wf=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||Vj(r)}}finally{wf=e}}function by(){return dn?.consumerAllowSignalWrites!==!1}function Vj(n){n.dirty=!0,yy(n),n.consumerMarkedDirty?.(n)}function Cf(n){n.dirty=!1,n.lastCleanEpoch=vy}function vo(n){return n&&dx(n),he(n)}function dx(n){n.producersTail=void 0,n.recomputing=!0}function Fs(n,e){he(e),n&&hx(n)}function hx(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(oc(n))do t=wy(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Ls(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Df(t),r!==t.version))return!0}return!1}function yo(n){if(oc(n)){let e=n.producers;for(;e!==void 0;)e=wy(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function fx(n,e){let t=n.consumersTail,r=oc(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)fx(i.producer,i)}function wy(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!oc(e)){let o=e.producers;for(;o!==void 0;)o=wy(o)}return t}function oc(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Sf(n){Lj?.(n)}function jj(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function xf(n,e){return Object.is(n,e)}function Eu(n,e){let t=Object.create(Bj);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Df(t),_o(t),t.value===wu)throw t.error;return t.value};return r[St]=t,Sf(t),r}var Ef=Symbol("UNSET"),If=Symbol("COMPUTING"),wu=Symbol("ERRORED"),Bj=se(V({},Os),{value:Ef,dirty:!0,error:null,equal:xf,kind:"computed",producerMustRecompute(n){return n.value===Ef||n.value===If},producerRecomputeValue(n){if(n.value===If)throw new Error("");let e=n.value;n.value=If;let t=vo(n),r,i=!1;try{r=n.computation(),he(null),i=e!==Ef&&e!==wu&&r!==wu&&n.equal(e,r)}catch(o){r=wu,n.error=o}finally{Fs(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Uj(){throw new Error}var px=Uj;function mx(n){px(n)}function Ey(n){px=n}var Hj=null;function Iy(n,e){let t=Object.create(Iu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>gx(t);return r[St]=t,Sf(t),[r,s=>Vs(t,s),s=>Cy(t,s)]}function gx(n){return _o(n),n.value}function Vs(n,e){by()||mx(n),n.equal(n.value,e)||(n.value=e,$j(n))}function Cy(n,e){by()||mx(n),Vs(n,e(n.value))}var Iu=se(V({},Os),{equal:xf,value:void 0,kind:"signal"});function $j(n){n.version++,ux(),yy(n),Hj?.(n)}function Ae(n){return typeof n=="function"}function sc(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Af=sc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function js(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ve=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Ae(r))try{r()}catch(o){e=o instanceof Af?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{_x(o)}catch(s){e=e??[],s instanceof Af?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Af(e)}}add(e){var t;if(e&&e!==this)if(this.closed)_x(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&js(t,e)}remove(e){let{_finalizers:t}=this;t&&js(t,e),e instanceof n&&e._removeParent(this)}};Ve.EMPTY=(()=>{let n=new Ve;return n.closed=!0,n})();var Ty=Ve.EMPTY;function Rf(n){return n instanceof Ve||n&&"closed"in n&&Ae(n.remove)&&Ae(n.add)&&Ae(n.unsubscribe)}function _x(n){Ae(n)?n():n.unsubscribe()}var Dr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ac={setTimeout(n,e,...t){let{delegate:r}=ac;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ac;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Mf(n){ac.setTimeout(()=>{let{onUnhandledError:e}=Dr;if(e)e(n);else throw n})}function Cu(){}var vx=Dy("C",void 0,void 0);function yx(n){return Dy("E",void 0,n)}function bx(n){return Dy("N",n,void 0)}function Dy(n,e,t){return{kind:n,value:e,error:t}}var Bs=null;function cc(n){if(Dr.useDeprecatedSynchronousErrorHandling){let e=!Bs;if(e&&(Bs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Bs;if(Bs=null,t)throw r}}else n()}function wx(n){Dr.useDeprecatedSynchronousErrorHandling&&Bs&&(Bs.errorThrown=!0,Bs.error=n)}var Us=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Rf(e)&&e.add(this)):this.destination=Wj}static create(e,t,r){return new Ei(e,t,r)}next(e){this.isStopped?xy(bx(e),this):this._next(e)}error(e){this.isStopped?xy(yx(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xy(vx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},zj=Function.prototype.bind;function Sy(n,e){return zj.call(n,e)}var Ay=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){kf(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){kf(r)}else kf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){kf(t)}}},Ei=class extends Us{constructor(e,t,r){super();let i;if(Ae(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Dr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sy(e.next,o),error:e.error&&Sy(e.error,o),complete:e.complete&&Sy(e.complete,o)}):i=e}this.destination=new Ay(i)}};function kf(n){Dr.useDeprecatedSynchronousErrorHandling?wx(n):Mf(n)}function qj(n){throw n}function xy(n,e){let{onStoppedNotification:t}=Dr;t&&ac.setTimeout(()=>t(n,e))}var Wj={closed:!0,next:Cu,error:qj,complete:Cu};var lc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function En(n){return n}function Ry(...n){return My(n)}function My(n){return n.length===0?En:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var de=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Kj(t)?t:new Ei(t,r,i);return cc(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Ex(r),new r((i,o)=>{let s=new Ei({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[lc](){return this}pipe(...t){return My(t)(this)}toPromise(t){return t=Ex(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Ex(n){var e;return(e=n??Dr.Promise)!==null&&e!==void 0?e:Promise}function Gj(n){return n&&Ae(n.next)&&Ae(n.error)&&Ae(n.complete)}function Kj(n){return n&&n instanceof Us||Gj(n)&&Rf(n)}function ky(n){return Ae(n?.lift)}function Se(n){return e=>{if(ky(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(n,e,t,r,i){return new Py(n,e,t,r,i)}var Py=class extends Us{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function uc(){return Se((n,e)=>{let t=null;n._refCount++;let r=Ce(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var dc=class extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ky(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let t=this.getSubject();e.add(this.source.subscribe(Ce(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return uc()(this)}};var Ix=sc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Q=(()=>{class n extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Pf(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Ix}next(t){cc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){cc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){cc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ty:(this.currentObservers=null,o.push(t),new Ve(()=>{this.currentObservers=null,js(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new de;return t.source=this,t}}return n.create=(e,t)=>new Pf(e,t),n})(),Pf=class extends Q{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Ty}};var jt=class extends Q{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Tu={now(){return(Tu.delegate||Date).now()},delegate:void 0};var Du=class extends Q{constructor(e=1/0,t=1/0,r=Tu){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Nf=class extends Ve{constructor(e,t){super()}schedule(e,t=0){return this}};var Su={setInterval(n,e,...t){let{delegate:r}=Su;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Su;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var hc=class extends Nf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Su.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Su.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,js(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var fc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};fc.now=Tu.now;var pc=class extends fc{constructor(e,t=fc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var bo=new pc(hc),Ny=bo;var Of=class extends hc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ff=class extends pc{};var Oy=new Ff(Of);var Wt=new de(n=>n.complete());function Lf(n){return n&&Ae(n.schedule)}function Fy(n){return n[n.length-1]}function Vf(n){return Ae(Fy(n))?n.pop():void 0}function qr(n){return Lf(Fy(n))?n.pop():void 0}function Cx(n,e){return typeof Fy(n)=="number"?n.pop():e}function Ly(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Dx(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function Tx(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hs(n){return this instanceof Hs?(this.v=n,this):new Hs(n)}function Sx(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(I){return Promise.resolve(I).then(g,p)}}function a(g,I){r[g]&&(i[g]=function(R){return new Promise(function(A,F){o.push([g,R,A,F])>1||c(g,R)})},I&&(i[g]=I(i[g])))}function c(g,I){try{u(r[g](I))}catch(R){m(o[0][3],R)}}function u(g){g.value instanceof Hs?Promise.resolve(g.value.v).then(d,p):m(o[0][2],g)}function d(g){c("next",g)}function p(g){c("throw",g)}function m(g,I){g(I),o.shift(),o.length&&c(o[0][0],o[0][1])}}function xx(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Tx=="function"?Tx(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var jf=n=>n&&typeof n.length=="number"&&typeof n!="function";function Bf(n){return Ae(n?.then)}function Uf(n){return Ae(n[lc])}function Hf(n){return Symbol.asyncIterator&&Ae(n?.[Symbol.asyncIterator])}function $f(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Yj(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zf=Yj();function qf(n){return Ae(n?.[zf])}function Wf(n){return Sx(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Hs(t.read());if(i)return yield Hs(void 0);yield yield Hs(r)}}finally{t.releaseLock()}})}function Gf(n){return Ae(n?.getReader)}function st(n){if(n instanceof de)return n;if(n!=null){if(Uf(n))return Qj(n);if(jf(n))return Xj(n);if(Bf(n))return Zj(n);if(Hf(n))return Ax(n);if(qf(n))return Jj(n);if(Gf(n))return eB(n)}throw $f(n)}function Qj(n){return new de(e=>{let t=n[lc]();if(Ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Xj(n){return new de(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Zj(n){return new de(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Mf)})}function Jj(n){return new de(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Ax(n){return new de(e=>{tB(n,e).catch(t=>e.error(t))})}function eB(n){return Ax(Wf(n))}function tB(n,e){var t,r,i,o;return Dx(this,void 0,void 0,function*(){try{for(t=xx(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Pn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function wo(n,e=0){return Se((t,r)=>{t.subscribe(Ce(r,i=>Pn(r,n,()=>r.next(i),e),()=>Pn(r,n,()=>r.complete(),e),i=>Pn(r,n,()=>r.error(i),e)))})}function Eo(n,e=0){return Se((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Rx(n,e){return st(n).pipe(Eo(e),wo(e))}function Mx(n,e){return st(n).pipe(Eo(e),wo(e))}function kx(n,e){return new de(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Px(n,e){return new de(t=>{let r;return Pn(t,e,()=>{r=n[zf](),Pn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}function Kf(n,e){if(!n)throw new Error("Iterable cannot be null");return new de(t=>{Pn(t,e,()=>{let r=n[Symbol.asyncIterator]();Pn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Nx(n,e){return Kf(Wf(n),e)}function Ox(n,e){if(n!=null){if(Uf(n))return Rx(n,e);if(jf(n))return kx(n,e);if(Bf(n))return Mx(n,e);if(Hf(n))return Kf(n,e);if(qf(n))return Px(n,e);if(Gf(n))return Nx(n,e)}throw $f(n)}function ht(n,e){return e?Ox(n,e):st(n)}function X(...n){let e=qr(n);return ht(n,e)}function Io(n,e){let t=Ae(n)?n:()=>n,r=i=>i.error(t());return new de(e?i=>e.schedule(r,0,i):r)}function Yf(n){return!!n&&(n instanceof de||Ae(n.lift)&&Ae(n.subscribe))}var Ii=sc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Fx(n){return n instanceof Date&&!isNaN(n)}function ie(n,e){return Se((t,r)=>{let i=0;t.subscribe(Ce(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:nB}=Array;function rB(n,e){return nB(e)?n(...e):n(e)}function Qf(n){return ie(e=>rB(n,e))}var{isArray:iB}=Array,{getPrototypeOf:oB,prototype:sB,keys:aB}=Object;function Xf(n){if(n.length===1){let e=n[0];if(iB(e))return{args:e,keys:null};if(cB(e)){let t=aB(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function cB(n){return n&&typeof n=="object"&&oB(n)===sB}function Zf(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function mc(...n){let e=qr(n),t=Vf(n),{args:r,keys:i}=Xf(n);if(r.length===0)return ht([],e);let o=new de(lB(r,e,i?s=>Zf(i,s):En));return t?o.pipe(Qf(t)):o}function lB(n,e,t=En){return r=>{Lx(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Lx(e,()=>{let u=ht(n[c],e),d=!1;u.subscribe(Ce(r,p=>{o[c]=p,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Lx(n,e,t){n?Pn(t,n,e):e()}function Vx(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,p=!1,m=()=>{p&&!c.length&&!u&&e.complete()},g=R=>u<r?I(R):c.push(R),I=R=>{o&&e.next(R),u++;let A=!1;st(t(R,d++)).subscribe(Ce(e,F=>{i?.(F),o?g(F):e.next(F)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;c.length&&u<r;){let F=c.shift();s?Pn(e,s,()=>I(F)):I(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(Ce(e,g,()=>{p=!0,m()})),()=>{a?.()}}function Bt(n,e,t=1/0){return Ae(e)?Bt((r,i)=>ie((o,s)=>e(r,o,i,s))(st(n(r,i))),t):(typeof e=="number"&&(t=e),Se((r,i)=>Vx(r,i,n,t)))}function Jf(n=1/0){return Bt(En,n)}function jx(){return Jf(1)}function Co(...n){return jx()(ht(n,qr(n)))}function xu(n){return new de(e=>{st(n()).subscribe(e)})}function Au(...n){let e=Vf(n),{args:t,keys:r}=Xf(n),i=new de(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let p=!1;st(t[d]).subscribe(Ce(o,m=>{p||(p=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(r?Zf(r,a):a),o.complete())}))}});return e?i.pipe(Qf(e)):i}function Bx(n=0,e,t=Ny){let r=-1;return e!=null&&(Lf(e)?t=e:r=e),new de(i=>{let o=Fx(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function $s(...n){let e=qr(n),t=Cx(n,1/0),r=n;return r.length?r.length===1?st(r[0]):Jf(t)(ht(r,e)):Wt}function nt(n,e){return Se((t,r)=>{let i=0;t.subscribe(Ce(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ux(n){return Se((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let u=i;i=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(Ce(t,u=>{r=!0,i=u,o||st(n(u)).subscribe(o=Ce(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function ep(n,e=bo){return Ux(()=>Bx(n,e))}function Wr(n){return Se((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ce(t,void 0,void 0,s=>{o=st(n(s,Wr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Hx(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Ce(s,d=>{let p=u++;c=a?n(c,d,p):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function To(n,e){return Ae(e)?Bt(n,e,1):Bt(n,1)}function Ru(n,e=bo){return Se((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function c(){let u=s+n,d=e.now();if(d<u){i=this.schedule(void 0,u-d),r.add(i);return}a()}t.subscribe(Ce(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Do(n){return Se((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function In(n){return n<=0?()=>Wt:Se((e,t)=>{let r=0;e.subscribe(Ce(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function tp(n,e=En){return n=n??uB,Se((t,r)=>{let i,o=!0;t.subscribe(Ce(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function uB(n,e){return n===e}function np(n=dB){return Se((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function dB(){return new Ii}function Ci(n){return Se((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ti(n,e){let t=arguments.length>=2;return r=>r.pipe(n?nt((i,o)=>n(i,o,r)):En,In(1),t?Do(e):np(()=>new Ii))}function gc(n){return n<=0?()=>Wt:Se((e,t)=>{let r=[];e.subscribe(Ce(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Vy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?nt((i,o)=>n(i,o,r)):En,gc(1),t?Do(e):np(()=>new Ii))}function rp(){return Se((n,e)=>{let t,r=!1;n.subscribe(Ce(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function jy(n,e){return Se(Hx(n,e,arguments.length>=2,!0))}function Mu(n={}){let{connector:e=()=>new Q,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,u=0,d=!1,p=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=c=void 0,d=p=!1},I=()=>{let R=s;g(),R?.unsubscribe()};return Se((R,A)=>{u++,!p&&!d&&m();let F=c=c??e();A.add(()=>{u--,u===0&&!p&&!d&&(a=By(I,i))}),F.subscribe(A),!s&&u>0&&(s=new Ei({next:W=>F.next(W),error:W=>{p=!0,m(),a=By(g,t,W),F.error(W)},complete:()=>{d=!0,m(),a=By(g,r),F.complete()}}),st(R).subscribe(s))})(o)}}function By(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Ei({next:()=>{r.unsubscribe(),n()}});return st(e(...t)).subscribe(r)}function ip(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,Mu({connector:()=>new Du(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ku(n){return nt((e,t)=>n<=t)}function ar(...n){let e=qr(n);return Se((t,r)=>{(e?Co(n,t,e):Co(n,t)).subscribe(r)})}function xt(n,e){return Se((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ce(r,c=>{i?.unsubscribe();let u=0,d=o++;st(n(c,d)).subscribe(i=Ce(r,p=>r.next(e?e(c,p,d,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Cn(n){return Se((e,t)=>{st(n).subscribe(Ce(t,()=>t.complete(),Cu)),!t.closed&&e.subscribe(t)})}function ft(n,e,t){let r=Ae(n)||e||t?{next:n,error:e,complete:t}:n;return r?Se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ce(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):En}function $x(n){let e=he(null);try{return n()}finally{he(e)}}var zx=se(V({},Os),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function qx(n){if(n.dirty=!1,n.version>0&&!Ls(n))return;n.version++;let e=vo(n);try{n.cleanup(),n.fn()}finally{Fs(n,e)}}var So=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Zy=new So("20.3.7");var cp="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",q=class extends Error{code;constructor(e,t){super(xi(e,t)),this.code=e}};function hB(n){return`NG0${Math.abs(n)}`}function xi(n,e){return`${hB(n)}${e?": "+e:""}`}var Ao=globalThis;function Ze(n){for(let e in n)if(n[e]===Ze)return e;throw Error("")}function Kx(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Si(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Si).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function lp(n,e){return n?e?`${n} ${e}`:n:e||""}var fB=Ze({__forward_ref__:Ze});function lr(n){return n.__forward_ref__=lr,n.toString=function(){return Si(this())},n}function tn(n){return Jy(n)?n():n}function Jy(n){return typeof n=="function"&&n.hasOwnProperty(fB)&&n.__forward_ref__===lr}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ge(n){return{providers:n.providers||[],imports:n.imports||[]}}function Lu(n){return pB(n,up)}function eb(n){return Lu(n)!==null}function pB(n,e){return n.hasOwnProperty(e)&&n[e]||null}function mB(n){let e=n?.[up]??null;return e||null}function Hy(n){return n&&n.hasOwnProperty(sp)?n[sp]:null}var up=Ze({\u0275prov:Ze}),sp=Ze({\u0275inj:Ze}),L=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function tb(n){return n&&!!n.\u0275providers}var nb=Ze({\u0275cmp:Ze}),rb=Ze({\u0275dir:Ze}),ib=Ze({\u0275pipe:Ze}),ob=Ze({\u0275mod:Ze}),Nu=Ze({\u0275fac:Ze}),Ys=Ze({__NG_ELEMENT_ID__:Ze}),Wx=Ze({__NG_ENV_ID__:Ze});function vc(n){return typeof n=="string"?n:n==null?"":String(n)}function Yx(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():vc(n)}var Qx=Ze({ngErrorCode:Ze}),gB=Ze({ngErrorMessage:Ze}),_B=Ze({ngTokenPath:Ze});function sb(n,e){return Xx("",-200,e)}function dp(n,e){throw new q(-201,!1)}function Xx(n,e,t){let r=new q(e,n);return r[Qx]=e,r[gB]=n,t&&(r[_B]=t),r}function vB(n){return n[Qx]}var $y;function Zx(){return $y}function zn(n){let e=$y;return $y=n,e}function ab(n,e,t){let r=Lu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;dp(n,"Injector")}var yB={},zs=yB,zy="__NG_DI_FLAG__",qy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=qs(t)||0;try{return this.injector.get(e,r&8?null:zs,r)}catch(i){if(ic(i))return i;throw i}}};function bB(n,e=0){let t=bf();if(t===void 0)throw new q(-203,!1);if(t===null)return ab(n,void 0,e);{let r=wB(e),i=t.retrieve(n,r);if(ic(i)){if(r.optional)return null;throw i}return i}}function J(n,e=0){return(Zx()||bB)(tn(n),e)}function _(n,e){return J(n,qs(e))}function qs(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function wB(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Wy(n){let e=[];for(let t=0;t<n.length;t++){let r=tn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=EB(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(J(i,o))}else e.push(J(r))}return e}function Jx(n,e){return n[zy]=e,n.prototype[zy]=e,n}function EB(n){return n[zy]}function Ws(n,e){let t=n.hasOwnProperty(Nu);return t?n[Nu]:null}function eA(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function tA(n){return n.flat(Number.POSITIVE_INFINITY)}function hp(n,e){n.forEach(t=>Array.isArray(t)?hp(t,e):e(t))}function cb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Vu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function nA(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function rA(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function fp(n,e,t){let r=yc(n,e);return r>=0?n[r|1]=t:(r=~r,rA(n,r,e,t)),r}function pp(n,e){let t=yc(n,e);if(t>=0)return n[t|1]}function yc(n,e){return IB(n,e,1)}function IB(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ro={},hn=[],Gr=new L(""),lb=new L("",-1),ub=new L(""),Ou=class{get(e,t=zs){if(t===zs){let i=Xx("",-201);throw i.name="\u0275NotFound",i}return t}};function db(n){return n[ob]||null}function Ai(n){return n[nb]||null}function hb(n){return n[rb]||null}function iA(n){return n[ib]||null}function fn(n){return{\u0275providers:n}}function oA(n){return fn([{provide:Gr,multi:!0,useValue:n}])}function sA(...n){return{\u0275providers:fb(!0,n),\u0275fromNgModule:!0}}function fb(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return hp(e,s=>{let a=s;ap(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&aA(i,o),t}function aA(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];pb(i,o=>{e(o,r)})}}function ap(n,e,t,r){if(n=tn(n),!n)return!1;let i=null,o=Hy(n),s=!o&&Ai(n);if(!o&&!s){let c=n.ngModule;if(o=Hy(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)ap(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{hp(o.imports,d=>{ap(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&aA(u,e)}if(!a){let u=Ws(i)||(()=>new i);e({provide:i,useFactory:u,deps:hn},i),e({provide:ub,useValue:i,multi:!0},i),e({provide:Gr,useValue:()=>J(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;pb(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function pb(n,e){for(let t of n)tb(t)&&(t=t.\u0275providers),Array.isArray(t)?pb(t,e):e(t)}var CB=Ze({provide:String,useValue:Ze});function cA(n){return n!==null&&typeof n=="object"&&CB in n}function TB(n){return!!(n&&n.useExisting)}function DB(n){return!!(n&&n.useFactory)}function Gs(n){return typeof n=="function"}function lA(n){return!!n.useClass}var ju=new L(""),op={},Gx={},Uy;function bc(){return Uy===void 0&&(Uy=new Ou),Uy}var rt=class{},Ks=class extends rt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Ky(e,s=>this.processProvider(s)),this.records.set(lb,_c(void 0,this)),i.has("environment")&&this.records.set(rt,_c(void 0,this));let o=this.records.get(ju);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ub,hn,{self:!0}))}retrieve(e,t){let r=qs(t)||0;try{return this.get(e,zs,r)}catch(i){if(ic(i))return i;throw i}}destroy(){Pu(this),this._destroyed=!0;let e=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return Pu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Pu(this);let t=zr(this),r=zn(void 0),i;try{return e()}finally{zr(t),zn(r)}}get(e,t=zs,r){if(Pu(this),e.hasOwnProperty(Wx))return e[Wx](this);let i=qs(r),o,s=zr(this),a=zn(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=MB(e)&&Lu(e);d&&this.injectableDefInScope(d)?u=_c(Gy(e),op):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?bc():this.parent;return t=i&8&&t===zs?null:t,c.get(e,t)}catch(c){let u=vB(c);throw u===-200||u===-201?new q(u,null):c}finally{zn(a),zr(s)}}resolveInjectorInitializers(){let e=he(null),t=zr(this),r=zn(void 0),i;try{let o=this.get(Gr,hn,{self:!0});for(let s of o)s()}finally{zr(t),zn(r),he(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Si(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=tn(e);let t=Gs(e)?e:tn(e&&e.provide),r=xB(e);if(!Gs(e)&&e.multi===!0){let i=this.records.get(t);i||(i=_c(void 0,op,!0),i.factory=()=>Wy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=he(null);try{if(t.value===Gx)throw sb(Si(e));return t.value===op&&(t.value=Gx,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&RB(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{he(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=tn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Gy(n){let e=Lu(n),t=e!==null?e.factory:Ws(n);if(t!==null)return t;if(n instanceof L)throw new q(204,!1);if(n instanceof Function)return SB(n);throw new q(204,!1)}function SB(n){if(n.length>0)throw new q(204,!1);let t=mB(n);return t!==null?()=>t.factory(n):()=>new n}function xB(n){if(cA(n))return _c(void 0,n.useValue);{let e=mb(n);return _c(e,op)}}function mb(n,e,t){let r;if(Gs(n)){let i=tn(n);return Ws(i)||Gy(i)}else if(cA(n))r=()=>tn(n.useValue);else if(DB(n))r=()=>n.useFactory(...Wy(n.deps||[]));else if(TB(n))r=(i,o)=>J(tn(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=tn(n&&(n.useClass||n.provide));if(AB(n))r=()=>new i(...Wy(n.deps));else return Ws(i)||Gy(i)}return r}function Pu(n){if(n.destroyed)throw new q(205,!1)}function _c(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function AB(n){return!!n.deps}function RB(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function MB(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Ky(n,e){for(let t of n)Array.isArray(t)?Ky(t,e):t&&tb(t)?Ky(t.\u0275providers,e):e(t)}function Et(n,e){let t;n instanceof Ks?(Pu(n),t=n):t=new qy(n);let r,i=zr(t),o=zn(void 0);try{return e()}finally{zr(i),zn(o)}}function uA(){return Zx()!==void 0||bf()!=null}var Sr=0,le=1,me=2,Ut=3,ur=4,Tn=5,Qs=6,wc=7,It=8,Mo=9,Kr=10,it=11,Ec=12,gb=13,Xs=14,Dn=15,ko=16,Zs=17,Yr=18,Bu=19,_b=20,Di=21,mp=22,Ri=23,qn=24,Js=25,ea=26,_t=27,dA=1,vb=6,Po=7,Uu=8,ta=9,At=10;function Qr(n){return Array.isArray(n)&&typeof n[dA]=="object"}function xr(n){return Array.isArray(n)&&n[dA]===!0}function yb(n){return(n.flags&4)!==0}function No(n){return n.componentOffset>-1}function Ic(n){return(n.flags&1)===1}function Xr(n){return!!n.template}function Cc(n){return(n[me]&512)!==0}function na(n){return(n[me]&256)===256}var bb="svg",hA="math";function dr(n){for(;Array.isArray(n);)n=n[Sr];return n}function wb(n,e){return dr(e[n])}function Ar(n,e){return dr(e[n.index])}function Hu(n,e){return n.data[e]}function fA(n,e){return n[e]}function hr(n,e){let t=e[n];return Qr(t)?t:t[Sr]}function pA(n){return(n[me]&4)===4}function gp(n){return(n[me]&128)===128}function mA(n){return xr(n[Ut])}function Wn(n,e){return e==null?null:n[e]}function Eb(n){n[Zs]=0}function Ib(n){n[me]&1024||(n[me]|=1024,gp(n)&&Oo(n))}function gA(n,e){for(;n>0;)e=e[Xs],n--;return e}function $u(n){return!!(n[me]&9216||n[qn]?.dirty)}function _p(n){n[Kr].changeDetectionScheduler?.notify(8),n[me]&64&&(n[me]|=1024),$u(n)&&Oo(n)}function Oo(n){n[Kr].changeDetectionScheduler?.notify(0);let e=xo(n);for(;e!==null&&!(e[me]&8192||(e[me]|=8192,!gp(e)));)e=xo(e)}function Cb(n,e){if(na(n))throw new q(911,!1);n[Di]===null&&(n[Di]=[]),n[Di].push(e)}function _A(n,e){if(n[Di]===null)return;let t=n[Di].indexOf(e);t!==-1&&n[Di].splice(t,1)}function xo(n){let e=n[Ut];return xr(e)?e[Ut]:e}function Tb(n){return n[wc]??=[]}function Db(n){return n.cleanup??=[]}function vA(n,e,t,r){let i=Tb(e);i.push(t),n.firstCreatePass&&Db(n).push(r,i.length-1)}var ke={lFrame:RA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Yy=!1;function yA(){return ke.lFrame.elementDepthCount}function bA(){ke.lFrame.elementDepthCount++}function Sb(){ke.lFrame.elementDepthCount--}function vp(){return ke.bindingsEnabled}function xb(){return ke.skipHydrationRootTNode!==null}function Ab(n){return ke.skipHydrationRootTNode===n}function Rb(){ke.skipHydrationRootTNode=null}function _e(){return ke.lFrame.lView}function dt(){return ke.lFrame.tView}function ae(n){return ke.lFrame.contextLView=n,n[It]}function ce(n){return ke.lFrame.contextLView=null,n}function Rt(){let n=Mb();for(;n!==null&&n.type===64;)n=n.parent;return n}function Mb(){return ke.lFrame.currentTNode}function wA(){let n=ke.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Tc(n,e){let t=ke.lFrame;t.currentTNode=n,t.isParent=e}function kb(){return ke.lFrame.isParent}function Pb(){ke.lFrame.isParent=!1}function EA(){return ke.lFrame.contextLView}function Nb(){return Yy}function Dc(n){let e=Yy;return Yy=n,e}function IA(){let n=ke.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function CA(n){return ke.lFrame.bindingIndex=n}function Mi(){return ke.lFrame.bindingIndex++}function Ob(n){let e=ke.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function TA(){return ke.lFrame.inI18n}function DA(n,e){let t=ke.lFrame;t.bindingIndex=t.bindingRootIndex=n,yp(e)}function SA(){return ke.lFrame.currentDirectiveIndex}function yp(n){ke.lFrame.currentDirectiveIndex=n}function xA(n){let e=ke.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function bp(){return ke.lFrame.currentQueryIndex}function zu(n){ke.lFrame.currentQueryIndex=n}function kB(n){let e=n[le];return e.type===2?e.declTNode:e.type===1?n[Tn]:null}function Fb(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=kB(o),i===null||(o=o[Xs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ke.lFrame=AA();return r.currentTNode=e,r.lView=n,!0}function wp(n){let e=AA(),t=n[le];ke.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function AA(){let n=ke.lFrame,e=n===null?null:n.child;return e===null?RA(n):e}function RA(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function MA(){let n=ke.lFrame;return ke.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Lb=MA;function Ep(){let n=MA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function kA(n){return(ke.lFrame.contextLView=gA(n,ke.lFrame.contextLView))[It]}function ki(){return ke.lFrame.selectedIndex}function Fo(n){ke.lFrame.selectedIndex=n}function qu(){let n=ke.lFrame;return Hu(n.tView,n.selectedIndex)}function ra(){ke.lFrame.currentNamespace=bb}function Ip(){PB()}function PB(){ke.lFrame.currentNamespace=null}function PA(){return ke.lFrame.currentNamespace}var NA=!0;function Cp(){return NA}function Wu(n){NA=n}function Qy(n,e=null,t=null,r){let i=Vb(n,e,t,r);return i.resolveInjectorInitializers(),i}function Vb(n,e=null,t=null,r,i=new Set){let o=[t||hn,sA(n)];return r=r||(typeof n=="object"?void 0:Si(n)),new Ks(o,e||bc(),r||null,i)}var Te=class n{static THROW_IF_NOT_FOUND=zs;static NULL=new Ou;static create(e,t){if(Array.isArray(e))return Qy({name:""},t,e,"");{let r=e.name??"";return Qy({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:n,providedIn:"any",factory:()=>J(lb)});static __NG_ELEMENT_ID__=-1},ve=new L(""),pn=(()=>{class n{static __NG_ELEMENT_ID__=NB;static __NG_ENV_ID__=t=>t}return n})(),Fu=class extends pn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return na(this._lView)}onDestroy(e){let t=this._lView;return Cb(t,e),()=>_A(t,e)}};function NB(){return new Fu(_e())}var Gt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Nn=new L("",{providedIn:"root",factory:()=>{let n=_(rt),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Gt),e.handleError(t))}}}),OA={provide:Gr,useValue:()=>void _(Gt),multi:!0},OB=new L("",{providedIn:"root",factory:()=>{let n=_(ve).defaultView;if(!n)return;let e=_(Nn),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),_(pn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function jb(){return fn([oA(()=>void _(OB))])}function Lo(n){return typeof n=="function"&&n[St]!==void 0}function ze(n,e){let[t,r,i]=Iy(n,e?.equal),o=t,s=o[St];return o.set=r,o.update=i,o.asReadonly=Tp.bind(o),o}function Tp(){let n=this[St];if(n.readonlyFn===void 0){let e=()=>this();e[St]=n,n.readonlyFn=e}return n.readonlyFn}function Bb(n){return Lo(n)&&typeof n.set=="function"}var ia=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=FB}return n})();function FB(){return new ia(_e(),Rt())}var cr=class{},Sc=new L("",{providedIn:"root",factory:()=>!1});var Ub=new L(""),Hb=new L(""),Zr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new jt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new de(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),Pi=(()=>{class n{internalPendingTasks=_(Zr);scheduler=_(cr);errorHandler=_(Nn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();function oa(...n){}var Gu=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new Xy})}return n})(),Xy=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Fc(n){return{toString:n}.toString()}var Dp="__parameters__";function $B(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function zB(n,e,t){return Fc(()=>{let r=$B(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let p=c.hasOwnProperty(Dp)?c[Dp]:Object.defineProperty(c,Dp,{value:[]})[Dp];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var mn=Jx(zB("Optional"),8);function qB(n){return typeof n=="function"}var Fp=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function gR(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Sn=(()=>{let n=()=>_R;return n.ngInherit=!0,n})();function _R(n){return n.type.prototype.ngOnChanges&&(n.setInput=GB),WB}function WB(){let n=yR(this),e=n?.current;if(e){let t=n.previous;if(t===Ro)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function GB(n,e,t,r,i){let o=this.declaredInputs[r],s=yR(n)||KB(n,{previous:Ro,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Fp(u&&u.currentValue,t,c===Ro),gR(n,e,i,t)}var vR="__ngSimpleChanges__";function yR(n){return n[vR]||null}function KB(n,e){return n[vR]=e}var FA=[];var Je=function(n,e=null,t){for(let r=0;r<FA.length;r++){let i=FA[r];i(n,e,t)}};function YB(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=_R(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function bR(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Mp(n,e,t){wR(n,e,3,t)}function kp(n,e,t,r){(n[me]&3)===t&&wR(n,e,t,r)}function $b(n,e){let t=n[me];(t&3)===e&&(t&=16383,t+=1,n[me]=t)}function wR(n,e,t,r){let i=r!==void 0?n[Zs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Zs]+=65536),(a<o||o==-1)&&(QB(n,t,e,c),n[Zs]=(n[Zs]&4294901760)+c+2),c++}function LA(n,e){Je(4,n,e);let t=he(null);try{e.call(n)}finally{he(t),Je(5,n,e)}}function QB(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[me]>>14<n[Zs]>>16&&(n[me]&3)===e&&(n[me]+=16384,LA(a,o)):LA(a,o)}var Ac=-1,aa=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function XB(n){return(n.flags&8)!==0}function ZB(n){return(n.flags&16)!==0}function JB(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];eU(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function ER(n){return n===3||n===4||n===6}function eU(n){return n.charCodeAt(0)===64}function Rc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?VA(n,t,i,null,e[++r]):VA(n,t,i,null,null))}}return n}function VA(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function IR(n){return n!==Ac}function Lp(n){return n&32767}function tU(n){return n>>16}function Vp(n,e){let t=tU(n),r=e;for(;t>0;)r=r[Xs],t--;return r}var Jb=!0;function jA(n){let e=Jb;return Jb=n,e}var nU=256,CR=nU-1,TR=5,rU=0,Jr={};function iU(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ys)&&(r=t[Ys]),r==null&&(r=t[Ys]=rU++);let i=r&CR,o=1<<i;e.data[n+(i>>TR)]|=o}function jp(n,e){let t=DR(n,e);if(t!==-1)return t;let r=e[le];r.firstCreatePass&&(n.injectorIndex=e.length,zb(r.data,n),zb(e,null),zb(r.blueprint,null));let i=Lw(n,e),o=n.injectorIndex;if(IR(i)){let s=Lp(i),a=Vp(i,e),c=a[le].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function zb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function DR(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Lw(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=MR(i),r===null)return Ac;if(t++,i=i[Xs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ac}function ew(n,e,t){iU(n,e,t)}function oU(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(ER(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function SR(n,e,t){if(t&8||n!==void 0)return n;dp(e,"NodeInjector")}function xR(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Mo],o=zn(void 0);try{return i?i.get(e,r,t&8):ab(e,r,t&8)}finally{zn(o)}}return SR(r,e,t)}function AR(n,e,t,r=0,i){if(n!==null){if(e[me]&2048&&!(r&2)){let s=lU(n,e,t,r,Jr);if(s!==Jr)return s}let o=RR(n,e,t,r,Jr);if(o!==Jr)return o}return xR(e,t,r,i)}function RR(n,e,t,r,i){let o=aU(t);if(typeof o=="function"){if(!Fb(e,n,r))return r&1?SR(i,t,r):xR(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))dp(t);else return s}finally{Lb()}}else if(typeof o=="number"){let s=null,a=DR(n,e),c=Ac,u=r&1?e[Dn][Tn]:null;for((a===-1||r&4)&&(c=a===-1?Lw(n,e):e[a+8],c===Ac||!UA(r,!1)?a=-1:(s=e[le],a=Lp(c),e=Vp(c,e)));a!==-1;){let d=e[le];if(BA(o,a,d.data)){let p=sU(a,e,t,s,r,u);if(p!==Jr)return p}c=e[a+8],c!==Ac&&UA(r,e[le].data[a+8]===u)&&BA(o,a,e)?(s=d,a=Lp(c),e=Vp(c,e)):a=-1}}return i}function sU(n,e,t,r,i,o){let s=e[le],a=s.data[n+8],c=r==null?No(a)&&Jb:r!=s&&(a.type&3)!==0,u=i&1&&o===a,d=Pp(a,s,t,c,u);return d!==null?Qu(e,s,d,a,i):Jr}function Pp(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,p=r?a:a+d,m=i?a+d:u;for(let g=p;g<m;g++){let I=s[g];if(g<c&&t===I||g>=c&&I.type===t)return g}if(i){let g=s[c];if(g&&Xr(g)&&g.type===t)return c}return null}function Qu(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof aa){let a=o;if(a.resolving){let g=Yx(s[t]);throw sb(g)}let c=jA(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],d,p=a.injectImpl?zn(a.injectImpl):null,m=Fb(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&YB(t,s[t],e)}finally{p!==null&&zn(p),jA(c),a.resolving=!1,Lb()}}return o}function aU(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ys)?n[Ys]:void 0;return typeof e=="number"?e>=0?e&CR:cU:e}function BA(n,e,t){let r=1<<n;return!!(t[e+(n>>TR)]&r)}function UA(n,e){return!(n&2)&&!(n&1&&e)}var sa=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return AR(this._tNode,this._lView,e,qs(r),t)}};function cU(){return new sa(Rt(),_e())}function ei(n){return Fc(()=>{let e=n.prototype.constructor,t=e[Nu]||tw(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Nu]||tw(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function tw(n){return Jy(n)?()=>{let e=tw(tn(n));return e&&e()}:Ws(n)}function lU(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[me]&2048&&!Cc(s);){let a=RR(o,s,t,r|2,Jr);if(a!==Jr)return a;let c=o.parent;if(!c){let u=s[_b];if(u){let d=u.get(t,Jr,r);if(d!==Jr)return d}c=MR(s),s=s[Xs]}o=c}return i}function MR(n){let e=n[le],t=e.type;return t===2?e.declTNode:t===1?n[Tn]:null}function nd(n){return oU(Rt(),n)}function uU(){return Lc(Rt(),_e())}function Lc(n,e){return new xe(Ar(n,e))}var xe=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=uU}return n})();function kR(n){return n instanceof xe?n.nativeElement:n}function dU(){return this._results[Symbol.iterator]()}var Ni=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Q}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=tA(e);(this._changesDetected=!eA(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=dU};function PR(n){return(n.flags&128)===128}var Vw=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Vw||{}),NR=new Map,hU=0;function fU(){return hU++}function pU(n){NR.set(n[Bu],n)}function nw(n){NR.delete(n[Bu])}var HA="__ngContext__";function Mc(n,e){Qr(e)?(n[HA]=e[Bu],pU(e)):n[HA]=e}function OR(n){return LR(n[Ec])}function FR(n){return LR(n[ur])}function LR(n){for(;n!==null&&!xr(n);)n=n[ur];return n}var rw;function jw(n){rw=n}function VR(){if(rw!==void 0)return rw;if(typeof document<"u")return document;throw new q(210,!1)}var Vc=new L("",{providedIn:"root",factory:()=>mU}),mU="ng",em=new L(""),ti=new L("",{providedIn:"platform",factory:()=>"unknown"});var rd=new L(""),jc=new L("",{providedIn:"root",factory:()=>VR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var gU="h",_U="b";var jR="r";var BR="di";var UR=!1,HR=new L("",{providedIn:"root",factory:()=>UR});var vU=(n,e,t,r)=>{};function yU(n,e,t,r){vU(n,e,t,r)}function tm(n){return(n.flags&32)===32}var bU=()=>null;function $R(n,e,t=!1){return bU(n,e,t)}function zR(n,e){let t=n.contentQueries;if(t!==null){let r=he(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];zu(o),a.contentQueries(2,e[s],s)}}}finally{he(r)}}}function iw(n,e,t){zu(0);let r=he(null);try{e(n,t)}finally{he(r)}}function Bw(n,e,t){if(yb(e)){let r=he(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{he(r)}}}var Oi=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Oi||{}),Sp;function wU(){if(Sp===void 0&&(Sp=null,Ao.trustedTypes))try{Sp=Ao.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Sp}function nm(n){return wU()?.createHTML(n)||n}var xp;function EU(){if(xp===void 0&&(xp=null,Ao.trustedTypes))try{xp=Ao.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xp}function $A(n){return EU()?.createScriptURL(n)||n}var Fi=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cp})`}},ow=class extends Fi{getTypeName(){return"HTML"}},sw=class extends Fi{getTypeName(){return"Style"}},aw=class extends Fi{getTypeName(){return"Script"}},cw=class extends Fi{getTypeName(){return"URL"}},lw=class extends Fi{getTypeName(){return"ResourceURL"}};function Pr(n){return n instanceof Fi?n.changingThisBreaksApplicationSecurity:n}function Vi(n,e){let t=qR(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${cp})`)}return t===e}function qR(n){return n instanceof Fi&&n.getTypeName()||null}function Uw(n){return new ow(n)}function Hw(n){return new sw(n)}function $w(n){return new aw(n)}function zw(n){return new cw(n)}function qw(n){return new lw(n)}function IU(n){let e=new dw(n);return CU()?new uw(e):e}var uw=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(nm(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},dw=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=nm(e),t}};function CU(){try{return!!new window.DOMParser().parseFromString(nm(""),"text/html")}catch{return!1}}var TU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function id(n){return n=String(n),n.match(TU)?n:"unsafe:"+n}function ji(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function od(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var WR=ji("area,br,col,hr,img,wbr"),GR=ji("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),KR=ji("rp,rt"),DU=od(KR,GR),SU=od(GR,ji("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xU=od(KR,ji("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zA=od(WR,SU,xU,DU),YR=ji("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),AU=ji("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),RU=ji("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),MU=od(YR,AU,RU),kU=ji("script,style,template"),hw=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=OU(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=NU(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=qA(e).toLowerCase();if(!zA.hasOwnProperty(t))return this.sanitizedSomething=!0,!kU.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!MU.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;YR[a]&&(c=id(c)),this.buf.push(" ",s,'="',WA(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=qA(e).toLowerCase();zA.hasOwnProperty(t)&&!WR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(WA(e))}};function PU(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function NU(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw QR(e);return e}function OU(n){let e=n.firstChild;if(e&&PU(n,e))throw QR(e);return e}function qA(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function QR(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var FU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,LU=/([^\#-~ |!])/g;function WA(n){return n.replace(/&/g,"&amp;").replace(FU,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(LU,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ap;function Ww(n,e){let t=null;try{Ap=Ap||IU(n);let r=e?String(e):"";t=Ap.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Ap.getInertBodyElement(r)}while(r!==o);let a=new hw().sanitizeChildren(GA(t)||t);return nm(a)}finally{if(t){let r=GA(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function GA(n){return"content"in n&&VU(n)?n.content:null}function VU(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var nn=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(nn||{});function rn(n){let e=ZR();return e?e.sanitize(nn.URL,n)||"":Vi(n,"URL")?Pr(n):id(vc(n))}function XR(n){let e=ZR();if(e)return $A(e.sanitize(nn.RESOURCE_URL,n)||"");if(Vi(n,"ResourceURL"))return $A(Pr(n));throw new q(904,!1)}function jU(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?XR:rn}function Gw(n,e,t){return jU(e,t)(n)}function ZR(){let n=_e();return n&&n[Kr].sanitizer}var BU=/^>|^->|<!--|-->|--!>|<!-$/g,UU=/(<|>)/g,HU="\u200B$1\u200B";function $U(n){return n.replace(BU,e=>e.replace(UU,HU))}function JR(n){return n instanceof Function?n():n}function zU(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var eM="ng-template";function qU(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&zU(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Kw(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Kw(n){return n.type===4&&n.value!==eM}function WU(n,e,t){let r=n.type===4&&!t?eM:n.value;return e===r}function GU(n,e,t){let r=4,i=n.attrs,o=i!==null?QU(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Rr(r)&&!Rr(c))return!1;if(s&&Rr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!WU(n,c,t)||c===""&&e.length===1){if(Rr(r))return!1;s=!0}}else if(r&8){if(i===null||!qU(n,i,c,t)){if(Rr(r))return!1;s=!0}}else{let u=e[++a],d=KU(c,i,Kw(n),t);if(d===-1){if(Rr(r))return!1;s=!0;continue}if(u!==""){let p;if(d>o?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(Rr(r))return!1;s=!0}}}}return Rr(r)||s}function Rr(n){return(n&1)===0}function KU(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return XU(e,n)}function tM(n,e,t=!1){for(let r=0;r<e.length;r++)if(GU(n,e[r],t))return!0;return!1}function YU(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function QU(n){for(let e=0;e<n.length;e++){let t=n[e];if(ER(t))return e}return n.length}function XU(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function ZU(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function KA(n,e){return n?":not("+e.trim()+")":e}function JU(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Rr(s)&&(e+=KA(o,i),i=""),r=s,o=o||!Rr(r);t++}return i!==""&&(e+=KA(o,i)),e}function eH(n){return n.map(JU).join(",")}function tH(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Rr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Gn={};function nH(n,e){return n.createText(e)}function rH(n,e,t){n.setValue(e,t)}function iH(n,e){return n.createComment($U(e))}function nM(n,e,t){return n.createElement(e,t)}function Bp(n,e,t,r,i){n.insertBefore(e,t,r,i)}function rM(n,e,t){n.appendChild(e,t)}function YA(n,e,t,r,i){r!==null?Bp(n,e,t,r,i):rM(n,e,t)}function iM(n,e,t,r){n.removeChild(null,e,t,r)}function oH(n,e,t){n.setAttribute(e,"style",t)}function sH(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function oM(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&JB(n,e,r),i!==null&&sH(n,e,i),o!==null&&oH(n,e,o)}function Yw(n,e,t,r,i,o,s,a,c,u,d){let p=_t+r,m=p+i,g=aH(p,m),I=typeof u=="function"?u():u;return g[le]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1,ssrId:d}}function aH(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Gn);return t}function cH(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Yw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Qw(n,e,t,r,i,o,s,a,c,u,d){let p=e.blueprint.slice();return p[Sr]=i,p[me]=r|4|128|8|64|1024,(u!==null||n&&n[me]&2048)&&(p[me]|=2048),Eb(p),p[Ut]=p[Xs]=n,p[It]=t,p[Kr]=s||n&&n[Kr],p[it]=a||n&&n[it],p[Mo]=c||n&&n[Mo]||null,p[Tn]=o,p[Bu]=fU(),p[Qs]=d,p[_b]=u,p[Dn]=e.type==2?n[Dn]:p,p}function lH(n,e,t){let r=Ar(e,n),i=cH(t),o=n[Kr].rendererFactory,s=Xw(n,Qw(n,i,null,sM(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function sM(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function aM(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Xw(n,e){return n[Ec]?n[gb][ur]=e:n[Ec]=e,n[gb]=e,e}function O(n=1){cM(dt(),_e(),ki()+n,!1)}function cM(n,e,t,r){if(!r)if((e[me]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Mp(e,o,t)}else{let o=n.preOrderHooks;o!==null&&kp(e,o,0,t)}Fo(t)}var rm=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(rm||{});function fw(n,e,t,r){let i=he(null);try{let[o,s,a]=n.inputs[t],c=null;(s&rm.SignalBased)!==0&&(c=e[o][St]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):gR(e,c,o,r)}finally{he(i)}}var Li=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Li||{}),uH;function Zw(n,e){return uH(n,e)}var kc=new Set,im=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(im||{}),Bo=new L(""),QA=new Set;function Bi(n){QA.has(n)||(QA.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var lM=!1,pw=class extends Q{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,uA()&&(this.destroyRef=_(pn,{optional:!0})??void 0,this.pendingTasks=_(Zr,{optional:!0})??void 0)}emit(e){let t=he(null);try{super.next(e)}finally{he(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ve&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ue=pw;function uM(n){let e,t;function r(){n=oa;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function XA(n){return queueMicrotask(()=>n()),()=>{n=oa}}var Jw="isAngularZone",Up=Jw+"_ID",dH=0,K=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ue(!1);onMicrotaskEmpty=new Ue(!1);onStable=new Ue(!1);onError=new Ue(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=lM}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,pH(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Jw)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,hH,oa,oa);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},hH={};function eE(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fH(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){uM(()=>{n.callbackScheduled=!1,mw(n),n.isCheckStableRunning=!0,eE(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),mw(n)}function pH(n){let e=()=>{fH(n)},t=dH++;n._inner=n._inner.fork({name:"angular",properties:{[Jw]:!0,[Up]:t,[Up+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(mH(c))return r.invokeTask(o,s,a,c);try{return ZA(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),JA(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return ZA(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!gH(c)&&e(),JA(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,mw(n),eE(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function mw(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function ZA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function JA(n){n._nesting--,eE(n)}var Hp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ue;onMicrotaskEmpty=new Ue;onStable=new Ue;onError=new Ue;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function mH(n){return dM(n,"__ignore_ng_zone__")}function gH(n){return dM(n,"__scheduler_tick__")}function dM(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var om=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),tE=[0,1,2,3],nE=(()=>{class n{ngZone=_(K);scheduler=_(cr);errorHandler=_(Gt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){_(Bo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Je(16),this.executing=!0;for(let r of tE)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Je(17)}register(t){let{view:r}=t;r!==void 0?((r[Js]??=[]).push(t),Oo(r),r[me]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(im.AFTER_NEXT_RENDER,t):t()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),Xu=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Js];e&&(this.view[Js]=e.filter(t=>t!==this))}};function ni(n,e){let t=e?.injector??_(Te);return Bi("NgAfterNextRender"),vH(n,t,e,!0)}function _H(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function vH(n,e,t,r){let i=e.get(om);i.impl??=e.get(nE);let o=e.get(Bo,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(pn):null,a=e.get(ia,null,{optional:!0}),c=new Xu(i.impl,_H(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var yH=new L("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function hM(n,e){let t=n.get(yH);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function bH(n,e){for(let[t,r]of e)hM(n,r.animateFns)}function eR(n,e,t,r){let i=n?.[ea]?.enter;e!==null&&i&&i.has(t.index)&&bH(r,i)}function xc(n,e,t,r,i,o,s,a){if(i!=null){let c,u=!1;xr(i)?c=i:Qr(i)&&(u=!0,i=i[Sr]);let d=dr(i);n===0&&r!==null?(eR(a,r,o,t),s==null?rM(e,r,d):Bp(e,r,d,s||null,!0)):n===1&&r!==null?(eR(a,r,o,t),Bp(e,r,d,s||null,!0)):n===2?tR(a,o,t,p=>{iM(e,d,u,p)}):n===3&&tR(a,o,t,()=>{e.destroyNode(d)}),c!=null&&MH(e,n,t,c,o,r,s)}}function wH(n,e){fM(n,e),e[Sr]=null,e[Tn]=null}function EH(n,e,t,r,i,o){r[Sr]=i,r[Tn]=e,am(n,r,t,1,i,o)}function fM(n,e){e[Kr].changeDetectionScheduler?.notify(9),am(n,e,e[it],2,null,null)}function IH(n){let e=n[Ec];if(!e)return qb(n[le],n);for(;e;){let t=null;if(Qr(e))t=e[Ec];else{let r=e[At];r&&(t=r)}if(!t){for(;e&&!e[ur]&&e!==n;)Qr(e)&&qb(e[le],e),e=e[Ut];e===null&&(e=n),Qr(e)&&qb(e[le],e),t=e&&e[ur]}e=t}}function rE(n,e){let t=n[ta],r=t.indexOf(e);t.splice(r,1)}function sm(n,e){if(na(e))return;let t=e[it];t.destroyNode&&am(n,e,t,3,null,null),IH(e)}function qb(n,e){if(na(e))return;let t=he(null);try{e[me]&=-129,e[me]|=256,e[qn]&&yo(e[qn]),DH(n,e),TH(n,e),e[le].type===1&&e[it].destroy();let r=e[ko];if(r!==null&&xr(e[Ut])){r!==e[Ut]&&rE(r,e);let i=e[Yr];i!==null&&i.detachView(n)}nw(e)}finally{he(t)}}function tR(n,e,t,r){let i=n?.[ea];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);n&&kc.add(n),hM(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s)for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:d}=u();a.push(d)}i.running=Promise.allSettled(a),CH(n,r)}else n&&kc.delete(n),r(!1)})}function CH(n,e){let t=n[ea]?.running;if(t){t.then(()=>{n[ea].running=void 0,kc.delete(n),e(!0)});return}e(!1)}function TH(n,e){let t=n.cleanup,r=e[wc];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[wc]=null);let i=e[Di];if(i!==null){e[Di]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ri];if(o!==null){e[Ri]=null;for(let s of o)s.destroy()}}function DH(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof aa)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Je(4,a,c);try{c.call(a)}finally{Je(5,a,c)}}else{Je(4,i,o);try{o.call(i)}finally{Je(5,i,o)}}}}}function pM(n,e,t){return SH(n,e.parent,t)}function SH(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Sr];if(No(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Oi.None||i===Oi.Emulated)return null}return Ar(r,t)}function mM(n,e,t){return AH(n,e,t)}function xH(n,e,t){return n.type&40?Ar(n,t):null}var AH=xH,nR;function iE(n,e,t,r){let i=pM(n,r,e),o=e[it],s=r.parent||e[Tn],a=mM(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)YA(o,i,t[c],a,!1);else YA(o,i,t,a,!1);nR!==void 0&&nR(o,r,e,t,i)}function Ku(n,e){if(e!==null){let t=e.type;if(t&3)return Ar(e,n);if(t&4)return gw(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ku(n,r);{let i=n[e.index];return xr(i)?gw(-1,i):dr(i)}}else{if(t&128)return Ku(n,e.next);if(t&32)return Zw(e,n)()||dr(n[e.index]);{let r=gM(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=xo(n[Dn]);return Ku(i,r)}else return Ku(n,e.next)}}}return null}function gM(n,e){if(e!==null){let r=n[Dn][Tn],i=e.projection;return r.projection[i]}return null}function gw(n,e){let t=At+n+1;if(t<e.length){let r=e[t],i=r[le].firstChild;if(i!==null)return Ku(r,i)}return e[Po]}function oE(n,e,t,r,i,o,s){for(;t!=null;){let a=r[Mo];if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&Mc(dr(c),r),t.flags|=2),!tm(t))if(u&8)oE(n,e,t.child,r,i,o,!1),xc(e,n,a,i,c,t,o,r);else if(u&32){let d=Zw(t,r),p;for(;p=d();)xc(e,n,a,i,p,t,o,r);xc(e,n,a,i,c,t,o,r)}else u&16?_M(n,e,r,t,i,o):xc(e,n,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function am(n,e,t,r,i,o){oE(t,r,n.firstChild,e,i,o,!1)}function RH(n,e,t){let r=e[it],i=pM(n,t,e),o=t.parent||e[Tn],s=mM(o,t,e);_M(r,0,e,t,i,s)}function _M(n,e,t,r,i,o){let s=t[Dn],c=s[Tn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];xc(e,n,t[Mo],i,d,r,o,t)}else{let u=c,d=s[Ut];PR(r)&&(u.flags|=128),oE(n,e,u,d,i,o,!0)}}function MH(n,e,t,r,i,o,s){let a=r[Po],c=dr(r);a!==c&&xc(e,n,t,o,a,i,s);for(let u=At;u<r.length;u++){let d=r[u];am(d[le],d,n,e,o,a)}}function kH(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Li.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Li.Important),n.setStyle(t,r,i,o))}}function vM(n,e,t,r,i){let o=ki(),s=r&2;try{Fo(-1),s&&e.length>_t&&cM(n,e,_t,!1),Je(s?2:0,i,t),t(r,i)}finally{Fo(o),Je(s?3:1,i,t)}}function cm(n,e,t){VH(n,e,t),(t.flags&64)===64&&jH(n,e,t)}function sd(n,e,t=Ar){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function PH(n,e,t,r){let o=r.get(HR,UR)||t===Oi.ShadowDom,s=n.selectRootElement(e,o);return NH(s),s}function NH(n){OH(n)}var OH=()=>null;function FH(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function yM(n,e,t,r,i,o){let s=e[le];if(lE(n,s,e,t,r)){No(n)&&LH(e,n.index);return}n.type&3&&(t=FH(t)),bM(n,e,t,r,i,o)}function bM(n,e,t,r,i,o){if(n.type&3){let s=Ar(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function LH(n,e){let t=hr(e,n);t[me]&16||(t[me]|=64)}function VH(n,e,t){let r=t.directiveStart,i=t.directiveEnd;No(t)&&lH(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||jp(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Qu(e,n,s,t);if(Mc(c,e),o!==null&&$H(e,s-r,c,a,t,o),Xr(a)){let u=hr(t.index,e);u[It]=Qu(e,n,s,t)}}}function jH(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=SA();try{Fo(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];yp(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&BH(c,u)}}finally{Fo(-1),yp(s)}}function BH(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function sE(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];tM(e,o.selectors,!1)&&(r??=[],Xr(o)?r.unshift(o):r.push(o))}return r}function UH(n,e,t,r,i,o){let s=Ar(n,e);HH(e[it],s,o,n.value,t,r,i)}function HH(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?vc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function $H(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];fw(r,t,c,u)}}function aE(n,e,t,r,i){let o=_t+t,s=e[le],a=i(s,e,n,r,t);e[o]=a,Tc(n,!0);let c=n.type===2;return c?(oM(e[it],a,n),(yA()===0||Ic(n))&&Mc(a,e),bA()):Mc(a,e),Cp()&&(!c||!tm(n))&&iE(s,e,a,n),n}function cE(n){let e=n;return kb()?Pb():(e=e.parent,Tc(e,!1)),e}function zH(n,e){let t=n[Mo];if(!t)return;let r;try{r=t.get(Nn,null)}catch{r=null}r?.(e)}function lE(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],p=e.data[u];fw(p,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];fw(d,u,r,i),a=!0}return a}function qH(n,e){let t=hr(e,n),r=t[le];WH(r,t);let i=t[Sr];i!==null&&t[Qs]===null&&(t[Qs]=$R(i,t[Mo])),Je(18),uE(r,t,t[It]),Je(19,t[It])}function WH(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function uE(n,e,t){wp(e);try{let r=n.viewQuery;r!==null&&iw(1,r,t);let i=n.template;i!==null&&vM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Yr]?.finishViewCreation(n),n.staticContentQueries&&zR(n,e),n.staticViewQueries&&iw(2,n.viewQuery,t);let o=n.components;o!==null&&GH(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[me]&=-5,Ep()}}function GH(n,e){for(let t=0;t<e.length;t++)qH(n,e[t])}function ad(n,e,t,r){let i=he(null);try{let o=e.tView,a=n[me]&4096?4096:16,c=Qw(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[ko]=u;let d=n[Yr];return d!==null&&(c[Yr]=d.createEmbeddedView(o)),uE(o,c,t),c}finally{he(i)}}function Pc(n,e){return!e||e.firstChild===null||PR(n)}function Zu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(dr(o)),xr(o)&&wM(o,r);let s=t.type;if(s&8)Zu(n,e,t.child,r);else if(s&32){let a=Zw(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=gM(e,t);if(Array.isArray(a))r.push(...a);else{let c=xo(e[Dn]);Zu(c[le],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function wM(n,e){for(let t=At;t<n.length;t++){let r=n[t],i=r[le].firstChild;i!==null&&Zu(r[le],r,i,e)}n[Po]!==n[Sr]&&e.push(n[Po])}function EM(n){if(n[Js]!==null){for(let e of n[Js])e.impl.addSequence(e);n[Js].length=0}}var IM=[];function KH(n){return n[qn]??YH(n)}function YH(n){let e=IM.pop()??Object.create(XH);return e.lView=n,e}function QH(n){n.lView[qn]!==n&&(n.lView=null,IM.push(n))}var XH=se(V({},Os),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Oo(n.lView)},consumerOnSignalRead(){this.lView[qn]=this}});function ZH(n){let e=n[qn]??Object.create(JH);return e.lView=n,e}var JH=se(V({},Os),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=xo(n.lView);for(;e&&!CM(e[le]);)e=xo(e);e&&Ib(e)},consumerOnSignalRead(){this.lView[qn]=this}});function CM(n){return n.type!==2}function TM(n){if(n[Ri]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ri])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[me]&8192)}}var e$=100;function DM(n,e=0){let r=n[Kr].rendererFactory,i=!1;i||r.begin?.();try{t$(n,e)}finally{i||r.end?.()}}function t$(n,e){let t=Nb();try{Dc(!0),_w(n,e);let r=0;for(;$u(n);){if(r===e$)throw new q(103,!1);r++,_w(n,1)}}finally{Dc(t)}}function n$(n,e,t,r){if(na(e))return;let i=e[me],o=!1,s=!1;wp(e);let a=!0,c=null,u=null;o||(CM(n)?(u=KH(e),c=vo(u)):Tf()===null?(a=!1,u=ZH(e),c=vo(u)):e[qn]&&(yo(e[qn]),e[qn]=null));try{Eb(e),CA(n.bindingStartIndex),t!==null&&vM(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let g=n.preOrderCheckHooks;g!==null&&Mp(e,g,null)}else{let g=n.preOrderHooks;g!==null&&kp(e,g,0,null),$b(e,0)}if(s||r$(e),TM(e),SM(e,0),n.contentQueries!==null&&zR(n,e),!o)if(d){let g=n.contentCheckHooks;g!==null&&Mp(e,g)}else{let g=n.contentHooks;g!==null&&kp(e,g,1),$b(e,1)}o$(n,e);let p=n.components;p!==null&&AM(e,p,0);let m=n.viewQuery;if(m!==null&&iw(2,m,r),!o)if(d){let g=n.viewCheckHooks;g!==null&&Mp(e,g)}else{let g=n.viewHooks;g!==null&&kp(e,g,2),$b(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[mp]){for(let g of e[mp])g();e[mp]=null}o||(EM(e),e[me]&=-73)}catch(d){throw o||Oo(e),d}finally{u!==null&&(Fs(u,c),a&&QH(u)),Ep()}}function SM(n,e){for(let t=OR(n);t!==null;t=FR(t))for(let r=At;r<t.length;r++){let i=t[r];xM(i,e)}}function r$(n){for(let e=OR(n);e!==null;e=FR(e)){if(!(e[me]&2))continue;let t=e[ta];for(let r=0;r<t.length;r++){let i=t[r];Ib(i)}}}function i$(n,e,t){Je(18);let r=hr(e,n);xM(r,t),Je(19,r[It])}function xM(n,e){gp(n)&&_w(n,e)}function _w(n,e){let r=n[le],i=n[me],o=n[qn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ls(o)),s||=!1,o&&(o.dirty=!1),n[me]&=-9217,s)n$(r,n,r.template,n[It]);else if(i&8192){let a=he(null);try{TM(n),SM(n,1);let c=r.components;c!==null&&AM(n,c,1),EM(n)}finally{he(a)}}}function AM(n,e,t){for(let r=0;r<e.length;r++)i$(n,e[r],t)}function o$(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Fo(~i);else{let o=i,s=t[++r],a=t[++r];DA(s,o);let c=e[o];Je(24,c),a(2,c),Je(25,c)}}}finally{Fo(-1)}}function dE(n,e){let t=Nb()?64:1088;for(n[Kr].changeDetectionScheduler?.notify(e);n;){n[me]|=t;let r=xo(n);if(Cc(n)&&!r)return n;n=r}return null}function RM(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function MM(n,e){let t=At+e;if(t<n.length)return n[t]}function cd(n,e,t,r=!0){let i=e[le];if(s$(i,e,n,t),r){let s=gw(t,n),a=e[it],c=a.parentNode(n[Po]);c!==null&&EH(i,n[Tn],a,e,c,s)}let o=e[Qs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function kM(n,e){let t=Ju(n,e);return t!==void 0&&sm(t[le],t),t}function Ju(n,e){if(n.length<=At)return;let t=At+e,r=n[t];if(r){let i=r[ko];i!==null&&i!==n&&rE(i,r),e>0&&(n[t-1][ur]=r[ur]);let o=Vu(n,At+e);wH(r[le],r);let s=o[Yr];s!==null&&s.detachView(o[le]),r[Ut]=null,r[ur]=null,r[me]&=-129}return r}function s$(n,e,t,r){let i=At+r,o=t.length;r>0&&(t[i-1][ur]=e),r<o-At?(e[ur]=t[i],cb(t,At+r,e)):(t.push(e),e[ur]=null),e[Ut]=t;let s=e[ko];s!==null&&t!==s&&PM(s,e);let a=e[Yr];a!==null&&a.insertView(n),_p(e),e[me]|=128}function PM(n,e){let t=n[ta],r=e[Ut];if(Qr(r))n[me]|=2;else{let i=r[Ut][Dn];e[Dn]!==i&&(n[me]|=2)}t===null?n[ta]=[e]:t.push(e)}var Vo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[le];return Zu(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[It]}set context(e){this._lView[It]=e}get destroyed(){return na(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ut];if(xr(e)){let t=e[Uu],r=t?t.indexOf(this):-1;r>-1&&(Ju(e,r),Vu(t,r))}this._attachedToViewContainer=!1}sm(this._lView[le],this._lView)}onDestroy(e){Cb(this._lView,e)}markForCheck(){dE(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[me]&=-129}reattach(){_p(this._lView),this._lView[me]|=128}detectChanges(){this._lView[me]|=1024,DM(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Cc(this._lView),t=this._lView[ko];t!==null&&!e&&rE(t,this._lView),fM(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let t=Cc(this._lView),r=this._lView[ko];r!==null&&!t&&PM(r,this._lView),_p(this._lView)}};var kr=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=a$;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=ad(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Vo(o)}}return n})();function a$(){return lm(Rt(),_e())}function lm(n,e){return n.type&4?new kr(e,n,Lc(n,e)):null}function Bc(n,e,t,r,i){let o=n.data[e];if(o===null)o=c$(n,e,t,r,i),TA()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=wA();o.injectorIndex=s===null?-1:s.injectorIndex}return Tc(o,!0),o}function c$(n,e,t,r,i){let o=Mb(),s=kb(),a=s?o:o&&o.parent,c=n.data[e]=u$(n,a,t,e,r,i);return l$(n,c,o,s),c}function l$(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function u$(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return xb()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Yoe=new RegExp(`^(\\d+)*(${_U}|${gU})*(.*)`);function d$(n){let e=n[vb]??[],r=n[Ut][it],i=[];for(let o of e)o.data[BR]!==void 0?i.push(o):h$(o,r);n[vb]=i}function h$(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[jR];for(;t<i;){let o=r.nextSibling;iM(e,r,!1),r=o,t++}}}var f$=()=>null,p$=()=>null;function $p(n,e){return f$(n,e)}function NM(n,e,t){return p$(n,e,t)}var OM=class{},um=class{},vw=class{resolveComponentFactory(e){throw new q(917,!1)}},ld=class{static NULL=new vw},Mt=class{},Ht=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>m$()}return n})();function m$(){let n=_e(),e=Rt(),t=hr(e.index,n);return(Qr(t)?t:n)[it]}var FM=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>null})}return n})();var Np={},yw=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Np,r);return i!==Np||t===Np?i:this.parentInjector.get(e,t,r)}};function zp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=lp(i,a);else if(o==2){let c=a,u=e[++s];r=lp(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ge(n,e=0){let t=_e();if(t===null)return J(n,e);let r=Rt();return AR(r,t,tn(n),e)}function dm(){let n="invalid";throw new Error(n)}function LM(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,u]=d.resolveHostDirectives(s);break}v$(n,e,t,a,o,c,u)}o!==null&&r!==null&&g$(t,r,o)}function g$(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}function _$(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function v$(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let m=0;m<a;m++){let g=r[m];!c&&Xr(g)&&(c=!0,_$(n,t,m)),ew(jp(t,e),n,g.type)}C$(t,n.data.length,a);for(let m=0;m<a;m++){let g=r[m];g.providersResolver&&g.providersResolver(g)}let u=!1,d=!1,p=aM(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let g=r[m];if(t.mergedAttrs=Rc(t.mergedAttrs,g.hostAttrs),b$(n,t,e,p,g),I$(p,g,i),s!==null&&s.has(g)){let[R,A]=s.get(g);t.directiveToIndex.set(g.type,[p,R+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(g))&&t.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let I=g.type.prototype;!u&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(I.ngOnChanges||I.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),p++}y$(n,t,o)}function y$(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))rR(0,e,i,r),rR(1,e,i,r),oR(e,r,!1);else{let o=t.get(i);iR(0,e,o,r),iR(1,e,o,r),oR(e,r,!0)}}}function rR(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),VM(e,o)}}function iR(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),VM(e,s)}}function VM(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function oR(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Kw(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function b$(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ws(i.type,!0)),s=new aa(o,Xr(i),Ge,null);n.blueprint[r]=s,t[r]=s,w$(n,e,r,aM(n,t,i.hostVars,Gn),i)}function w$(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;E$(s)!=a&&s.push(a),s.push(t,r,o)}}function E$(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function I$(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Xr(e)&&(t[""]=n)}}function C$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function hE(n,e,t,r,i,o,s,a){let c=e[le],u=c.consts,d=Wn(u,s),p=Bc(c,n,t,r,d);return o&&LM(c,e,p,Wn(u,a),i),p.mergedAttrs=Rc(p.mergedAttrs,p.attrs),p.attrs!==null&&zp(p,p.attrs,!1),p.mergedAttrs!==null&&zp(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function fE(n,e){bR(n,e),yb(e)&&n.queries.elementEnd(e)}function T$(n,e,t,r,i,o){let s=e.consts,a=Wn(s,i),c=Bc(e,n,t,r,a);if(c.mergedAttrs=Rc(c.mergedAttrs,c.attrs),o!=null){let u=Wn(s,o);c.localNames=[];for(let d=0;d<u.length;d+=2)c.localNames.push(u[d],-1)}return c.attrs!==null&&zp(c,c.attrs,!1),c.mergedAttrs!==null&&zp(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function D$(n,e,t){return n[e]=t}function S$(n,e){return n[e]}function ri(n,e,t){if(t===Gn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Op(n,e,t){return function r(i){let o=No(n)?hr(n.index,e):e;dE(o,5);let s=e[It],a=sR(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=sR(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function sR(n,e,t,r){let i=he(null);try{return Je(6,e,t),t(r)!==!1}catch(o){return zH(n,o),!1}finally{Je(7,e,t),he(i)}}function jM(n,e,t,r,i,o,s,a){let c=Ic(n),u=!1,d=null;if(!r&&c&&(d=A$(e,t,o,n.index)),d!==null){let p=d.__ngLastListenerFn__||d;p.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let p=Ar(n,t),m=r?r(p):p;yU(t,m,o,a);let g=i.listen(m,o,a);if(!x$(o)){let I=r?R=>r(dr(R[n.index])):n.index;BM(I,e,t,o,a,g,!1)}}return u}function x$(n){return n.startsWith("animation")||n.startsWith("transition")}function A$(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[wc],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function BM(n,e,t,r,i,o,s){let a=e.firstCreatePass?Db(e):null,c=Tb(t),u=c.length;c.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function aR(n,e,t,r,i,o){let s=e[t],a=e[le],u=a.data[t].outputs[r],p=s[u].subscribe(o);BM(n.index,a,e,i,o,p,!0)}var bw=Symbol("BINDING");var qp=class extends ld{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ai(e);return new ca(t,this.ngModule)}};function R$(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&rm.SignalBased)!==0};return i&&(o.transform=i),o})}function M$(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function k$(n,e,t){let r=e instanceof rt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new yw(t,r):t}function P$(n){let e=n.get(Mt,null);if(e===null)throw new q(407,!1);let t=n.get(FM,null),r=n.get(cr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function N$(n,e){let t=UM(n);return nM(e,t,t==="svg"?bb:t==="math"?hA:null)}function UM(n){return(n.selectors[0][0]||"div").toLowerCase()}var ca=class extends um{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=R$(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=M$(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=eH(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Je(22);let a=he(null);try{let c=this.componentDef,u=O$(r,c,s,o),d=k$(c,i||this.ngModule,e),p=P$(d),m=p.rendererFactory.createRenderer(null,c),g=r?PH(m,r,c.encapsulation,d):N$(c,m),I=s?.some(cR)||o?.some(F=>typeof F!="function"&&F.bindings.some(cR)),R=Qw(null,u,null,512|sM(c),null,null,p,m,d,null,$R(g,d,!0));R[_t]=g,wp(R);let A=null;try{let F=hE(_t,R,2,"#host",()=>u.directiveRegistry,!0,0);oM(m,g,F),Mc(g,R),cm(u,R,F),Bw(u,F,R),fE(u,F),t!==void 0&&L$(F,this.ngContentSelectors,t),A=hr(F.index,R),R[It]=A[It],uE(u,R,null)}catch(F){throw A!==null&&nw(A),nw(R),F}finally{Je(23),Ep()}return new Wp(this.componentType,R,!!I)}finally{he(a)}}};function O$(n,e,t,r){let i=n?["ng-version","20.3.7"]:tH(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[bw].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let p=r[d];if(typeof p!="function")for(let m of p.bindings){a+=m[bw].requiredVars;let g=d+1;m.create&&(m.targetIdx=g,(o??=[]).push(m)),m.update&&(m.targetIdx=g,(s??=[]).push(m))}}let c=[e];if(r)for(let d of r){let p=typeof d=="function"?d:d.type,m=hb(p);c.push(m)}return Yw(0,null,F$(o,s),1,a,c,null,null,null,[i],null)}function F$(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function cR(n){let e=n[bw].kind;return e==="input"||e==="twoWay"}var Wp=class extends OM{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Hu(t[le],_t),this.location=Lc(this._tNode,t),this.instance=hr(this._tNode.index,t)[It],this.hostView=this.changeDetectorRef=new Vo(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=lE(r,i[le],i,e,t);this.previousInputValues.set(e,t);let s=hr(r.index,i);dE(s,1)}get injector(){return new sa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function L$(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Kn=(()=>{class n{static __NG_ELEMENT_ID__=V$}return n})();function V$(){let n=Rt();return $M(n,_e())}var j$=Kn,HM=class extends j${_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Lc(this._hostTNode,this._hostLView)}get injector(){return new sa(this._hostTNode,this._hostLView)}get parentInjector(){let e=Lw(this._hostTNode,this._hostLView);if(IR(e)){let t=Vp(e,this._hostLView),r=Lp(e),i=t[le].data[r+8];return new sa(i,t)}else return new sa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=lR(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-At}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$p(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Pc(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!qB(e),u;if(c)u=t;else{let A=t||{};u=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,a=A.bindings}let d=c?e:new ca(Ai(e)),p=r||this.parentInjector;if(!o&&d.ngModule==null){let F=(c?p:this.parentInjector).get(rt,null);F&&(o=F)}let m=Ai(d.componentType??{}),g=$p(this._lContainer,m?.id??null),I=g?.firstChild??null,R=d.create(p,i,I,o,s,a);return this.insertImpl(R.hostView,u,Pc(this._hostTNode,g)),R}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(mA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ut],u=new HM(c,c[Tn],c[Ut]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return cd(s,i,o,r),e.attachToViewContainerRef(),cb(Wb(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=lR(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ju(this._lContainer,t);r&&(Vu(Wb(this._lContainer),t),sm(r[le],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ju(this._lContainer,t);return r&&Vu(Wb(this._lContainer),t)!=null?new Vo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function lR(n){return n[Uu]}function Wb(n){return n[Uu]||(n[Uu]=[])}function $M(n,e){let t,r=e[n.index];return xr(r)?t=r:(t=RM(r,e,null,n),e[n.index]=t,Xw(e,t)),U$(t,e,n,r),new HM(t,n,e)}function B$(n,e){let t=n[it],r=t.createComment(""),i=Ar(e,n),o=t.parentNode(i);return Bp(t,o,r,t.nextSibling(i),!1),r}var U$=z$,H$=()=>!1;function $$(n,e,t){return H$(n,e,t)}function z$(n,e,t,r){if(n[Po])return;let i;t.type&8?i=dr(r):i=B$(e,t),n[Po]=i}var ww=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Ew=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)mE(e,t).matches!==null&&this.queries[t].setDirty()}},Gp=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Y$(e):this.predicate=e}},Iw=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Cw=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,q$(t,o)),this.matchTNodeWithReadOption(e,t,Pp(t,e,o,!1,!1))}else r===kr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Pp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===xe||i===Kn||i===kr&&t.type&4)this.addMatch(t.index,-2);else{let o=Pp(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function q$(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function W$(n,e){return n.type&11?Lc(n,e):n.type&4?lm(n,e):null}function G$(n,e,t,r){return t===-1?W$(e,n):t===-2?K$(n,e,r):Qu(n,n[le],t,e)}function K$(n,e,t){if(t===xe)return Lc(e,n);if(t===kr)return lm(e,n);if(t===Kn)return $M(e,n)}function zM(n,e,t,r){let i=e[Yr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(G$(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Tw(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=zM(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let p=At;p<d.length;p++){let m=d[p];m[ko]===m[Ut]&&Tw(m[le],m,u,r)}if(d[ta]!==null){let p=d[ta];for(let m=0;m<p.length;m++){let g=p[m];Tw(g[le],g,u,r)}}}}}return r}function pE(n,e){return n[Yr].queries[e].queryList}function qM(n,e,t){let r=new Ni((t&4)===4);return vA(n,e,r,r.destroy),(e[Yr]??=new Ew).queries.push(new ww(r))-1}function WM(n,e,t){let r=dt();return r.firstCreatePass&&(KM(r,new Gp(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),qM(r,_e(),e)}function GM(n,e,t,r){let i=dt();if(i.firstCreatePass){let o=Rt();KM(i,new Gp(e,t,r),o.index),Q$(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return qM(i,_e(),t)}function Y$(n){return n.split(",").map(e=>e.trim())}function KM(n,e,t){n.queries===null&&(n.queries=new Iw),n.queries.track(new Cw(e,t))}function Q$(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function mE(n,e){return n.queries.getByIndex(e)}function YM(n,e){let t=n[le],r=mE(t,e);return r.crossesNgTemplate?Tw(t,n,e,[]):zM(t,n,r,e)}function QM(n,e,t){let r,i=Eu(()=>{r._dirtyCounter();let o=X$(r,n);if(e&&o===void 0)throw new q(-951,!1);return o});return r=i[St],r._dirtyCounter=ze(0),r._flatValue=void 0,i}function gE(n){return QM(!0,!1,n)}function _E(n){return QM(!0,!0,n)}function XM(n,e){let t=n[St];t._lView=_e(),t._queryIndex=e,t._queryList=pE(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function X$(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[me]&4)return e?void 0:hn;let i=pE(t,r),o=YM(t,r);return i.reset(o,kR),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}var jo=class{},hm=class{};var Kp=class extends jo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new qp(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=db(e);this._bootstrapComponents=JR(o.bootstrap),this._r3Injector=Vb(e,t,[{provide:jo,useValue:this},{provide:ld,useValue:this.componentFactoryResolver},...r],Si(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yp=class extends hm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Kp(this.moduleType,e,[])}};var ed=class extends jo{injector;componentFactoryResolver=new qp(this);instance=null;constructor(e){super();let t=new Ks([...e.providers,{provide:jo,useValue:this},{provide:ld,useValue:this.componentFactoryResolver}],e.parent||bc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ud(n,e,t=null){return new ed({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Z$=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=fb(!1,t.type),i=r.length>0?ud([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(J(rt))})}return n})();function Z(n){return Fc(()=>{let e=ZM(n),t=se(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Vw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Z$).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Oi.Emulated,styles:n.styles||hn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Bi("NgStandalone"),JM(t);let r=n.dependencies;return t.directiveDefs=uR(r,J$),t.pipeDefs=uR(r,iA),t.id=nz(t),t})}function J$(n){return Ai(n)||hb(n)}function Ee(n){return Fc(()=>({type:n.type,bootstrap:n.bootstrap||hn,declarations:n.declarations||hn,imports:n.imports||hn,exports:n.exports||hn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ez(n,e){if(n==null)return Ro;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=rm.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function tz(n){if(n==null)return Ro;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ue(n){return Fc(()=>{let e=ZM(n);return JM(e),e})}function ZM(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ro,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||hn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:ez(n.inputs,e),outputs:tz(n.outputs),debugInfo:null}}function JM(n){n.features?.forEach(e=>e(n))}function uR(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function nz(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function rz(n){return Object.getPrototypeOf(n.prototype).constructor}function $t(n){let e=rz(n.type),t=!0,r=[n];for(;e;){let i;if(Xr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Gb(n.inputs),s.declaredInputs=Gb(n.declaredInputs),s.outputs=Gb(n.outputs);let a=i.hostBindings;a&&cz(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&sz(n,c),u&&az(n,u),iz(n,i),Kx(n.outputs,i.outputs),Xr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===$t&&(t=!1)}}e=Object.getPrototypeOf(e)}oz(r)}function iz(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function oz(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rc(i.hostAttrs,t=Rc(t,i.hostAttrs))}}function Gb(n){return n===Ro?{}:n===hn?[]:n}function sz(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function az(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function cz(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function ek(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Rc(n.mergedAttrs,n.attrs);let d=n.tView=Yw(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Tc(n,!1);let c=uz(t,e,n,r);Cp()&&iE(t,e,c,n),Mc(c,e);let u=RM(c,e,c,n);e[r+_t]=u,Xw(e,u),$$(u,n,e)}function lz(n,e,t,r,i,o,s,a,c,u,d){let p=t+_t,m;return e.firstCreatePass?(m=Bc(e,p,4,s||null,a||null),vp()&&LM(e,n,m,Wn(e.consts,u),sE),bR(e,m)):m=e.data[p],ek(m,n,e,t,r,i,o,c),Ic(m)&&cm(e,n,m),u!=null&&sd(n,m,d),m}function Nc(n,e,t,r,i,o,s,a,c,u,d){let p=t+_t,m;if(e.firstCreatePass){if(m=Bc(e,p,4,s||null,a||null),u!=null){let g=Wn(e.consts,u);m.localNames=[];for(let I=0;I<g.length;I+=2)m.localNames.push(g[I],-1)}}else m=e.data[p];return ek(m,n,e,t,r,i,o,c),u!=null&&sd(n,m,d),m}function Uo(n,e,t,r,i,o,s,a){let c=_e(),u=dt(),d=Wn(u.consts,o);return lz(c,u,n,e,t,r,i,d,void 0,s,a),Uo}function fm(n,e,t,r,i,o,s,a){let c=_e(),u=dt(),d=Wn(u.consts,o);return Nc(c,u,n,e,t,r,i,d,void 0,s,a),fm}var uz=dz;function dz(n,e,t,r){return Wu(!0),e[it].createComment("")}var pm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var vE=new L("");function ua(n){return!!n&&typeof n.then=="function"}function tk(n){return!!n&&typeof n.subscribe=="function"}var nk=new L("");var yE=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=_(nk,{optional:!0})??[];injector=_(Te);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Et(this.injector,i);if(ua(o))t.push(o);else if(tk(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mm=new L("");function rk(){Ey(()=>{let n="";throw new q(600,n)})}function ik(n){return n.isBoundToModule}var hz=10;var xn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_(Nn);afterRenderManager=_(om);zonelessEnabled=_(Sc);rootEffectScheduler=_(Gu);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Q;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=_(Zr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ie(t=>!t))}constructor(){_(Bo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=_(rt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Te.NULL){return this._injector.get(K).run(()=>{Je(10);let s=t instanceof um;if(!this._injector.get(yE).done){let I="";throw new q(405,I)}let c;s?c=t:c=this._injector.get(ld).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=ik(c)?void 0:this._injector.get(jo),d=r||c.selector,p=c.create(i,[],d,u),m=p.location.nativeElement,g=p.injector.get(vE,null);return g?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Yu(this.components,p),g?.unregisterApplication(m)}),this._loadComponent(p),Je(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Je(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(im.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new q(101,!1);let t=he(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,he(t),this.afterTick.next(),Je(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Mt,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<hz;)Je(14),this.synchronizeOnce(),Je(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!$u(i))continue;let o=r&&!this.zonelessEnabled?0:1;DM(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>$u(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Yu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(mm,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Yu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Pe(n,e,t,r){let i=_e(),o=Mi();if(ri(i,o,e)){let s=dt(),a=qu();UH(a,i,n,e,t,r)}return Pe}var nse=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Dw=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e,!0))}};function Kb(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function fz(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=n.at(o),d=e[o],p=Kb(o,u,o,d,t);if(p!==0){p<0&&n.updateValue(o,d),o++;continue}let m=n.at(s),g=e[c],I=Kb(s,m,c,g,t);if(I!==0){I<0&&n.updateValue(s,g),s--,c--;continue}let R=t(o,u),A=t(s,m),F=t(o,d);if(Object.is(F,A)){let W=t(c,g);Object.is(W,R)?(n.swap(o,s),n.updateValue(s,g),c--,s--):n.move(s,o),n.updateValue(o,d),o++;continue}if(r??=new Qp,i??=hR(n,o,s,t),Sw(n,r,o,F))n.updateValue(o,d),o++,s++;else if(i.has(F))r.set(R,n.detach(o)),s--;else{let W=n.create(o,e[o]);n.attach(o,W),o++,s++}}for(;o<=c;)dR(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let d=n.at(o),p=u.value,m=Kb(o,d,o,p,t);if(m!==0)m<0&&n.updateValue(o,p),o++,u=c.next();else{r??=new Qp,i??=hR(n,o,s,t);let g=t(o,p);if(Sw(n,r,o,g))n.updateValue(o,p),o++,s++,u=c.next();else if(!i.has(g))n.attach(o,n.create(o,p)),o++,s++,u=c.next();else{let I=t(o,d);r.set(I,n.detach(o)),s--}}}for(;!u.done;)dR(n,r,t,n.length,u.value),u=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function Sw(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function dR(n,e,t,r,i){if(Sw(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function hR(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Qp=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function fe(n,e,t,r,i,o,s,a){Bi("NgControlFlow");let c=_e(),u=dt(),d=Wn(u.consts,o);return Nc(c,u,n,e,t,r,i,d,256,s,a),bE}function bE(n,e,t,r,i,o,s,a){Bi("NgControlFlow");let c=_e(),u=dt(),d=Wn(u.consts,o);return Nc(c,u,n,e,t,r,i,d,512,s,a),bE}function pe(n,e){Bi("NgControlFlow");let t=_e(),r=Mi(),i=t[r]!==Gn?t[r]:-1,o=i!==-1?Xp(t,_t+i):void 0,s=0;if(ri(t,r,n)){let a=he(null);try{if(o!==void 0&&kM(o,s),n!==-1){let c=_t+n,u=Xp(t,c),d=Mw(t[le],c),p=NM(u,d,t),m=ad(t,d,e,{dehydratedView:p});cd(u,m,s,Pc(d,p))}}finally{he(a)}}else if(o!==void 0){let a=MM(o,s);a!==void 0&&(a[It]=e)}}var xw=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-At}};function gm(n){return n}var Aw=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function fr(n,e,t,r,i,o,s,a,c,u,d,p,m){Bi("NgControlFlow");let g=_e(),I=dt(),R=c!==void 0,A=_e(),F=a?s.bind(A[Dn][It]):s,W=new Aw(R,F);A[_t+n]=W,Nc(g,I,n+1,e,t,r,i,Wn(I.consts,o),256),R&&Nc(g,I,n+2,c,u,d,p,Wn(I.consts,m),512)}var Rw=class extends Dw{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-At}at(e){return this.getLView(e)[It].$implicit}attach(e,t){let r=t[Qs];this.needsIndexUpdate||=e!==this.length,cd(this.lContainer,t,e,Pc(this.templateTNode,r))}detach(e,t){return this.needsIndexUpdate||=e!==this.length-1,t&&pz(this.lContainer,e),mz(this.lContainer,e)}create(e,t){let r=$p(this.lContainer,this.templateTNode.tView.ssrId),i=ad(this.hostLView,this.templateTNode,new xw(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){sm(e[le],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[It].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[It].$index=e}getLView(e){return gz(this.lContainer,e)}};function pr(n){let e=he(null),t=ki();try{let r=_e(),i=r[le],o=r[t],s=t+1,a=Xp(r,s);if(o.liveCollection===void 0){let u=Mw(i,s);o.liveCollection=new Rw(a,r,u)}else o.liveCollection.reset();let c=o.liveCollection;if(fz(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=Mi(),d=c.length===0;if(ri(r,u,d)){let p=t+2,m=Xp(r,p);if(d){let g=Mw(i,p),I=NM(m,g,r),R=ad(r,g,void 0,{dehydratedView:I});cd(m,R,0,Pc(g,I))}else i.firstUpdatePass&&d$(m),kM(m,0)}}}finally{he(e)}}function Xp(n,e){return n[e]}function pz(n,e){if(n.length<=At)return;let t=At+e,r=n[t];r&&r[ea]&&(r[ea].skipLeaveAnimations=!0)}function mz(n,e){return Ju(n,e)}function gz(n,e){return MM(n,e)}function Mw(n,e){return Hu(n,e)}function ee(n,e,t){let r=_e(),i=Mi();if(ri(r,i,e)){let o=dt(),s=qu();yM(s,r,n,e,r[it],t)}return ee}function kw(n,e,t,r,i){lE(e,n,t,i?"class":"style",r)}function C(n,e,t,r){let i=_e(),o=i[le],s=n+_t,a=o.firstCreatePass?hE(s,i,2,e,sE,vp(),t,r):o.data[s];if(aE(a,i,n,e,ok),Ic(a)){let c=i[le];cm(c,i,a),Bw(c,a,i)}return r!=null&&sd(i,a),C}function M(){let n=dt(),e=Rt(),t=cE(e);return n.firstCreatePass&&fE(n,t),Ab(t)&&Rb(),Sb(),t.classesWithoutHost!=null&&XB(t)&&kw(n,t,_e(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&ZB(t)&&kw(n,t,_e(),t.stylesWithoutHost,!1),M}function ye(n,e,t,r){return C(n,e,t,r),M(),ye}function Yn(n,e,t,r){let i=_e(),o=i[le],s=n+_t,a=o.firstCreatePass?T$(s,o,2,e,t,r):o.data[s];return aE(a,i,n,e,ok),r!=null&&sd(i,a),Yn}function mr(){let n=Rt(),e=cE(n);return Ab(e)&&Rb(),Sb(),mr}function On(n,e,t,r){return Yn(n,e,t,r),mr(),On}var ok=(n,e,t,r,i)=>(Wu(!0),nM(e[it],r,PA()));function wE(n,e,t){let r=_e(),i=r[le],o=n+_t,s=i.firstCreatePass?hE(o,r,8,"ng-container",sE,vp(),e,t):i.data[o];if(aE(s,r,n,"ng-container",_z),Ic(s)){let a=r[le];cm(a,r,s),Bw(a,s,r)}return t!=null&&sd(r,s),wE}function EE(){let n=dt(),e=Rt(),t=cE(e);return n.firstCreatePass&&fE(n,t),EE}function Uc(n,e,t){return wE(n,e,t),EE(),Uc}var _z=(n,e,t,r,i)=>(Wu(!0),iH(e[it],""));function je(){return _e()}function Ho(n,e,t){let r=_e(),i=Mi();if(ri(r,i,e)){let o=dt(),s=qu();bM(s,r,n,e,r[it],t)}return Ho}var dd="en-US";var vz=dd;function sk(n){typeof n=="string"&&(vz=n.toLowerCase().replace(/_/g,"-"))}function Y(n,e,t){let r=_e(),i=dt(),o=Rt();return ak(i,r,r[it],o,n,e,t),Y}function _m(n,e,t){let r=_e(),i=dt(),o=Rt();return(o.type&3||t)&&jM(o,i,r,t,r[it],n,e,Op(o,r,e)),_m}function ak(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Op(r,e,o),jM(r,n,e,s,t,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let p=0;p<d.length;p+=2){let m=d[p],g=d[p+1];c??=Op(r,e,o),aR(r,e,m,g,i,c)}if(u&&u.length)for(let p of u)c??=Op(r,e,o),aR(r,e,p,i,i,c)}}function z(n=1){return kA(n)}function yz(n,e){let t=null,r=YU(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?tM(n,o,!0):ZU(r,o))return i}return t}function Ct(n){let e=_e()[Dn][Tn];if(!e.projection){let t=n?n.length:1,r=e.projection=nA(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?yz(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function He(n,e=0,t,r,i,o){let s=_e(),a=dt(),c=r?n+1:null;c!==null&&Nc(s,a,c,r,i,o,null,t);let u=Bc(a,_t+n,16,null,t||null);u.projection===null&&(u.projection=e),Pb();let p=!s[Qs]||xb();s[Dn][Tn].projection[u.projection]===null&&c!==null?bz(s,a,c):p&&!tm(u)&&RH(a,s,u)}function bz(n,e,t){let r=_t+t,i=e.data[r],o=n[r],s=$p(o,i.tView.ssrId),a=ad(n,i,void 0,{dehydratedView:s});cd(o,a,0,Pc(i,s))}function gn(n,e,t,r){GM(n,e,t,r)}function kt(n,e,t){WM(n,e,t)}function Ke(n){let e=_e(),t=dt(),r=bp();zu(r+1);let i=mE(t,r);if(n.dirty&&pA(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=YM(e,r);n.reset(o,kR),n.notifyOnChanges()}return!0}return!1}function Ye(){return pE(_e(),bp())}function IE(n,e,t,r,i){XM(e,GM(n,t,r,i))}function Hc(n,e,t,r){XM(n,WM(e,t,r))}function vm(n=1){zu(bp()+n)}function Qn(n){let e=EA();return fA(e,_t+n)}function Rp(n,e){return n<<17|e<<2}function la(n){return n>>17&32767}function wz(n){return(n&2)==2}function Ez(n,e){return n&131071|e<<17}function Pw(n){return n|2}function Oc(n){return(n&131068)>>2}function Yb(n,e){return n&-131069|e<<2}function Iz(n){return(n&1)===1}function Nw(n){return n|1}function Cz(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=la(s),c=Oc(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||yc(p,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let m=la(n[a+1]);n[r+1]=Rp(m,a),m!==0&&(n[m+1]=Yb(n[m+1],r)),n[a+1]=Ez(n[a+1],r)}else n[r+1]=Rp(a,0),a!==0&&(n[a+1]=Yb(n[a+1],r)),a=r;else n[r+1]=Rp(c,0),a===0?a=r:n[c+1]=Yb(n[c+1],r),c=r;u&&(n[r+1]=Pw(n[r+1])),fR(n,d,r,!0),fR(n,d,r,!1),Tz(e,d,n,r,o),s=Rp(a,c),o?e.classBindings=s:e.styleBindings=s}function Tz(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&yc(o,e)>=0&&(t[r+1]=Nw(t[r+1]))}function fR(n,e,t,r){let i=n[t+1],o=e===null,s=r?la(i):Oc(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];Dz(c,e)&&(a=!0,n[s+1]=r?Nw(u):Pw(u)),s=r?la(u):Oc(u)}a&&(n[t+1]=r?Pw(i):Nw(i))}function Dz(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?yc(n,e)>=0:!1}var Mr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Sz(n){return n.substring(Mr.key,Mr.keyEnd)}function xz(n){return Az(n),ck(n,lk(n,0,Mr.textEnd))}function ck(n,e){let t=Mr.textEnd;return t===e?-1:(e=Mr.keyEnd=Rz(n,Mr.key=e,t),lk(n,e,t))}function Az(n){Mr.key=0,Mr.keyEnd=0,Mr.value=0,Mr.valueEnd=0,Mr.textEnd=n.length}function lk(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Rz(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Ui(n,e,t){return uk(n,e,t,!1),Ui}function Me(n,e){return uk(n,e,null,!0),Me}function Nr(n){kz(Vz,Mz,n,!0)}function Mz(n,e){for(let t=xz(e);t>=0;t=ck(e,t))fp(n,Sz(e),!0)}function uk(n,e,t,r){let i=_e(),o=dt(),s=Ob(2);if(o.firstUpdatePass&&hk(o,n,s,r),e!==Gn&&ri(i,s,e)){let a=o.data[ki()];fk(o,a,i,i[it],n,i[s+1]=Bz(e,t),r,s)}}function kz(n,e,t,r){let i=dt(),o=Ob(2);i.firstUpdatePass&&hk(i,null,o,r);let s=_e();if(t!==Gn&&ri(s,o,t)){let a=i.data[ki()];if(pk(a,r)&&!dk(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=lp(c,t||"")),kw(i,a,s,t,r)}else jz(i,a,s,s[it],s[o+1],s[o+1]=Lz(n,e,t),r,o)}}function dk(n,e){return e>=n.expandoStartIndex}function hk(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ki()],s=dk(n,t);pk(o,r)&&e===null&&!s&&(e=!1),e=Pz(i,o,e,r),Cz(i,o,e,t,s,r)}}function Pz(n,e,t,r){let i=xA(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Qb(null,n,e,t,r),t=td(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Qb(i,n,e,t,r),o===null){let c=Nz(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Qb(null,n,e,c[1],r),c=td(c,e.attrs,r),Oz(n,e,r,c))}else o=Fz(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Nz(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Oc(r)!==0)return n[la(r)]}function Oz(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[la(i)]=r}function Fz(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=td(r,s,t)}return td(r,e.attrs,t)}function Qb(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=td(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function td(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),fp(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Lz(n,e,t){if(t==null||t==="")return hn;let r=[],i=Pr(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function Vz(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&fp(n,r,t)}function jz(n,e,t,r,i,o,s,a){i===Gn&&(i=hn);let c=0,u=0,d=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;d!==null||p!==null;){let m=c<i.length?i[c+1]:void 0,g=u<o.length?o[u+1]:void 0,I=null,R;d===p?(c+=2,u+=2,m!==g&&(I=p,R=g)):p===null||d!==null&&d<p?(c+=2,I=d):(u+=2,I=p,R=g),I!==null&&fk(n,e,t,r,I,R,s,a),d=c<i.length?i[c]:null,p=u<o.length?o[u]:null}}function fk(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=Iz(u)?pR(c,e,t,i,Oc(u),s):void 0;if(!Zp(d)){Zp(o)||wz(u)&&(o=pR(c,null,t,i,a,s));let p=wb(ki(),t);kH(r,s,p,i,o)}}function pR(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,p=d===null,m=t[i+1];m===Gn&&(m=p?hn:void 0);let g=p?pp(m,r):d===r?m:void 0;if(u&&!Zp(g)&&(g=pp(c,r)),Zp(g)&&(a=g,s))return a;let I=n[i+1];i=s?la(I):Oc(I)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=pp(c,r))}return a}function Zp(n){return n!==void 0}function Bz(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Si(Pr(n)))),n}function pk(n,e){return(n.flags&(e?8:16))!==0}function j(n,e=""){let t=_e(),r=dt(),i=n+_t,o=r.firstCreatePass?Bc(r,i,1,e,null):r.data[i],s=Uz(r,t,o,e,n);t[i]=s,Cp()&&iE(r,t,s,o),Tc(o,!1)}var Uz=(n,e,t,r,i)=>(Wu(!0),nH(e[it],r));function Hz(n,e,t,r=""){return ri(n,Mi(),t)?e+vc(t)+r:Gn}function Tt(n){return et("",n),Tt}function et(n,e,t){let r=_e(),i=Hz(r,n,e,t);return i!==Gn&&$z(r,ki(),i),et}function $z(n,e,t){let r=wb(e,n);rH(n[it],r,t)}function Fn(n,e,t){Bb(e)&&(e=e());let r=_e(),i=Mi();if(ri(r,i,e)){let o=dt(),s=qu();yM(s,r,n,e,r[it],t)}return Fn}function An(n,e){let t=Bb(n);return t&&n.set(e),t}function gr(n,e){let t=_e(),r=dt(),i=Rt();return ak(r,t,t[it],i,n,e),gr}function Kt(n){return ri(_e(),Mi(),n)?vc(n):Gn}function zz(n,e,t){let r=dt();if(r.firstCreatePass){let i=Xr(n);Ow(t,r.data,r.blueprint,i,!0),Ow(e,r.data,r.blueprint,i,!1)}}function Ow(n,e,t,r,i){if(n=tn(n),Array.isArray(n))for(let o=0;o<n.length;o++)Ow(n[o],e,t,r,i);else{let o=dt(),s=_e(),a=Rt(),c=Gs(n)?n:tn(n.provide),u=mb(n),d=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Gs(n)||!n.multi){let g=new aa(u,i,Ge,null),I=Zb(c,e,i?d:d+m,p);I===-1?(ew(jp(a,s),o,c),Xb(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[I]=g,s[I]=g)}else{let g=Zb(c,e,d+m,p),I=Zb(c,e,d,d+m),R=g>=0&&t[g],A=I>=0&&t[I];if(i&&!A||!i&&!R){ew(jp(a,s),o,c);let F=Gz(i?Wz:qz,t.length,i,r,u,n);!i&&A&&(t[I].providerFactory=F),Xb(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=mk(t[i?I:g],u,!i&&r);Xb(o,n,g>-1?g:I,F)}!i&&r&&A&&t[I].componentProviders++}}}function Xb(n,e,t,r){let i=Gs(e),o=lA(e);if(i||o){let c=(o?tn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function mk(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Zb(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function qz(n,e,t,r,i){return Fw(this.multi,[])}function Wz(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Qu(r,r[le],this.providerFactory.index,i);s=c.slice(0,a),Fw(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Fw(o,s);return s}function Fw(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Gz(n,e,t,r,i,o){let s=new aa(n,t,Ge,null);return s.multi=[],s.index=e,s.componentProviders=0,mk(s,i,r&&!t),s}function on(n,e=[]){return t=>{t.providersResolver=(r,i)=>zz(r,i?i(n):n,e)}}function da(n,e,t){let r=IA()+n,i=_e();return i[r]===Gn?D$(i,r,t?e.call(t):e()):S$(i,r)}function hd(n,e){return lm(n,e)}var Jp=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},CE=(()=>{class n{compileModuleSync(t){return new Yp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=db(t),o=JR(i.declarations).reduce((s,a)=>{let c=Ai(a);return c&&s.push(new ca(c)),s},[]);return new Jp(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Kz=(()=>{class n{zone=_(K);changeDetectionScheduler=_(cr);applicationRef=_(xn);applicationErrorHandler=_(Nn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gk=new L("",{factory:()=>!1});function TE({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new K(se(V({},SE()),{scheduleInRootZone:t})),[{provide:K,useFactory:n},{provide:Gr,multi:!0,useFactory:()=>{let r=_(Kz,{optional:!0});return()=>r.initialize()}},{provide:Gr,multi:!0,useFactory:()=>{let r=_(Yz);return()=>{r.initialize()}}},e===!0?{provide:Ub,useValue:!0}:[],{provide:Hb,useValue:t??lM},{provide:Nn,useFactory:()=>{let r=_(K),i=_(rt),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Gt),o.handleError(s))})}}}]}function DE(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=TE({ngZoneFactory:()=>{let i=SE(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Bi("NgZone_CoalesceEvent"),new K(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return fn([{provide:gk,useValue:!0},{provide:Sc,useValue:!1},r])}function SE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Yz=(()=>{class n{subscription=new Ve;initialized=!1;zone=_(K);pendingTasks=_(Zr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{K.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _k=(()=>{class n{applicationErrorHandler=_(Nn);appRef=_(xn);taskService=_(Zr);ngZone=_(K);zonelessEnabled=_(Sc);tracing=_(Bo,{optional:!0});disableScheduling=_(Ub,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Up):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(Hb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Hp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?XA:uM;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Up+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,XA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qz(){return typeof $localize<"u"&&$localize.locale||dd}var xE=new L("",{providedIn:"root",factory:()=>_(xE,{optional:!0,skipSelf:!0})||Qz()});var ym=class{destroyed=!1;listeners=null;errorHandler=_(Gt,{optional:!0});destroyRef=_(pn);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new q(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed){console.warn(xi(953,!1));return}if(this.listeners===null)return;let t=he(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{he(t)}}};function zt(n){return $x(n)}function Or(n,e){return Eu(n,e?.equal)}var AE=class{[St];constructor(e){this[St]=e}destroy(){this[St].destroy()}};function Pt(n,e){let t=e?.injector??_(Te),r=e?.manualCleanup!==!0?t.get(pn):null,i,o=t.get(ia,null,{optional:!0}),s=t.get(cr);return o!==null?(i=Jz(o.view,s,n),r instanceof Fu&&r._lView===o.view&&(r=null)):i=e4(n,t.get(Gu),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new AE(i)}var vk=se(V({},zx),{cleanupFns:void 0,zone:null,onDestroyFn:oa,run(){let n=Dc(!1);try{qx(this)}finally{Dc(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=he(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],he(n)}}}),Xz=se(V({},vk),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){yo(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),Zz=se(V({},vk),{consumerMarkedDirty(){this.view[me]|=8192,Oo(this.view),this.notifier.notify(13)},destroy(){yo(this),this.onDestroyFn(),this.cleanup(),this.view[Ri]?.delete(this)}});function Jz(n,e,t){let r=Object.create(Zz);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=yk(r,t),n[Ri]??=new Set,n[Ri].add(r),r.consumerMarkedDirty(r),r}function e4(n,e,t){let r=Object.create(Xz);return r.fn=yk(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function yk(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var wm=Symbol("InputSignalNode#UNSET"),Dk=se(V({},Iu),{transformFn:void 0,applyValueToInputSignal(n,e){Vs(n,e)}});function Sk(n,e){let t=Object.create(Dk);t.value=n,t.transformFn=e?.transform;function r(){if(_o(t),t.value===wm){let i=null;throw new q(-950,i)}return t.value}return r[St]=t,r}var $o=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>nd(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},d4=new L("");d4.__NG_ELEMENT_ID__=n=>{let e=Rt();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new q(204,!1)};function bk(n,e){return Sk(n,e)}function h4(n){return Sk(wm,n)}var pd=(bk.required=h4,bk);function wk(n,e){return gE(e)}function f4(n,e){return _E(e)}var md=(wk.required=f4,wk);function Ek(n,e){return gE(e)}function p4(n,e){return _E(e)}var xk=(Ek.required=p4,Ek);function Ak(n,e){let t=Object.create(Dk),r=new ym;t.value=n;function i(){return _o(t),Ik(t.value),t.value}return i[St]=t,i.asReadonly=Tp.bind(i),i.set=o=>{t.equal(t.value,o)||(Vs(t,o),r.emit(o))},i.update=o=>{Ik(t.value),i.set(o(t.value))},i.subscribe=r.subscribe.bind(r),i.destroyRef=r.destroyRef,i}function Ik(n){if(n===wm)throw new q(952,!1)}function Ck(n,e){return Ak(n,e)}function m4(n){return Ak(wm,n)}var Em=(Ck.required=m4,Ck);var ME=new L(""),g4=new L("");function fd(n){return!n.moduleRef}function _4(n){let e=fd(n)?n.r3Injector:n.moduleRef.injector,t=e.get(K);return t.run(()=>{fd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Nn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),fd(n)){let o=()=>e.destroy(),s=n.platformInjector.get(ME);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(ME);s.add(o),n.moduleRef.onDestroy(()=>{Yu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return y4(r,t,()=>{let o=e.get(Zr),s=o.add(),a=e.get(yE);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(xE,dd);if(sk(c||dd),!e.get(g4,!0))return fd(n)?e.get(xn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(fd(n)){let d=e.get(xn);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return v4?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var v4;function y4(n,e,t){try{let r=t();return ua(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var bm=null;function b4(n=[],e){return Te.create({name:e,providers:[{provide:ju,useValue:"platform"},{provide:ME,useValue:new Set([()=>bm=null])},...n]})}function w4(n=[]){if(bm)return bm;let e=b4(n);return bm=e,rk(),E4(e),e}function E4(n){let e=n.get(em,null);Et(n,()=>{e?.forEach(t=>t())})}function PE(){return!1}var _n=(()=>{class n{static __NG_ELEMENT_ID__=I4}return n})();function I4(n){return C4(Rt(),_e(),(n&16)===16)}function C4(n,e,t){if(No(n)&&!t){let r=hr(n.index,e);return new Vo(r,r)}else if(n.type&175){let r=e[Dn];return new Vo(r,e)}return null}function Rk(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Je(8);try{let o=i?.injector??w4(r),s=[TE({}),{provide:cr,useExisting:_k},OA,...t||[]],a=new ed({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return _4({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Je(9)}}function Fe(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function $c(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var RE=Symbol("NOT_SET"),Mk=new Set,T4=se(V({},Iu),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:RE,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==RE&&!Ls(this))return this.signal;try{for(let i of this.cleanup??Mk)i()}finally{this.cleanup?.clear()}let e=[];n!==void 0&&e.push(n),e.push(this.registerCleanupFn);let t=vo(this),r;try{r=this.userFn.apply(null,e)}finally{Fs(this,t)}return(this.value===RE||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),kE=class extends Xu{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,t,r,i,o,s=null){super(e,[void 0,void 0,void 0,void 0],r,!1,o.get(pn),s),this.scheduler=i;for(let a of tE){let c=t[a];if(c===void 0)continue;let u=Object.create(T4);u.sequence=this,u.phase=a,u.userFn=c,u.dirty=!0,u.signal=()=>(_o(u),u.value),u.signal[St]=u,u.registerCleanupFn=d=>(u.cleanup??=new Set).add(d),this.nodes[a]=u,this.hooks[a]=d=>u.phaseFn(d)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)if(e)try{for(let t of e.cleanup??Mk)t()}finally{yo(e)}}};function kk(n,e){let t=e?.injector??_(Te),r=t.get(cr),i=t.get(om),o=t.get(Bo,null,{optional:!0});i.impl??=t.get(nE);let s=n;typeof s=="function"&&(s={mixedReadWrite:n});let a=t.get(ia,null,{optional:!0}),c=new kE(i.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,r,t,o?.snapshot(null));return i.impl.register(c),c}function Im(n,e){let t=Ai(n),r=e.elementInjector||bc();return new ca(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}var Ok=null;function _r(){return Ok}function NE(n){Ok??=n}var gd=class{},OE=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>_(Fk),providedIn:"platform"})}return n})();var Fk=(()=>{class n extends OE{_location;_history;_doc=_(ve);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _r().getBaseHref(this._doc)}onPopState(t){let r=_r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=_r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Lk(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Pk(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function zo(n){return n&&n[0]!=="?"?`?${n}`:n}var zc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>_(jk),providedIn:"root"})}return n})(),Vk=new L(""),jk=(()=>{class n extends zc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Lk(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+zo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+zo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+zo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(J(OE),J(Vk,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qo=(()=>{class n{_subject=new Q;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=x4(Pk(Nk(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+zo(r))}normalize(t){return n.stripTrailingSlash(S4(this._basePath,Nk(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=zo;static joinWithSlash=Lk;static stripTrailingSlash=Pk;static \u0275fac=function(r){return new(r||n)(J(zc))};static \u0275prov=B({token:n,factory:()=>D4(),providedIn:"root"})}return n})();function D4(){return new qo(J(zc))}function S4(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Nk(n){return n.replace(/\/index.html$/,"")}function x4(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var _d=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(Ge(Kn))};static \u0275dir=ue({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Sn]})}return n})();function vd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ha=class{};var FE="browser";function Bk(n){return n===FE}var yd=class{_doc;constructor(e){this._doc=e}manager},Cm=(()=>{class n extends yd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(J(ve))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Dm=new L(""),UE=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Cm));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Cm);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(J(Dm),J(K))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),LE="ng-app-id";function Uk(n){for(let e of n)e.remove()}function Hk(n,e){let t=e.createElement("style");return t.textContent=n,t}function P4(n,e,t,r){let i=n.head?.querySelectorAll(`style[${LE}="${e}"],link[${LE}="${e}"]`);if(i)for(let o of i)o.removeAttribute(LE),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function jE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var HE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,P4(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Hk);r?.forEach(i=>this.addUsage(i,this.external,jE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Uk(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Uk(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Hk(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,jE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(J(ve),J(Vc),J(jc,8),J(ti))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),VE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$E=/%COMP%/g;var zk="%COMP%",N4=`_nghost-${zk}`,O4=`_ngcontent-${zk}`,F4=!0,L4=new L("",{providedIn:"root",factory:()=>F4});function V4(n){return O4.replace($E,n)}function j4(n){return N4.replace($E,n)}function qk(n,e){return e.map(t=>t.replace($E,n))}var zE=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new bd(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Tm?i.applyToHost(t):i instanceof wd&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Oi.Emulated:o=new Tm(c,u,r,this.appId,d,s,a,p,m);break;case Oi.ShadowDom:return new BE(c,u,t,r,s,a,this.nonce,p,m);default:o=new wd(c,u,r,d,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(J(UE),J(HE),J(Vc),J(L4),J(ve),J(ti),J(K),J(jc),J(Bo,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),bd=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(VE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){($k(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&($k(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=VE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=VE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Li.DashCase|Li.Important)?e.style.setProperty(t,r,i&Li.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Li.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=_r().getGlobalEventTarget(this.doc,e),!e))throw new q(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function $k(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var BE=class extends bd{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=qk(i.id,d);for(let m of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=m,this.shadowRoot.appendChild(g)}let p=i.getExternalStyles?.();if(p)for(let m of p){let g=jE(m,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},wd=class extends bd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?qk(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&kc.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Tm=class extends wd{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=V4(d),this.hostAttr=j4(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Sm=class n extends gd{supportsDOMEvents=!0;static makeCurrent(){NE(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=B4();return t==null?null:U4(t)}resetBaseElement(){Ed=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vd(document.cookie,e)}},Ed=null;function B4(){return Ed=Ed||document.head.querySelector("base"),Ed?Ed.getAttribute("href"):null}function U4(n){return new URL(n,document.baseURI).pathname}var H4=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Wk=["alt","control","meta","shift"],$4={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},z4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Gk=(()=>{class n extends yd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_r().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Wk.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=$4[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Wk.forEach(s=>{if(s!==i){let a=z4[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(J(ve))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function qE(n,e,t){let r=V({rootComponent:n,platformRef:t?.platformRef},q4(e));return Rk(r)}function q4(n){return{appProviders:[...Q4,...n?.providers??[]],platformProviders:Y4}}function W4(){Sm.makeCurrent()}function G4(){return new Gt}function K4(){return jw(document),document}var Y4=[{provide:ti,useValue:FE},{provide:em,useValue:W4,multi:!0},{provide:ve,useFactory:K4}];var Q4=[{provide:ju,useValue:"root"},{provide:Gt,useFactory:G4},{provide:Dm,useClass:Cm,multi:!0,deps:[ve]},{provide:Dm,useClass:Gk,multi:!0,deps:[ve]},zE,HE,UE,{provide:Mt,useExisting:zE},{provide:ha,useClass:H4},[]];var Gc=class{},Id=class{},Wo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Am=class{encodeKey(e){return Kk(e)}encodeValue(e){return Kk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function X4(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var Z4=/%(\d[a-f0-9])/gi,J4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Kk(n){return encodeURIComponent(n).replace(Z4,(e,t)=>J4[t]??e)}function xm(n){return`${n}`}var Hi=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Am,e.fromString){if(e.fromObject)throw new q(2805,!1);this.map=X4(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(xm):[xm(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(xm(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(xm(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Rm=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function e3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Yk(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Qk(n){return typeof Blob<"u"&&n instanceof Blob}function Xk(n){return typeof FormData<"u"&&n instanceof FormData}function t3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Zk="Content-Type",Jk="Accept",eP="X-Request-URL",tP="text/plain",nP="application/json",n3=`${nP}, ${tP}, */*`,qc=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(e3(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new q(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Wo,this.context??=new Rm,!this.params)this.params=new Hi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Yk(this.body)||Qk(this.body)||Xk(this.body)||t3(this.body)?this.body:this.body instanceof Hi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Xk(this.body)?null:Qk(this.body)?this.body.type||null:Yk(this.body)?null:typeof this.body=="string"?tP:this.body instanceof Hi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?nP:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,u=e.redirect||this.redirect,d=e.credentials||this.credentials,p=e.referrer||this.referrer,m=e.integrity||this.integrity,g=e.transferCache??this.transferCache,I=e.timeout??this.timeout,R=e.body!==void 0?e.body:this.body,A=e.withCredentials??this.withCredentials,F=e.reportProgress??this.reportProgress,W=e.headers||this.headers,re=e.params||this.params,De=e.context??this.context;return e.setHeaders!==void 0&&(W=Object.keys(e.setHeaders).reduce((mt,Oe)=>mt.set(Oe,e.setHeaders[Oe]),W)),e.setParams&&(re=Object.keys(e.setParams).reduce((mt,Oe)=>mt.set(Oe,e.setParams[Oe]),re)),new n(t,r,R,{params:re,headers:W,context:De,reportProgress:F,responseType:i,withCredentials:A,transferCache:g,keepalive:o,cache:a,priority:s,timeout:I,mode:c,redirect:u,credentials:d,referrer:p,integrity:m})}},fa=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(fa||{}),Kc=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new Wo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Mm=class n extends Kc{constructor(e={}){super(e)}type=fa.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Cd=class n extends Kc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=fa.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Wc=class extends Kc{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},r3=200,i3=204;function WE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var Pm=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof qc)o=t;else{let c;i.headers instanceof Wo?c=i.headers:c=new Wo(i.headers);let u;i.params&&(i.params instanceof Hi?u=i.params:u=new Hi({fromObject:i.params})),o=new qc(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=X(o).pipe(To(c=>this.handler.handle(c)));if(t instanceof qc||i.observe==="events")return s;let a=s.pipe(nt(c=>c instanceof Cd));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ie(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new q(2806,!1);return c.body}));case"blob":return a.pipe(ie(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new q(2807,!1);return c.body}));case"text":return a.pipe(ie(c=>{if(c.body!==null&&typeof c.body!="string")throw new q(2808,!1);return c.body}));case"json":default:return a.pipe(ie(c=>c.body))}case"response":return a;default:throw new q(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Hi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,WE(i,r))}post(t,r,i={}){return this.request("POST",t,WE(i,r))}put(t,r,i={}){return this.request("PUT",t,WE(i,r))}static \u0275fac=function(r){return new(r||n)(J(Gc))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var o3=new L("");function s3(n,e){return e(n)}function a3(n,e,t){return(r,i)=>Et(t,()=>e(r,o=>n(o,i)))}var rP=new L(""),iP=new L(""),oP=new L("",{providedIn:"root",factory:()=>!0});var km=(()=>{class n extends Gc{backend;injector;chain=null;pendingTasks=_(Pi);contributeToStability=_(oP);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(rP),...this.injector.get(iP,[])]));this.chain=r.reduceRight((i,o)=>a3(i,o,this.injector),s3)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ci(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(J(Id),J(rt))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var c3=/^\)\]\}',?\n/,l3=RegExp(`^${eP}:`,"m");function u3(n){return"responseURL"in n&&n.responseURL?n.responseURL:l3.test(n.getAllResponseHeaders())?n.getResponseHeader(eP):null}var GE=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new q(-2800,!1);let r=this.xhrFactory;return X(null).pipe(xt(()=>new de(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((A,F)=>s.setRequestHeader(A,F.join(","))),t.headers.has(Jk)||s.setRequestHeader(Jk,n3),!t.headers.has(Zk)){let A=t.detectContentTypeHeader();A!==null&&s.setRequestHeader(Zk,A)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let A=t.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let A=s.statusText||"OK",F=new Wo(s.getAllResponseHeaders()),W=u3(s)||t.url;return c=new Mm({headers:F,status:s.status,statusText:A,url:W}),c},d=()=>{let{headers:A,status:F,statusText:W,url:re}=u(),De=null;F!==i3&&(De=typeof s.response>"u"?s.responseText:s.response),F===0&&(F=De?r3:0);let mt=F>=200&&F<300;if(t.responseType==="json"&&typeof De=="string"){let Oe=De;De=De.replace(c3,"");try{De=De!==""?JSON.parse(De):null}catch(D){De=Oe,mt&&(mt=!1,De={error:D,text:De})}}mt?(o.next(new Cd({body:De,headers:A,status:F,statusText:W,url:re||void 0})),o.complete()):o.error(new Wc({error:De,headers:A,status:F,statusText:W,url:re||void 0}))},p=A=>{let{url:F}=u(),W=new Wc({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:F||void 0});o.error(W)},m=p;t.timeout&&(m=A=>{let{url:F}=u(),W=new Wc({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:F||void 0});o.error(W)});let g=!1,I=A=>{g||(o.next(u()),g=!0);let F={type:fa.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(F.total=A.total),t.responseType==="text"&&s.responseText&&(F.partialText=s.responseText),o.next(F)},R=A=>{let F={type:fa.UploadProgress,loaded:A.loaded};A.lengthComputable&&(F.total=A.total),o.next(F)};return s.addEventListener("load",d),s.addEventListener("error",p),s.addEventListener("timeout",m),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",I),a!==null&&s.upload&&s.upload.addEventListener("progress",R)),s.send(a),o.next({type:fa.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",d),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",I),a!==null&&s.upload&&s.upload.removeEventListener("progress",R)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(J(ha))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),sP=new L(""),d3="XSRF-TOKEN",h3=new L("",{providedIn:"root",factory:()=>d3}),f3="X-XSRF-TOKEN",p3=new L("",{providedIn:"root",factory:()=>f3}),Td=class{},m3=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=vd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(J(ve),J(h3))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function g3(n,e){let t=n.url.toLowerCase();if(!_(sP)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=_(Td).getToken(),i=_(p3);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function KE(...n){let e=[Pm,GE,km,{provide:Gc,useExisting:km},{provide:Id,useFactory:()=>_(o3,{optional:!0})??_(GE)},{provide:rP,useValue:g3,multi:!0},{provide:sP,useValue:!0},{provide:Td,useClass:m3}];for(let t of n)e.push(...t.\u0275providers);return fn(e)}var aP=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(J(ve))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var YE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=J(v3),i},providedIn:"root"})}return n})(),v3=(()=>{class n extends YE{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case nn.NONE:return r;case nn.HTML:return Vi(r,"HTML")?Pr(r):Ww(this._doc,String(r)).toString();case nn.STYLE:return Vi(r,"Style")?Pr(r):r;case nn.SCRIPT:if(Vi(r,"Script"))return Pr(r);throw new q(5200,!1);case nn.URL:return Vi(r,"URL")?Pr(r):id(String(r));case nn.RESOURCE_URL:if(Vi(r,"ResourceURL"))return Pr(r);throw new q(5201,!1);default:throw new q(5202,!1)}}bypassSecurityTrustHtml(t){return Uw(t)}bypassSecurityTrustStyle(t){return Hw(t)}bypassSecurityTrustScript(t){return $w(t)}bypassSecurityTrustUrl(t){return zw(t)}bypassSecurityTrustResourceUrl(t){return qw(t)}static \u0275fac=function(r){return new(r||n)(J(ve))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Re="primary",Bd=Symbol("RouteTitle"),e0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ga(n){return new e0(n)}function gP(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function y3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ii(n[t],e[t]))return!1;return!0}function ii(n,e){let t=n?t0(n):void 0,r=e?t0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!_P(n[i],e[i]))return!1;return!0}function t0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function _P(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function vP(n){return n.length>0?n[n.length-1]:null}function zi(n){return Yf(n)?n:ua(n)?ht(Promise.resolve(n)):X(n)}var b3={exact:bP,subset:wP},yP={exact:w3,subset:E3,ignored:()=>!0};function lP(n,e,t){return b3[t.paths](n.root,e.root,t.matrixParams)&&yP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function w3(n,e){return ii(n,e)}function bP(n,e,t){if(!pa(n.segments,e.segments)||!Fm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!bP(n.children[r],e.children[r],t))return!1;return!0}function E3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_P(n[t],e[t]))}function wP(n,e,t){return EP(n,e,e.segments,t)}function EP(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!pa(i,t)||e.hasChildren()||!Fm(i,t,r))}else if(n.segments.length===t.length){if(!pa(n.segments,t)||!Fm(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!wP(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!pa(n.segments,i)||!Fm(n.segments,i,r)||!n.children[Re]?!1:EP(n.children[Re],e,o,r)}}function Fm(n,e,t){return e.every((r,i)=>yP[t](n[i].parameters,r.parameters))}var si=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Xe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ga(this.queryParams),this._queryParamMap}toString(){return T3.serialize(this)}},Xe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lm(this)}},Go=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ga(this.parameters),this._parameterMap}toString(){return CP(this)}};function I3(n,e){return pa(n,e)&&n.every((t,r)=>ii(t.parameters,e[r].parameters))}function pa(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function C3(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Re&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Re&&(t=t.concat(e(i,r)))}),t}var Ud=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new _a,providedIn:"root"})}return n})(),_a=class{parse(e){let t=new r0(e);return new si(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Dd(e.root,!0)}`,r=x3(e.queryParams),i=typeof e.fragment=="string"?`#${D3(e.fragment)}`:"";return`${t}${r}${i}`}},T3=new _a;function Lm(n){return n.segments.map(e=>CP(e)).join("/")}function Dd(n,e){if(!n.hasChildren())return Lm(n);if(e){let t=n.children[Re]?Dd(n.children[Re],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Re&&r.push(`${i}:${Dd(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=C3(n,(r,i)=>i===Re?[Dd(n.children[Re],!1)]:[`${i}:${Dd(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Re]!=null?`${Lm(n)}/${t[0]}`:`${Lm(n)}/(${t.join("//")})`}}function IP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nm(n){return IP(n).replace(/%3B/gi,";")}function D3(n){return encodeURI(n)}function n0(n){return IP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vm(n){return decodeURIComponent(n)}function uP(n){return Vm(n.replace(/\+/g,"%20"))}function CP(n){return`${n0(n.path)}${S3(n.parameters)}`}function S3(n){return Object.entries(n).map(([e,t])=>`;${n0(e)}=${n0(t)}`).join("")}function x3(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Nm(t)}=${Nm(i)}`).join("&"):`${Nm(t)}=${Nm(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var A3=/^[^\/()?;#]+/;function QE(n){let e=n.match(A3);return e?e[0]:""}var R3=/^[^\/()?;=#]+/;function M3(n){let e=n.match(R3);return e?e[0]:""}var k3=/^[^=?&#]+/;function P3(n){let e=n.match(k3);return e?e[0]:""}var N3=/^[^&#]+/;function O3(n){let e=n.match(N3);return e?e[0]:""}var r0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Re]=new Xe(e,t)),r}parseSegment(){let e=QE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new Go(Vm(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=M3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=QE(this.remaining);i&&(r=i,this.capture(r))}e[Vm(t)]=Vm(r)}parseQueryParam(e){let t=P3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=O3(this.remaining);s&&(r=s,this.capture(r))}let i=uP(t),o=uP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=QE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Re);let s=this.parseChildren();t[o]=Object.keys(s).length===1&&s[Re]?s[Re]:new Xe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function TP(n){return n.segments.length>0?new Xe([],{[Re]:n}):n}function DP(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=DP(i);if(r===Re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Xe(n.segments,e);return F3(t)}function F3(n){if(n.numberOfChildren===1&&n.children[Re]){let e=n.children[Re];return new Xe(n.segments.concat(e.segments),e.children)}return n}function Ko(n){return n instanceof si}function SP(n,e,t=null,r=null){let i=xP(n);return AP(i,e,t,r)}function xP(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new Xe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=TP(r);return e??i}function AP(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return XE(i,i,i,t,r);let o=L3(e);if(o.toRoot())return XE(i,i,new Xe([],{}),t,r);let s=V3(o,i,n),a=s.processChildren?xd(s.segmentGroup,s.index,o.commands):MP(s.segmentGroup,s.index,o.commands);return XE(i,s.segmentGroup,a,t,r)}function jm(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Md(n){return typeof n=="object"&&n!=null&&n.outlets}function XE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=RP(n,e,t);let a=TP(DP(s));return new si(a,o,i)}function RP(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=RP(o,e,t)}),new Xe(n.segments,r)}var Bm=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&jm(r[0]))throw new q(4003,!1);let i=r.find(Md);if(i&&i!==vP(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function L3(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Bm(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Bm(t,e,r)}var Xc=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function V3(n,e,t){if(n.isAbsolute)return new Xc(e,!0,0);if(!t)return new Xc(e,!1,NaN);if(t.parent===null)return new Xc(t,!0,0);let r=jm(n.commands[0])?0:1,i=t.segments.length-1+r;return j3(t,i,n.numberOfDoubleDots)}function j3(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new Xc(r,!1,i-o)}function B3(n){return Md(n[0])?n[0].outlets:{[Re]:n}}function MP(n,e,t){if(n??=new Xe([],{}),n.segments.length===0&&n.hasChildren())return xd(n,e,t);let r=U3(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Xe(n.segments.slice(0,r.pathIndex),{});return o.children[Re]=new Xe(n.segments.slice(r.pathIndex),n.children),xd(o,0,i)}else return r.match&&i.length===0?new Xe(n.segments,{}):r.match&&!n.hasChildren()?i0(n,e,t):r.match?xd(n,0,i):i0(n,e,t)}function xd(n,e,t){if(t.length===0)return new Xe(n.segments,{});{let r=B3(t),i={};if(Object.keys(r).some(o=>o!==Re)&&n.children[Re]&&n.numberOfChildren===1&&n.children[Re].segments.length===0){let o=xd(n.children[Re],e,t);return new Xe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=MP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Xe(n.segments,i)}}function U3(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Md(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!hP(c,u,s))return o;r+=2}else{if(!hP(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function i0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Md(o)){let c=H3(o.outlets);return new Xe(r,c)}if(i===0&&jm(t[0])){let c=n.segments[e];r.push(new Go(c.path,dP(t[0]))),i++;continue}let s=Md(o)?o.outlets[Re]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&jm(a)?(r.push(new Go(s,dP(a))),i+=2):(r.push(new Go(s,{})),i++)}return new Xe(r,{})}function H3(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=i0(new Xe([],{}),0,r))}),e}function dP(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function hP(n,e,t){return n==t.path&&ii(e,t.parameters)}var Ad="imperative",Yt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Yt||{}),Zn=class{id;url;constructor(e,t){this.id=e,this.url=t}},va=class extends Zn{type=Yt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ai=class extends Zn{urlAfterRedirects;type=Yt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Rn||{}),kd=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(kd||{}),oi=class extends Zn{reason;code;type=Yt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$i=class extends Zn{reason;code;type=Yt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Jc=class extends Zn{error;target;type=Yt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pd=class extends Zn{urlAfterRedirects;state;type=Yt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Um=class extends Zn{urlAfterRedirects;state;type=Yt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hm=class extends Zn{urlAfterRedirects;state;shouldActivate;type=Yt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$m=class extends Zn{urlAfterRedirects;state;type=Yt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zm=class extends Zn{urlAfterRedirects;state;type=Yt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qm=class{route;type=Yt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wm=class{route;type=Yt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gm=class{snapshot;type=Yt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Km=class{snapshot;type=Yt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ym=class{snapshot;type=Yt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qm=class{snapshot;type=Yt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Nd=class{},el=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function $3(n){return!(n instanceof Nd)&&!(n instanceof el)}function z3(n,e){return n.providers&&!n._injector&&(n._injector=ud(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Lr(n){return n.outlet||Re}function q3(n,e){let t=n.filter(r=>Lr(r)===e);return t.push(...n.filter(r=>Lr(r)!==e)),t}function rl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Xm=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return rl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new il(this.rootInjector)}},il=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Xm(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(J(rt))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zm=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=o0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=o0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=s0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return s0(e,this._root).map(t=>t.value)}};function o0(n,e){if(n===e.value)return e;for(let t of e.children){let r=o0(n,t);if(r)return r}return null}function s0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=s0(n,t);if(r.length)return r.unshift(e),r}return[]}var Xn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Qc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Od=class extends Zm{snapshot;constructor(e,t){super(e),this.snapshot=t,p0(this,e)}toString(){return this.snapshot.toString()}};function kP(n){let e=W3(n),t=new jt([new Go("",{})]),r=new jt({}),i=new jt({}),o=new jt({}),s=new jt(""),a=new Jn(t,r,o,s,i,Re,n,e.root);return a.snapshot=e.root,new Od(new Xn(a,[]),e)}function W3(n){let e={},t={},r={},o=new ma([],e,r,"",t,Re,n,null,{});return new Fd("",new Xn(o,[]))}var Jn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ie(u=>u[Bd]))??X(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>ga(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>ga(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jm(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&NP(i)&&(r.resolve[Bd]=i.title),r}var ma=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Bd]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ga(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ga(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Fd=class extends Zm{url;constructor(e,t){super(t),this.url=e,p0(this,t)}toString(){return PP(this._root)}};function p0(n,e){e.value._routerState=n,e.children.forEach(t=>p0(n,t))}function PP(n){let e=n.children.length>0?` { ${n.children.map(PP).join(", ")} } `:"";return`${n.value}${e}`}function ZE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ii(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ii(e.params,t.params)||n.paramsSubject.next(t.params),y3(e.url,t.url)||n.urlSubject.next(t.url),ii(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function a0(n,e){let t=ii(n.params,e.params)&&I3(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||a0(n.parent,e.parent))}function NP(n){return typeof n.title=="string"||n.title===null}var OP=new L(""),Hd=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Re;activateEvents=new Ue;deactivateEvents=new Ue;attachEvents=new Ue;detachEvents=new Ue;routerOutletData=pd(void 0);parentContexts=_(il);location=_(Kn);changeDetector=_(_n);inputBinder=_(rg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new c0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Sn]})}return n})(),c0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Jn?this.route:e===il?this.childContexts:e===OP?this.outletData:this.parent.get(e,t)}},rg=new L("");var m0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ye(0,"router-outlet")},dependencies:[Hd],encapsulation:2})}return n})();function g0(n){let e=n.children&&n.children.map(g0),t=e?se(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Re&&(t.component=m0),t}function G3(n,e,t){let r=Ld(n,e._root,t?t._root:void 0);return new Od(r,e)}function Ld(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=K3(n,e,t);return new Xn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ld(n,a)),s}}let r=Y3(e.value),i=e.children.map(o=>Ld(n,o));return new Xn(r,i)}}function K3(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ld(n,r,i);return Ld(n,r)})}function Y3(n){return new Jn(new jt(n.url),new jt(n.params),new jt(n.queryParams),new jt(n.fragment),new jt(n.data),n.outlet,n.component,n)}var tl=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},FP="ngNavigationCancelingError";function eg(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ko(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=LP(!1,Rn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function LP(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[FP]=!0,t.cancellationCode=e,t}function Q3(n){return VP(n)&&Ko(n.url)}function VP(n){return!!n&&n[FP]}var X3=(n,e,t,r)=>ie(i=>(new l0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),l0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ZE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Qc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Qc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Qm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Km(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(ZE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ZE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},tg=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Zc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Z3(n,e,t){let r=n._root,i=e?e._root:null;return Sd(r,i,t,[r.value])}function J3(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ol(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!eb(n)?n:e.get(n):r}function Sd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Qc(e);return n.children.forEach(s=>{eq(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Rd(a,t.getContext(s),i)),i}function eq(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=tq(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new tg(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Sd(n,e,a?a.children:null,r,i):Sd(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zc(a.outlet.component,s))}else s&&Rd(e,a,i),i.canActivateChecks.push(new tg(r)),o.component?Sd(n,null,a?a.children:null,r,i):Sd(n,null,t,r,i);return i}function tq(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!pa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!pa(n.url,e.url)||!ii(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!a0(n,e)||!ii(n.queryParams,e.queryParams);case"paramsChange":default:return!a0(n,e)}}function Rd(n,e,t){let r=Qc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Rd(s,e.children.getContext(o),t):Rd(s,null,t):Rd(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Zc(e.outlet.component,i)):t.canDeactivateChecks.push(new Zc(null,i)):t.canDeactivateChecks.push(new Zc(null,i))}function $d(n){return typeof n=="function"}function nq(n){return typeof n=="boolean"}function rq(n){return n&&$d(n.canLoad)}function iq(n){return n&&$d(n.canActivate)}function oq(n){return n&&$d(n.canActivateChild)}function sq(n){return n&&$d(n.canDeactivate)}function aq(n){return n&&$d(n.canMatch)}function jP(n){return n instanceof Ii||n?.name==="EmptyError"}var Om=Symbol("INITIAL_VALUE");function nl(){return xt(n=>mc(n.map(e=>e.pipe(In(1),ar(Om)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===Om)return Om;if(t===!1||cq(t))return t}return!0}),nt(e=>e!==Om),In(1)))}function cq(n){return Ko(n)||n instanceof tl}function lq(n,e){return Bt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?X(se(V({},t),{guardsResult:!0})):uq(s,r,i,n).pipe(Bt(a=>a&&nq(a)?dq(r,o,n,e):X(a)),ie(a=>se(V({},t),{guardsResult:a})))})}function uq(n,e,t,r){return ht(n).pipe(Bt(i=>gq(i.component,i.route,t,e,r)),Ti(i=>i!==!0,!0))}function dq(n,e,t,r){return ht(e).pipe(To(i=>Co(fq(i.route.parent,r),hq(i.route,r),mq(n,i.path,t),pq(n,i.route,t))),Ti(i=>i!==!0,!0))}function hq(n,e){return n!==null&&e&&e(new Ym(n)),X(!0)}function fq(n,e){return n!==null&&e&&e(new Gm(n)),X(!0)}function pq(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return X(!0);let i=r.map(o=>xu(()=>{let s=rl(e)??t,a=ol(o,s),c=iq(a)?a.canActivate(e,n):Et(s,()=>a(e,n));return zi(c).pipe(Ti())}));return X(i).pipe(nl())}function mq(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>J3(s)).filter(s=>s!==null).map(s=>xu(()=>{let a=s.guards.map(c=>{let u=rl(s.node)??t,d=ol(c,u),p=oq(d)?d.canActivateChild(r,n):Et(u,()=>d(r,n));return zi(p).pipe(Ti())});return X(a).pipe(nl())}));return X(o).pipe(nl())}function gq(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return X(!0);let s=o.map(a=>{let c=rl(e)??i,u=ol(a,c),d=sq(u)?u.canDeactivate(n,e,t,r):Et(c,()=>u(n,e,t,r));return zi(d).pipe(Ti())});return X(s).pipe(nl())}function _q(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return X(!0);let o=i.map(s=>{let a=ol(s,n),c=rq(a)?a.canLoad(e,t):Et(n,()=>a(e,t));return zi(c)});return X(o).pipe(nl(),BP(r))}function BP(n){return Ry(ft(e=>{if(typeof e!="boolean")throw eg(n,e)}),ie(e=>e===!0))}function vq(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return X(!0);let o=i.map(s=>{let a=ol(s,n),c=aq(a)?a.canMatch(e,t):Et(n,()=>a(e,t));return zi(c)});return X(o).pipe(nl(),BP(r))}var Vd=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},jd=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Yc(n){return Io(new Vd(n))}function yq(n){return Io(new q(4e3,!1))}function bq(n){return Io(LP(!1,Rn.GuardRejected))}var u0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return X(r);if(i.numberOfChildren>1||!i.children[Re])return yq(`${e.redirectTo}`);i=i.children[Re]}}applyRedirectCommands(e,t,r,i,o){return wq(t,i,o).pipe(ie(s=>{if(s instanceof si)throw new jd(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new jd(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new si(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Xe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function wq(n,e,t){if(typeof n=="string")return X(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:d,title:p}=e;return zi(Et(t,()=>r({params:u,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:p})))}var d0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Eq(n,e,t,r,i){let o=UP(n,e,t);return o.matched?(r=z3(e,r),vq(r,e,t,i).pipe(ie(s=>s===!0?o:V({},d0)))):X(o)}function UP(n,e,t){if(e.path==="**")return Iq(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},d0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||gP)(t,n,e);if(!i)return V({},d0);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Iq(n){return{matched:!0,parameters:n.length>0?vP(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function fP(n,e,t,r){return t.length>0&&Dq(n,t,r)?{segmentGroup:new Xe(e,Tq(r,new Xe(t,n.children))),slicedSegments:[]}:t.length===0&&Sq(n,t,r)?{segmentGroup:new Xe(n.segments,Cq(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Xe(n.segments,n.children),slicedSegments:t}}function Cq(n,e,t,r){let i={};for(let o of t)if(ig(n,e,o)&&!r[Lr(o)]){let s=new Xe([],{});i[Lr(o)]=s}return V(V({},r),i)}function Tq(n,e){let t={};t[Re]=e;for(let r of n)if(r.path===""&&Lr(r)!==Re){let i=new Xe([],{});t[Lr(r)]=i}return t}function Dq(n,e,t){return t.some(r=>ig(n,e,r)&&Lr(r)!==Re)}function Sq(n,e,t){return t.some(r=>ig(n,e,r))}function ig(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function xq(n,e,t){return e.length===0&&!n.children[t]}var h0=class{};function Aq(n,e,t,r,i,o,s="emptyOnly"){return new f0(n,e,t,r,i,s,o).recognize()}var Rq=31,f0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new u0(this.urlSerializer,this.urlTree)}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=fP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:r})=>{let i=new Xn(r,t),o=new Fd("",i),s=SP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ma([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Re,t).pipe(ie(r=>({children:r,rootSnapshot:t})),Wr(r=>{if(r instanceof jd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vd?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof Xn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ht(o).pipe(To(s=>{let a=r.children[s],c=q3(t,s);return this.processSegmentGroup(e,c,a,s,i)}),jy((s,a)=>(s.push(...a),s)),Do(null),Vy(),Bt(s=>{if(s===null)return Yc(r);let a=HP(s);return Mq(a),X(a)}))}processSegment(e,t,r,i,o,s,a){return ht(t).pipe(To(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Wr(u=>{if(u instanceof Vd)return X(null);throw u}))),Ti(c=>!!c),Wr(c=>{if(jP(c))return xq(r,i,o)?X(new h0):Yc(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Lr(r)!==s&&(s===Re||!ig(i,o,r))?Yc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Yc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:m}=UP(t,i,o);if(!c)return Yc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Rq&&(this.allowRedirects=!1));let g=new ma(o,u,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,pP(i),Lr(i),i.component??i._loadedComponent??null,i,mP(i)),I=Jm(g,a,this.paramsInheritanceStrategy);return g.params=Object.freeze(I.params),g.data=Object.freeze(I.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,g,e).pipe(xt(A=>this.applyRedirects.lineralizeSegments(i,A)),Bt(A=>this.processSegment(e,r,t,A.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Eq(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(xt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xt(({routes:u})=>{let d=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:g}=c,I=new ma(m,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,pP(r),Lr(r),r.component??r._loadedComponent??null,r,mP(r)),R=Jm(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(R.params),I.data=Object.freeze(R.data);let{segmentGroup:A,slicedSegments:F}=fP(t,m,g,u);if(F.length===0&&A.hasChildren())return this.processChildren(d,u,A,I).pipe(ie(re=>new Xn(I,re)));if(u.length===0&&F.length===0)return X(new Xn(I,[]));let W=Lr(r)===o;return this.processSegment(d,u,A,F,W?Re:o,!0,I).pipe(ie(re=>new Xn(I,re instanceof Xn?[re]:[])))}))):Yc(t)))}getChildConfig(e,t,r){return t.children?X({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?X({routes:t._loadedRoutes,injector:t._loadedInjector}):_q(e,t,r,this.urlSerializer).pipe(Bt(i=>i?this.configLoader.loadChildren(e,t).pipe(ft(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):bq(t))):X({routes:[],injector:e})}};function Mq(n){n.sort((e,t)=>e.value.outlet===Re?-1:t.value.outlet===Re?1:e.value.outlet.localeCompare(t.value.outlet))}function kq(n){let e=n.value.routeConfig;return e&&e.path===""}function HP(n){let e=[],t=new Set;for(let r of n){if(!kq(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=HP(r.children);e.push(new Xn(r.value,i))}return e.filter(r=>!t.has(r))}function pP(n){return n.data||{}}function mP(n){return n.resolve||{}}function Pq(n,e,t,r,i,o){return Bt(s=>Aq(n,e,t,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:c})=>se(V({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Nq(n,e){return Bt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of $P(c))s.add(u);let a=0;return ht(s).pipe(To(c=>o.has(c)?Oq(c,r,n,e):(c.data=Jm(c,c.parent,n).resolve,X(void 0))),ft(()=>a++),gc(1),Bt(c=>a===s.size?X(t):Wt))})}function $P(n){let e=n.children.map(t=>$P(t)).flat();return[n,...e]}function Oq(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!NP(i)&&(o[Bd]=i.title),xu(()=>(n.data=Jm(n,n.parent,t).resolve,Fq(o,n,e,r).pipe(ie(s=>(n._resolvedData=s,n.data=V(V({},n.data),s),null)))))}function Fq(n,e,t,r){let i=t0(n);if(i.length===0)return X({});let o={};return ht(i).pipe(Bt(s=>Lq(n[s],e,t,r).pipe(Ti(),ft(a=>{if(a instanceof tl)throw eg(new _a,a);o[s]=a}))),gc(1),ie(()=>o),Wr(s=>jP(s)?Wt:Io(s)))}function Lq(n,e,t,r){let i=rl(e)??r,o=ol(n,i),s=o.resolve?o.resolve(e,t):Et(i,()=>o(e,t));return zi(s)}function JE(n){return xt(e=>{let t=n(e);return t?ht(t).pipe(ie(()=>e)):X(e)})}var _0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Re);return r}getResolvedTitleForRoute(t){return t.data[Bd]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>_(zP),providedIn:"root"})}return n})(),zP=(()=>{class n extends _0{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(J(aP))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sl=new L("",{providedIn:"root",factory:()=>({})}),zd=new L(""),qP=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(CE);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return X(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=zi(Et(t,()=>r.loadComponent())).pipe(ie(GP),xt(KP),ft(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ci(()=>{this.componentLoaders.delete(r)})),o=new dc(i,()=>new Q).pipe(uc());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=WP(r,this.compiler,t,this.onLoadEndListener).pipe(Ci(()=>{this.childrenLoaders.delete(r)})),s=new dc(o,()=>new Q).pipe(uc());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WP(n,e,t,r){return zi(Et(t,()=>n.loadChildren())).pipe(ie(GP),xt(KP),Bt(i=>i instanceof hm||Array.isArray(i)?X(i):ht(e.compileModuleAsync(i))),ie(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(zd,[],{optional:!0,self:!0}).flat()),{routes:s.map(g0),injector:o}}))}function Vq(n){return n&&typeof n=="object"&&"default"in n}function GP(n){return Vq(n)?n.default:n}function KP(n){return X(n)}var og=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>_(jq),providedIn:"root"})}return n})(),jq=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YP=new L("");var QP=new L(""),XP=(()=>{class n{currentNavigation=ze(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Q;transitionAbortWithErrorSubject=new Q;configLoader=_(qP);environmentInjector=_(rt);destroyRef=_(pn);urlSerializer=_(Ud);rootContexts=_(il);location=_(qo);inputBindingEnabled=_(rg,{optional:!0})!==null;titleStrategy=_(_0);options=_(sl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(og);createViewTransition=_(YP,{optional:!0});navigationErrorHandler=_(QP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>X(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new qm(i)),r=i=>this.events.next(new Wm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;zt(()=>{this.transitions?.next(se(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new jt(null),this.transitions.pipe(nt(r=>r!==null),xt(r=>{let i=!1;return X(r).pipe(xt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Rn.SupersededByNewNavigation),Wt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?se(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new $i(o.id,this.urlSerializer.serialize(o.rawUrl),"",kd.IgnoredSameUrlNavigation)),o.resolve(!1),Wt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return X(o).pipe(xt(c=>(this.events.next(new va(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Wt:Promise.resolve(c))),Pq(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ft(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let u=new Pd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:p,extras:m}=o,g=new va(c,this.urlSerializer.serialize(u),d,p);this.events.next(g);let I=kP(this.rootComponentType).snapshot;return this.currentTransition=r=se(V({},o),{targetSnapshot:I,urlAfterRedirects:u,extras:se(V({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(R=>(R.finalUrl=u,R)),X(r)}else return this.events.next(new $i(o.id,this.urlSerializer.serialize(o.extractedUrl),"",kd.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Wt}),ft(o=>{let s=new Um(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ie(o=>(this.currentTransition=r=se(V({},o),{guards:Z3(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),lq(this.environmentInjector,o=>this.events.next(o)),ft(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw eg(this.urlSerializer,o.guardsResult);let s=new Hm(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),nt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Rn.GuardRejected),!1)),JE(o=>{if(o.guards.canActivateChecks.length!==0)return X(o).pipe(ft(s=>{let a=new $m(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),xt(s=>{let a=!1;return X(s).pipe(Nq(this.paramsInheritanceStrategy,this.environmentInjector),ft({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Rn.NoDataFromResolver)}}))}),ft(s=>{let a=new zm(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),JE(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let u=rl(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(ft(d=>{a.component=d}),ie(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return mc(s(o.targetSnapshot.root)).pipe(Do(null),In(1))}),JE(()=>this.afterPreactivation()),xt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ht(a).pipe(ie(()=>r)):X(r)}),ie(o=>{let s=G3(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=se(V({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),ft(()=>{this.events.next(new Nd)}),X3(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),In(1),Cn(new de(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(nt(()=>!i&&!r.targetRouterState),ft(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Rn.Aborted)}))),ft({next:o=>{i=!0,this.lastSuccessfulNavigation=zt(this.currentNavigation),this.events.next(new ai(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Cn(this.transitionAbortWithErrorSubject.pipe(ft(o=>{throw o}))),Ci(()=>{i||this.cancelNavigationTransition(r,"",Rn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Wr(o=>{if(this.destroyed)return r.resolve(!1),Wt;if(i=!0,VP(o))this.events.next(new oi(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Q3(o)?this.events.next(new el(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Jc(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Et(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof tl){let{message:c,cancellationCode:u}=eg(this.urlSerializer,a);this.events.next(new oi(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new el(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Wt}))}))}cancelNavigationTransition(t,r,i){let o=new oi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=zt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bq(n){return n!==Ad}var ZP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>_(Uq),providedIn:"root"})}return n})(),ng=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Uq=(()=>{class n extends ng{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ei(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JP=(()=>{class n{urlSerializer=_(Ud);options=_(sl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=_(qo);urlHandlingStrategy=_(og);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new si;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof si?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=kP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>_(Hq),providedIn:"root"})}return n})(),Hq=(()=>{class n extends JP{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof va?this.updateStateMemento():t instanceof $i?this.commitTransition(r):t instanceof Pd?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Nd?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof oi&&t.code!==Rn.SupersededByNewNavigation&&t.code!==Rn.Redirect?this.restoreHistory(r):t instanceof Jc?this.restoreHistory(r,!0):t instanceof ai&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ei(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function v0(n,e){n.events.pipe(nt(t=>t instanceof ai||t instanceof oi||t instanceof Jc||t instanceof $i),ie(t=>t instanceof ai||t instanceof $i?0:(t instanceof oi?t.code===Rn.Redirect||t.code===Rn.SupersededByNewNavigation:!1)?2:1),nt(t=>t!==2),In(1)).subscribe(()=>{e()})}var $q={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},sn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(pm);stateManager=_(JP);options=_(sl,{optional:!0})||{};pendingTasks=_(Zr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(XP);urlSerializer=_(Ud);location=_(qo);urlHandlingStrategy=_(og);injector=_(rt);_events=new Q;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(ZP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(zd,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(rg,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ve;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=zt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof oi&&r.code!==Rn.Redirect&&r.code!==Rn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ai)this.navigated=!0;else if(r instanceof el){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Bq(i.source)},s);this.scheduleNavigation(a,Ad,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}$3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ad,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=V({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Nn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return zt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(g0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=xP(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return AP(p,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ko(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ad,null,r)}navigate(t,r={skipLocationChange:!1}){return qq(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(xi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},$q):r===!1?i=V({},zq):i=r,Ko(t))return lP(this.currentUrlTree,t,i);let o=this.parseUrl(t);return lP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,m)=>{a=p,c=m});let d=this.pendingTasks.add();return v0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qq(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new q(4008,!1)}var ci=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ze(null);get href(){return zt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Q;applicationErrorHandler=_(Nn);options=_(sl,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(_(new $o("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof ai&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ko(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ko(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Ge(sn),Ge(Jn),nd("tabindex"),Ge(Ht),Ge(xe),Ge(zc))};static \u0275dir=ue({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Y("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Pe("href",i.reactiveHref(),Gw)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Fe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Fe],replaceUrl:[2,"replaceUrl","replaceUrl",Fe],routerLink:"routerLink"},features:[Sn]})}return n})();var Gq=new L("");function y0(n,...e){return fn([{provide:zd,multi:!0,useValue:n},[],{provide:Jn,useFactory:Kq,deps:[sn]},{provide:mm,multi:!0,useFactory:Yq},e.map(t=>t.\u0275providers)])}function Kq(n){return n.routerState.root}function Yq(){let n=_(Te);return e=>{let t=n.get(xn);if(e!==t.components[0])return;let r=n.get(sn),i=n.get(Qq);n.get(Xq)===1&&r.initialNavigation(),n.get(Zq,null,{optional:!0})?.setUpPreloading(),n.get(Gq,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Qq=new L("",{factory:()=>new Q}),Xq=new L("",{providedIn:"root",factory:()=>1});var Zq=new L("");function ya(n){return n.buttons===0||n.detail===0}function ba(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var b0;function eN(){if(b0==null){let n=typeof document<"u"?document.head:null;b0=!!(n&&(n.createShadowRoot||n.attachShadow))}return b0}function w0(n){if(eN()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ln(n){return n.composedPath?n.composedPath()[0]:n.target}var E0;try{E0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E0=!1}var at=(()=>{class n{_platformId=_(ti);isBrowser=this._platformId?Bk(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||E0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qd;function tN(){if(qd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qd=!0}))}finally{qd=qd||!1}return qd}function al(n){return tN()?n:!!n.capture}function er(n){return n instanceof xe?n.nativeElement:n}var nN=new L("cdk-input-modality-detector-options"),rN={ignoreKeys:[18,17,224,91,16]},iN=650,I0={passive:!0,capture:!0},oN=(()=>{class n{_platform=_(at);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new jt(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ln(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<iN||(this._modality.next(ya(t)?"keyboard":"mouse"),this._mostRecentTarget=Ln(t))};_onTouchstart=t=>{if(ba(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ln(t)};constructor(){let t=_(K),r=_(ve),i=_(nN,{optional:!0});if(this._options=V(V({},rN),i),this.modalityDetected=this._modality.pipe(ku(1)),this.modalityChanged=this.modalityDetected.pipe(tp()),this._platform.isBrowser){let o=_(Mt).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(r,"keydown",this._onKeydown,I0),o.listen(r,"mousedown",this._onMousedown,I0),o.listen(r,"touchstart",this._onTouchstart,I0)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wd=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(Wd||{}),sN=new L("cdk-focus-monitor-default-options"),sg=al({passive:!0,capture:!0}),Yo=(()=>{class n{_ngZone=_(K);_platform=_(at);_inputModalityDetector=_(oN);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=_(ve);_stopInputModalityDetector=new Q;constructor(){let t=_(sN,{optional:!0});this._detectionMode=t?.detectionMode||Wd.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=Ln(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=er(t);if(!this._platform.isBrowser||i.nodeType!==1)return X();let o=w0(i)||this._document,s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new Q,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=er(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=er(t),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Wd.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===Wd.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?iN:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=Ln(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,sg),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,sg)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Cn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,sg),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,sg),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ag=new WeakMap,Vn=(()=>{class n{_appRef;_injector=_(Te);_environmentInjector=_(rt);load(t){let r=this._appRef=this._appRef||this._injector.get(xn),i=ag.get(r);i||(i={loaders:new Set,refs:[]},ag.set(r,i),r.onDestroy(()=>{ag.get(r)?.refs.forEach(o=>o.destroy()),ag.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(Im(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cl(n){return Array.isArray(n)?n:[n]}var aN=new Set,wa,cg=(()=>{class n{_platform=_(at);_nonce=_(jc,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):eW}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&Jq(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jq(n,e){if(!aN.has(n))try{wa||(wa=document.createElement("style"),e&&wa.setAttribute("nonce",e),wa.setAttribute("type","text/css"),document.head.appendChild(wa)),wa.sheet&&(wa.sheet.insertRule(`@media ${n} {body{ }}`,0),aN.add(n))}catch(t){console.error(t)}}function eW(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var C0=(()=>{class n{_mediaMatcher=_(cg);_zone=_(K);_queries=new Map;_destroySubject=new Q;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return cN(cl(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=cN(cl(t)).map(s=>this._registerQuery(s).observable),o=mc(i);return o=Co(o.pipe(In(1)),o.pipe(ku(1),Ru(0))),o.pipe(ie(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new de(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(ar(r),ie(({matches:s})=>({query:t,matches:s})),Cn(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cN(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var tW=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({providers:[tW]})}return n})();var Qo=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(Qo||{}),uN="cdk-high-contrast-black-on-white",dN="cdk-high-contrast-white-on-black",T0="cdk-high-contrast-active",D0=(()=>{class n{_platform=_(at);_hasCheckedHighContrastMode;_document=_(ve);_breakpointSubscription;constructor(){this._breakpointSubscription=_(C0).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Qo.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Qo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Qo.BLACK_ON_WHITE}return Qo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(T0,uN,dN),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Qo.BLACK_ON_WHITE?t.add(T0,uN):r===Qo.WHITE_ON_BLACK&&t.add(T0,dN)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var S0={},tr=(()=>{class n{_appId=_(Vc);getId(t){return this._appId!=="ng"&&(t+=this._appId),S0.hasOwnProperty(t)||(S0[t]=0),`${t}${S0[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nW=200,lg=class{_letterKeyStream=new Q;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Q;selectedItem=this._selectedItem;constructor(e,t){let r=typeof t?.debounceInterval=="number"?t.debounceInterval:nW;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(ft(t=>this._pressedLetters.push(t)),Ru(e),nt(()=>this._pressedLetters.length>0),ie(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,o=this._items[i];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function ll(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var ug=class{_items;_activeItemIndex=ze(-1);_activeItem=ze(null);_wrap=!1;_typeaheadSubscription=Ve.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof Ni?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):Lo(e)&&(this._effectRef=Pt(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new Q;change=new Q;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new lg(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(i||ll(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),r=typeof e=="number"?e:t.indexOf(e),i=t[r];this._activeItem.set(i??null),this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let r=1;r<=t.length;r++){let i=(this._activeItemIndex()+e*r+t.length)%t.length,o=t[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=t,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return Lo(this._items)?this._items():this._items instanceof Ni?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let r=e.indexOf(t);r>-1&&r!==this._activeItemIndex()&&(this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r))}}};var Yd=class extends ug{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var Ea;function hN(){if(Ea==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ea=!1,Ea;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)Ea=!0;else{let n=Element.prototype.scrollTo;n?Ea=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Ea=!1}}return Ea}function x0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var ul,fN=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function A0(){if(ul)return ul;if(typeof document!="object"||!document)return ul=new Set(fN),ul;let n=document.createElement("input");return ul=new Set(fN.filter(e=>(n.setAttribute("type",e),n.type===e))),ul}var rW=new L("MATERIAL_ANIMATIONS");var pN=null;function R0(){return _(rW,{optional:!0})?.animationsDisabled||_(rd,{optional:!0})==="NoopAnimations"?"di-disabled":(pN??=_(cg).matchMedia("(prefers-reduced-motion)").matches,pN?"reduced-motion":"enabled")}function Mn(){return R0()!=="enabled"}function Dt(n){return n==null?"":typeof n=="string"?n:`${n}px`}function qi(n){return n!=null&&`${n}`!="false"}var vr=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(vr||{}),M0=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=vr.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},gN=al({passive:!0,capture:!0}),k0=class{_events=new Map;addHandler(e,t,r,i){let o=this._events.get(t);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,gN)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let o=i.get(t);o&&(o.delete(r),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,gN)))}_delegateEventHandler=e=>{let t=Ln(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}},Qd={enterDuration:225,exitDuration:150},iW=800,_N=al({passive:!0,capture:!0}),vN=["mousedown","touchstart"],yN=["mouseup","mouseleave","touchend","touchcancel"],oW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),Xd=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new k0;constructor(e,t,r,i,o){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=er(r)),o&&o.get(Vn).load(oW)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=V(V({},Qd),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let s=r.radius||sW(e,t,i),a=e-i.left,c=t-i.top,u=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let p=window.getComputedStyle(d),m=p.transitionProperty,g=p.transitionDuration,I=m==="none"||g==="0s"||g==="0s, 0s"||i.width===0&&i.height===0,R=new M0(this,d,r,I);d.style.transform="scale3d(1, 1, 1)",R.state=vr.FADING_IN,r.persistent||(this._mostRecentTransientRipple=R);let A=null;return!I&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let F=()=>{A&&(A.fallbackTimer=null),clearTimeout(re),this._finishRippleTransition(R)},W=()=>this._destroyRipple(R),re=setTimeout(W,u+100);d.addEventListener("transitionend",F),d.addEventListener("transitioncancel",W),A={onTransitionEnd:F,onTransitionCancel:W,fallbackTimer:re}}),this._activeRipples.set(R,A),(I||!u)&&this._finishRippleTransition(R),R}fadeOutRipple(e){if(e.state===vr.FADING_OUT||e.state===vr.HIDDEN)return;let t=e.element,r=V(V({},Qd),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=vr.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=er(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,vN.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{yN.forEach(t=>{this._triggerElement.addEventListener(t,this,_N)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===vr.FADING_IN?this._startFadeOutTransition(e):e.state===vr.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=vr.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=vr.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=ya(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+iW;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!ba(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===vr.VISIBLE||e.config.terminateOnPointerUp&&e.state===vr.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(vN.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(yN.forEach(t=>e.removeEventListener(t,this,_N)),this._pointerUpEventsRegistered=!1))}};function sW(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var P0=new L("mat-ripple-global-options"),fg=(()=>{class n{_elementRef=_(xe);_animationsDisabled=Mn();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=_(K),r=_(at),i=_(P0,{optional:!0}),o=_(Te);this._globalOptions=i||{},this._rippleRenderer=new Xd(this,t,this._elementRef,r,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:V(V(V({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,V(V({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,V(V({},this.rippleConfig),t))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&Me("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var aW={capture:!0},cW=["focus","mousedown","mouseenter","touchstart"],N0="mat-ripple-loader-uninitialized",O0="mat-ripple-loader-class-name",bN="mat-ripple-loader-centered",pg="mat-ripple-loader-disabled",wN=(()=>{class n{_document=_(ve);_animationsDisabled=Mn();_globalRippleOptions=_(P0,{optional:!0});_platform=_(at);_ngZone=_(K);_injector=_(Te);_eventCleanups;_hosts=new Map;constructor(){let t=_(Mt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>cW.map(r=>t.listen(this._document,r,this._onInteraction,aW)))}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(N0,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(O0))&&t.setAttribute(O0,r.className||""),r.centered&&t.setAttribute(bN,""),r.disabled&&t.setAttribute(pg,"")}setDisabled(t,r){let i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(pg,""):t.removeAttribute(pg)}_onInteraction=t=>{let r=Ln(t);if(r instanceof HTMLElement){let i=r.closest(`[${N0}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(O0)),t.append(r);let i=this._globalRippleOptions,o=this._animationsDisabled?0:i?.animation?.enterDuration??Qd.enterDuration,s=this._animationsDisabled?0:i?.animation?.exitDuration??Qd.exitDuration,a={rippleDisabled:this._animationsDisabled||i?.disabled||t.hasAttribute(pg),rippleConfig:{centered:t.hasAttribute(bN),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},c=new Xd(a,this._ngZone,r,this._platform,this._injector),u=!a.rippleDisabled;u&&c.setupTriggerEvents(t),this._hosts.set(t,{target:a,renderer:c,hasSetUpEvents:u}),t.removeAttribute(N0)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var lW=["mat-icon-button",""],uW=["*"],dW=new L("MAT_BUTTON_CONFIG");function EN(n){return n==null?void 0:$c(n)}var mg=(()=>{class n{_elementRef=_(xe);_ngZone=_(K);_animationsDisabled=Mn();_config=_(dW,{optional:!0});_focusMonitor=_(Yo);_cleanupClick;_renderer=_(Ht);_rippleLoader=_(wN);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){_(Vn).load(dl);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(r,i){r&2&&(Pe("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled())("tabindex",i._getTabIndex()),Nr(i.color?"mat-"+i.color:""),Me("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("mat-unthemed",!i.color)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Fe],disabled:[2,"disabled","disabled",Fe],ariaDisabled:[2,"aria-disabled","ariaDisabled",Fe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Fe],tabIndex:[2,"tabIndex","tabIndex",EN],_tabindex:[2,"tabindex","_tabindex",EN]}})}return n})(),Vr=(()=>{class n extends mg{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[$t],attrs:lW,ngContentSelectors:uW,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Ct(),On(0,"span",0),He(1),On(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var hW=new L("cdk-dir-doc",{providedIn:"root",factory:fW});function fW(){return _(ve)}var pW=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function IN(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?pW.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Wi=(()=>{class n{get value(){return this.valueSignal()}valueSignal=ze("ltr");change=new Ue;constructor(){let t=_(hW,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(IN(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({})}return n})();var Qe=(()=>{class n{constructor(){_(D0)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({imports:[Xo,Xo]})}return n})();var hl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({imports:[Qe,Qe]})}return n})();var mW=["matButton",""],DN=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],SN=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],gW=["mat-fab",""];var CN=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),fl=(()=>{class n extends mg{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=_W(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let r=this._elementRef.nativeElement.classList,i=this._appearance?CN.get(this._appearance):null,o=CN.get(t);i&&r.remove(...i),r.add(...o),this._appearance=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[$t],attrs:mW,ngContentSelectors:SN,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Ct(DN),On(0,"span",0),He(1),Yn(2,"span",1),He(3,1),mr(),He(4,2),On(5,"span",2)(6,"span",3)),r&2&&Me("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function _W(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}var vW=new L("mat-mdc-fab-default-options",{providedIn:"root",factory:xN});function xN(){return{color:"accent"}}var TN=xN(),AN=(()=>{class n extends mg{_options=_(vW,{optional:!0});_isFab=!0;extended;constructor(){super(),this._options=this._options||TN,this.color=this._options.color||TN.color}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["button","mat-fab",""],["a","mat-fab",""],["button","matFab",""],["a","matFab",""]],hostAttrs:[1,"mdc-fab","mat-mdc-fab-base","mat-mdc-fab"],hostVars:4,hostBindings:function(r,i){r&2&&Me("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended)},inputs:{extended:[2,"extended","extended",Fe]},exportAs:["matButton","matAnchor"],features:[$t],attrs:gW,ngContentSelectors:SN,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Ct(DN),On(0,"span",0),He(1),Yn(2,"span",1),He(3,1),mr(),He(4,2),On(5,"span",2)(6,"span",3)),r&2&&Me("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-fab-base{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus>.mat-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mat-fab-container-color, var(--mat-sys-primary-container));border-radius:var(--mat-fab-container-shape, var(--mat-sys-corner-large));color:var(--mat-fab-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mat-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:hover{box-shadow:var(--mat-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-fab:focus{box-shadow:var(--mat-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mat-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-fab-touch-target-size, 48px);display:var(--mat-fab-touch-target-display, block);left:50%;width:var(--mat-fab-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mat-fab-small-container-color, var(--mat-sys-primary-container));border-radius:var(--mat-fab-small-container-shape, var(--mat-sys-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mat-fab-small-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:hover{box-shadow:var(--mat-fab-small-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mat-fab-small-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mat-fab-small-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-small-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-fab-small-touch-target-size, 48px);display:var(--mat-fab-small-touch-target-display);left:50%;width:var(--mat-fab-small-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-mini-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mat-fab-extended-container-elevation-shadow, var(--mat-sys-level3));height:var(--mat-fab-extended-container-height, 56px);border-radius:var(--mat-fab-extended-container-shape, var(--mat-sys-corner-large));font-family:var(--mat-fab-extended-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-fab-extended-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-fab-extended-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-fab-extended-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-extended-fab:hover{box-shadow:var(--mat-fab-extended-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mat-fab-extended-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mat-fab-extended-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}
`],encapsulation:2,changeDetection:0})}return n})();var yr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({imports:[Qe,hl,Qe]})}return n})();var gg;function yW(){if(gg===void 0&&(gg=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(gg=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return gg}function Jd(n){return yW()?.createHTML(n)||n}function RN(n){return Error(`Unable to find icon with the name "${n}"`)}function bW(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function MN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function kN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Gi=class{url;svgText;options;svgElement;constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},NN=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Gi(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){let s=this._sanitizer.sanitize(nn.HTML,i);if(!s)throw kN(i);let a=Jd(s);return this._addSvgIconConfig(t,r,new Gi("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Gi(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let o=this._sanitizer.sanitize(nn.HTML,r);if(!o)throw kN(r);let s=Jd(o);return this._addSvgIconSetConfig(t,new Gi("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(nn.RESOURCE_URL,t);if(!r)throw MN(t);let i=this._cachedIconsByUrl.get(r);return i?X(_g(i)):this._loadSvgIconFromConfig(new Gi(t,null)).pipe(ft(o=>this._cachedIconsByUrl.set(r,o)),ie(o=>_g(o)))}getNamedSvgIcon(t,r=""){let i=PN(r,t),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):Io(RN(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?X(_g(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ie(r=>_g(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return X(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Wr(a=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(nn.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(u)),X(null)})));return Au(o).pipe(ie(()=>{let s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw RN(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(ft(r=>t.svgText=r),ie(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?X(null):this._fetchIcon(t).pipe(ft(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let o=t.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(Jd("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(Jd("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw bW();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(nn.RESOURCE_URL,r);if(!s)throw MN(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(ie(u=>Jd(u)),Ci(()=>this._inProgressUrlFetches.delete(s)),Mu());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(PN(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,t);if(o)return wW(o)?new Gi(o.url,null,o.options):new Gi(o,null)}}static \u0275fac=function(r){return new(r||n)(J(Pm,8),J(YE),J(ve,8),J(Gt))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _g(n){return n.cloneNode(!0)}function PN(n,e){return n+":"+e}function wW(n){return!!(n.url&&n.options)}var EW=["*"],IW=new L("MAT_ICON_DEFAULT_OPTIONS"),CW=new L("mat-icon-location",{providedIn:"root",factory:TW});function TW(){let n=_(ve),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var ON=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],DW=ON.map(n=>`[${n}]`).join(", "),SW=/^url\(['"]?#(.*?)['"]?\)$/,br=(()=>{class n{_elementRef=_(xe);_iconRegistry=_(NN);_location=_(CW);_errorHandler=_(Gt);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Ve.EMPTY;constructor(){let t=_(new $o("aria-hidden"),{optional:!0}),r=_(IW,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(DW),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)ON.forEach(s=>{let a=r[o],c=a.getAttribute(s),u=c?c.match(SW):null;if(u){let d=i.get(a);d||(d=[],i.set(a,d)),d.push({name:s,value:u[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(In(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(Pe("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Nr(i.color?"mat-"+i.color:""),Me("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Fe],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:EW,decls:1,vars:0,template:function(r,i){r&1&&(Ct(),He(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),wr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({imports:[Qe,Qe]})}return n})();var xW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return n})(),AW={passive:!0},FN=(()=>{class n{_platform=_(at);_ngZone=_(K);_renderer=_(Mt).createRenderer(null,null);_styleLoader=_(Vn);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return Wt;this._styleLoader.load(xW);let r=er(t),i=this._monitoredElements.get(r);if(i)return i.subject;let o=new Q,s="cdk-text-field-autofilled",a=u=>{u.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(s)?(r.classList.add(s),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!0}))):u.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(s)&&(r.classList.remove(s),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!1})))},c=this._ngZone.runOutsideAngular(()=>(r.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(r,"animationstart",a,AW)));return this._monitoredElements.set(r,{subject:o,unlisten:c}),o}stopMonitoring(t){let r=er(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({})}return n})();var qN=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Ge(Ht),Ge(xe))};static \u0275dir=ue({type:n})}return n})(),RW=(()=>{class n extends qN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ei(n)))(i||n)}})();static \u0275dir=ue({type:n,features:[$t]})}return n})(),Mg=new L("");var MW={provide:Mg,useExisting:lr(()=>kg),multi:!0};function kW(){let n=_r()?_r().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var PW=new L(""),kg=(()=>{class n extends qN{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!kW())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Ge(Ht),Ge(xe),Ge(PW,8))};static \u0275dir=ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Y("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[on([MW]),$t]})}return n})();function L0(n){return n==null||V0(n)===0}function V0(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var j0=new L(""),B0=new L(""),NW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,yg=class{static min(e){return OW(e)}static max(e){return FW(e)}static required(e){return LW(e)}static requiredTrue(e){return VW(e)}static email(e){return jW(e)}static minLength(e){return BW(e)}static maxLength(e){return UW(e)}static pattern(e){return HW(e)}static nullValidator(e){return WN()}static compose(e){return ZN(e)}static composeAsync(e){return JN(e)}};function OW(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function FW(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function LW(n){return L0(n.value)?{required:!0}:null}function VW(n){return n.value===!0?null:{required:!0}}function jW(n){return L0(n.value)||NW.test(n.value)?null:{email:!0}}function BW(n){return e=>{let t=e.value?.length??V0(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function UW(n){return e=>{let t=e.value?.length??V0(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function HW(n){if(!n)return WN;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(L0(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function WN(n){return null}function GN(n){return n!=null}function KN(n){return ua(n)?ht(n):n}function YN(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function QN(n,e){return e.map(t=>t(n))}function $W(n){return!n.validate}function XN(n){return n.map(e=>$W(e)?e:t=>e.validate(t))}function ZN(n){if(!n)return null;let e=n.filter(GN);return e.length==0?null:function(t){return YN(QN(t,e))}}function U0(n){return n!=null?ZN(XN(n)):null}function JN(n){if(!n)return null;let e=n.filter(GN);return e.length==0?null:function(t){let r=QN(t,e).map(KN);return Au(r).pipe(ie(YN))}}function H0(n){return n!=null?JN(XN(n)):null}function VN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function eO(n){return n._rawValidators}function tO(n){return n._rawAsyncValidators}function F0(n){return n?Array.isArray(n)?n:[n]:[]}function bg(n,e){return Array.isArray(n)?n.includes(e):n===e}function jN(n,e){let t=F0(e);return F0(n).forEach(i=>{bg(t,i)||t.push(i)}),t}function BN(n,e){return F0(e).filter(t=>!bg(n,t))}var wg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=U0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=H0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Zo=class extends wg{name;get formDirective(){return null}get path(){return null}},Ia=class extends wg{_parent=null;name=null;valueAccessor=null},Eg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},zW={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},kye=se(V({},zW),{"[class.ng-submitted]":"isSubmitted"}),nO=(()=>{class n extends Eg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Ge(Ia,2))};static \u0275dir=ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Me("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[$t]})}return n})(),rO=(()=>{class n extends Eg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Ge(Zo,10))};static \u0275dir=ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Me("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[$t]})}return n})();var eh="VALID",vg="INVALID",ml="PENDING",th="DISABLED",Jo=class{},Ig=class extends Jo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},rh=class extends Jo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ih=class extends Jo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},gl=class extends Jo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Cg=class extends Jo{source;constructor(e){super(),this.source=e}},Tg=class extends Jo{source;constructor(e){super(),this.source=e}};function iO(n){return(Pg(n)?n.validators:n)||null}function qW(n){return Array.isArray(n)?U0(n):n||null}function oO(n,e){return(Pg(e)?e.asyncValidators:n)||null}function WW(n){return Array.isArray(n)?H0(n):n||null}function Pg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function GW(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[t])throw new q(1001,"")}function KW(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new q(1002,"")})}var Dg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return zt(this.statusReactive)}set status(e){zt(()=>this.statusReactive.set(e))}_status=Or(()=>this.statusReactive());statusReactive=ze(void 0);get valid(){return this.status===eh}get invalid(){return this.status===vg}get pending(){return this.status==ml}get disabled(){return this.status===th}get enabled(){return this.status!==th}errors;get pristine(){return zt(this.pristineReactive)}set pristine(e){zt(()=>this.pristineReactive.set(e))}_pristine=Or(()=>this.pristineReactive());pristineReactive=ze(!0);get dirty(){return!this.pristine}get touched(){return zt(this.touchedReactive)}set touched(e){zt(()=>this.touchedReactive.set(e))}_touched=Or(()=>this.touchedReactive());touchedReactive=ze(!1);get untouched(){return!this.touched}_events=new Q;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BN(e,this._rawAsyncValidators))}hasValidator(e){return bg(this._rawValidators,e)}hasAsyncValidator(e){return bg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(se(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ih(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ih(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(se(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new rh(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new rh(!0,r))}markAsPending(e={}){this.status=ml;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(se(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=th,this.errors=null,this._forEachChild(i=>{i.disable(se(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ig(this.value,r)),this._events.next(new gl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(se(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=eh,this._forEachChild(r=>{r.enable(se(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(se(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eh||this.status===ml)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ig(this.value,t)),this._events.next(new gl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(se(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?th:eh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ml,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=KN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new gl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?th:this.errors?vg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ml)?ml:this._anyControlsHaveStatus(vg)?vg:eh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new rh(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ih(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=qW(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=WW(this._rawAsyncValidators)}},Sg=class extends Dg{constructor(e,t,r){super(iO(t),oO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){KW(this,!0,e),Object.keys(e).forEach(r=>{GW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Tg(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ng=new L("",{providedIn:"root",factory:()=>$0}),$0="always";function YW(n,e){return[...e.path,n]}function xg(n,e,t=$0){z0(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),XW(n,e),JW(n,e),ZW(n,e),QW(n,e)}function UN(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Rg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ag(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function QW(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function z0(n,e){let t=eO(n);e.validator!==null?n.setValidators(VN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=tO(n);e.asyncValidator!==null?n.setAsyncValidators(VN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Ag(e._rawValidators,i),Ag(e._rawAsyncValidators,i)}function Rg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=eO(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=tO(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Ag(e._rawValidators,r),Ag(e._rawAsyncValidators,r),t}function XW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&sO(n,e)})}function ZW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&sO(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function sO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function JW(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function aO(n,e){n==null,z0(n,e)}function e5(n,e){return Rg(n,e)}function t5(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function n5(n){return Object.getPrototypeOf(n.constructor)===RW}function cO(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function r5(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===kg?t=o:n5(o)?r=o:i=o}),i||r||t||null}function i5(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var o5={provide:Zo,useExisting:lr(()=>oh)},nh=Promise.resolve(),oh=(()=>{class n extends Zo{callSetDisabledState;get submitted(){return zt(this.submittedReactive)}_submitted=Or(()=>this.submittedReactive());submittedReactive=ze(!1);_directives=new Set;form;ngSubmit=new Ue;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Sg({},U0(t),H0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){nh.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),xg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){nh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){nh.then(()=>{let r=this._findContainer(t.path),i=new Sg({});aO(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){nh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){nh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),cO(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Cg(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Ge(j0,10),Ge(B0,10),Ge(Ng,8))};static \u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Y("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[on([o5]),$t]})}return n})();function HN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function $N(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var lO=class extends Dg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(iO(t),oO(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pg(t)&&(t.nonNullable||t.initialValueIsDefault)&&($N(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Tg(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){$N(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var s5=n=>n instanceof lO;var a5={provide:Ia,useExisting:lr(()=>q0)},zN=Promise.resolve(),q0=(()=>{class n extends Ia{_changeDetectorRef;callSetDisabledState;control=new lO;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ue;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=r5(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),t5(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){zN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Fe(r);zN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?YW(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(Ge(Zo,9),Ge(j0,10),Ge(B0,10),Ge(Mg,10),Ge(_n,8),Ge(Ng,8))};static \u0275dir=ue({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[on([a5]),$t,Sn]})}return n})();var uO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var c5={provide:Zo,useExisting:lr(()=>W0)},W0=(()=>{class n extends Zo{callSetDisabledState;get submitted(){return zt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Or(()=>this._submittedReactive());_submittedReactive=ze(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ue;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return xg(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){UN(t.control||null,t,!1),i5(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),cO(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Cg(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(UN(r||null,t),s5(i)&&(xg(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);aO(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&e5(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){z0(this.form,this),this._oldForm&&Rg(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(Ge(j0,10),Ge(B0,10),Ge(Ng,8))};static \u0275dir=ue({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Y("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[on([c5]),$t,Sn]})}return n})();var l5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({})}return n})();var dO=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ng,useValue:t.callSetDisabledState??$0}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({imports:[l5]})}return n})();var hO=new L("MAT_INPUT_VALUE_ACCESSOR");var G0=class{_box;_destroyed=new Q;_resizeSubject=new Q;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new de(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(nt(t=>t.some(r=>r.target===e)),ip({bufferSize:1,refCount:!0}),Cn(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},fO=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=_(K);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new G0(i)),this._observers.get(i).observe(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var d5=["notch"],h5=["matFormFieldNotchedOutline",""],f5=["*"],pO=["iconPrefixContainer"],mO=["textPrefixContainer"],gO=["iconSuffixContainer"],_O=["textSuffixContainer"],p5=["textField"],m5=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],g5=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function _5(n,e){n&1&&ye(0,"span",21)}function v5(n,e){if(n&1&&(C(0,"label",20),He(1,1),fe(2,_5,1,0,"span",21),M()),n&2){let t=z(2);ee("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Pe("for",t._control.disableAutomaticLabeling?null:t._control.id),O(2),pe(!t.hideRequiredMarker&&t._control.required?2:-1)}}function y5(n,e){if(n&1&&fe(0,v5,3,5,"label",20),n&2){let t=z();pe(t._hasFloatingLabel()?0:-1)}}function b5(n,e){n&1&&ye(0,"div",7)}function w5(n,e){}function E5(n,e){if(n&1&&Uo(0,w5,0,0,"ng-template",13),n&2){z(2);let t=Qn(1);ee("ngTemplateOutlet",t)}}function I5(n,e){if(n&1&&(C(0,"div",9),fe(1,E5,1,1,null,13),M()),n&2){let t=z();ee("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),O(),pe(t._forceDisplayInfixLabel()?-1:1)}}function C5(n,e){n&1&&(C(0,"div",10,2),He(2,2),M())}function T5(n,e){n&1&&(C(0,"div",11,3),He(2,3),M())}function D5(n,e){}function S5(n,e){if(n&1&&Uo(0,D5,0,0,"ng-template",13),n&2){z();let t=Qn(1);ee("ngTemplateOutlet",t)}}function x5(n,e){n&1&&(C(0,"div",14,4),He(2,4),M())}function A5(n,e){n&1&&(C(0,"div",15,5),He(2,5),M())}function R5(n,e){n&1&&ye(0,"div",16)}function M5(n,e){n&1&&(C(0,"div",18),He(1,6),M())}function k5(n,e){if(n&1&&(C(0,"mat-hint",22),j(1),M()),n&2){let t=z(2);ee("id",t._hintLabelId),O(),Tt(t.hintLabel)}}function P5(n,e){if(n&1&&(C(0,"div",19),fe(1,k5,2,2,"mat-hint",22),He(2,7),ye(3,"div",23),He(4,8),M()),n&2){let t=z();O(),pe(t.hintLabel?1:-1)}}var sh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["mat-label"]]})}return n})(),N5=new L("MatError");var K0=(()=>{class n{align="start";id=_(tr).getId("mat-mdc-hint-");static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){r&2&&(Ho("id",i.id),Pe("align",null),Me("mat-mdc-form-field-hint-end",i.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),O5=new L("MatPrefix");var F5=new L("MatSuffix");var CO=new L("FloatingLabelParent"),vO=(()=>{class n{_elementRef=_(xe);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=_(fO);_ngZone=_(K);_parent=_(CO);_resizeSubscription=new Ve;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return L5(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){r&2&&Me("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function L5(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let r=t.scrollWidth;return t.remove(),r}var yO="mdc-line-ripple--active",Og="mdc-line-ripple--deactivating",bO=(()=>{class n{_elementRef=_(xe);_cleanupTransitionEnd;constructor(){let t=_(K),r=_(Ht);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=r.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(Og),t.add(yO)}deactivate(){this._elementRef.nativeElement.classList.add(Og)}_handleTransitionEnd=t=>{let r=this._elementRef.nativeElement.classList,i=r.contains(Og);t.propertyName==="opacity"&&i&&r.remove(yO,Og)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),wO=(()=>{class n{_elementRef=_(xe);_ngZone=_(K);open=!1;_notch;ngAfterViewInit(){let t=this._elementRef.nativeElement,r=t.querySelector(".mdc-floating-label");r?(t.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(r.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>r.style.transitionDuration="")}))):t.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){let r=this._notch.nativeElement;!this.open||!t?r.style.width="":r.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(t){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${t}px)`)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(r&1&&kt(d5,5),r&2){let o;Ke(o=Ye())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){r&2&&Me("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:h5,ngContentSelectors:f5,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,i){r&1&&(Ct(),On(0,"div",1),Yn(1,"div",2,0),He(3),mr(),On(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),Y0=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n})}return n})();var Q0=new L("MatFormField"),V5=new L("MAT_FORM_FIELD_DEFAULT_OPTIONS"),EO="fill",j5="auto",IO="fixed",B5="translateY(-50%)",ah=(()=>{class n{_elementRef=_(xe);_changeDetectorRef=_(_n);_platform=_(at);_idGenerator=_(tr);_ngZone=_(K);_defaults=_(V5,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=md("iconPrefixContainer");_textPrefixContainerSignal=md("textPrefixContainer");_iconSuffixContainerSignal=md("iconSuffixContainer");_textSuffixContainerSignal=md("textSuffixContainer");_prefixSuffixContainers=Or(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(t=>t?.nativeElement).filter(t=>t!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=xk(sh);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=qi(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||j5}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(t){let r=t||this._defaults?.appearance||EO;this._appearanceSignal.set(r)}_appearanceSignal=ze(EO);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||IO}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||IO}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new Q;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=Mn();constructor(){let t=this._defaults,r=_(Wi);t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),Pt(()=>this._currentDirection=r.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Or(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let r=this._control,i="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(i+t.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(i+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=r.stateChanges.pipe(ar([void 0,void 0]),ie(()=>[r.errorState,r.userAriaDescribedBy]),rp(),nt(([[o,s],[a,c]])=>o!==a||s!==c)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(Cn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),$s(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let t=this._control.focused;t&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!t&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",t),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",t)}_syncOutlineLabelOffset(){kk({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let t of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(t,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:t=>this._writeOutlinedLabelStyles(t())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Or(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let r=this._control?this._control.ngControl:null;return r&&r[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,s=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));let r=this._control.describedByIds,i;if(r){let o=this._describedByIds||t;i=t.concat(r.filter(s=>s&&!o.includes(s)))}else i=t;this._control.setDescribedByIds(i),this._describedByIds=t}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let t=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,i=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=t?.getBoundingClientRect().width??0,a=r?.getBoundingClientRect().width??0,c=i?.getBoundingClientRect().width??0,u=o?.getBoundingClientRect().width??0,d=this._currentDirection==="rtl"?"-1":"1",p=`${s+a}px`,g=`calc(${d} * (${p} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,I=`var(--mat-mdc-form-field-label-transform, ${B5} translateX(${g}))`,R=s+a+c+u;return[I,R]}_writeOutlinedLabelStyles(t){if(t!==null){let[r,i]=t;this._floatingLabel&&(this._floatingLabel.element.style.transform=r),i!==null&&this._notchedOutline?._setMaxWidth(i)}}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,o){if(r&1&&(IE(o,i._labelChild,sh,5),gn(o,Y0,5),gn(o,O5,5),gn(o,F5,5),gn(o,N5,5),gn(o,K0,5)),r&2){vm();let s;Ke(s=Ye())&&(i._formFieldControl=s.first),Ke(s=Ye())&&(i._prefixChildren=s),Ke(s=Ye())&&(i._suffixChildren=s),Ke(s=Ye())&&(i._errorChildren=s),Ke(s=Ye())&&(i._hintChildren=s)}},viewQuery:function(r,i){if(r&1&&(Hc(i._iconPrefixContainerSignal,pO,5),Hc(i._textPrefixContainerSignal,mO,5),Hc(i._iconSuffixContainerSignal,gO,5),Hc(i._textSuffixContainerSignal,_O,5),kt(p5,5),kt(pO,5),kt(mO,5),kt(gO,5),kt(_O,5),kt(vO,5),kt(wO,5),kt(bO,5)),r&2){vm(4);let o;Ke(o=Ye())&&(i._textField=o.first),Ke(o=Ye())&&(i._iconPrefixContainer=o.first),Ke(o=Ye())&&(i._textPrefixContainer=o.first),Ke(o=Ye())&&(i._iconSuffixContainer=o.first),Ke(o=Ye())&&(i._textSuffixContainer=o.first),Ke(o=Ye())&&(i._floatingLabel=o.first),Ke(o=Ye())&&(i._notchedOutline=o.first),Ke(o=Ye())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(r,i){r&2&&Me("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-appearance-fill",i.appearance=="fill")("mat-form-field-appearance-outline",i.appearance=="outline")("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-primary",i.color!=="accent"&&i.color!=="warn")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[on([{provide:Q0,useExisting:n},{provide:CO,useExisting:n}])],ngContentSelectors:g5,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(r&1){let o=je();Ct(m5),Uo(0,y5,1,1,"ng-template",null,0,hd),C(2,"div",6,1),Y("click",function(a){return ae(o),ce(i._control.onContainerClick(a))}),fe(4,b5,1,0,"div",7),C(5,"div",8),fe(6,I5,2,2,"div",9),fe(7,C5,3,0,"div",10),fe(8,T5,3,0,"div",11),C(9,"div",12),fe(10,S5,1,1,null,13),He(11),M(),fe(12,x5,3,0,"div",14),fe(13,A5,3,0,"div",15),M(),fe(14,R5,1,0,"div",16),M(),C(15,"div",17),fe(16,M5,2,0,"div",18)(17,P5,5,1,"div",19),M()}if(r&2){let o;O(2),Me("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),O(2),pe(!i._hasOutline()&&!i._control.disabled?4:-1),O(2),pe(i._hasOutline()?6:-1),O(),pe(i._hasIconPrefix?7:-1),O(),pe(i._hasTextPrefix?8:-1),O(2),pe(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),O(2),pe(i._hasTextSuffix?12:-1),O(),pe(i._hasIconSuffix?13:-1),O(),pe(i._hasOutline()?-1:14),O(),Me("mat-mdc-form-field-subscript-dynamic-size",i.subscriptSizing==="dynamic");let s=i._getSubscriptMessageType();O(),pe((o=s)==="error"?16:o==="hint"?17:-1)}},dependencies:[vO,wO,_d,bO,K0],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var TO=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fg=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,r,i,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=o}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,o=r?.isErrorState(i,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var X0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({imports:[Qe,lN,ah,Qe]})}return n})();var U5=["button","checkbox","file","hidden","image","radio","range","reset","submit"],H5=new L("MAT_INPUT_CONFIG"),DO=(()=>{class n{_elementRef=_(xe);_platform=_(at);ngControl=_(Ia,{optional:!0,self:!0});_autofillMonitor=_(FN);_ngZone=_(K);_formField=_(Q0,{optional:!0});_renderer=_(Ht);_uid=_(tr).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=_(H5,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new Q;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=qi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(yg.required)??!1}set required(t){this._required=qi(t)}_required;get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&A0().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=qi(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>A0().has(t));constructor(){let t=_(oh,{optional:!0}),r=_(W0,{optional:!0}),i=_(TO),o=_(hO,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?Lo(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Fg(i,this.ngControl,r,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Pt(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){let r=this._elementRef.nativeElement;r.type==="number"?(r.type="text",r.setSelectionRange(0,0),r.type="number"):r.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){U5.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(t){let r=this._elementRef.nativeElement;t.length?r.setAttribute("aria-describedby",t.join(" ")):r.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{let r=t.target;!r.value&&r.selectionStart===0&&r.selectionEnd===0&&(r.setSelectionRange(1,1),r.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(r,i){r&1&&Y("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),r&2&&(Ho("id",i.id)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),Pe("name",i.name||null)("readonly",i._getReadonlyAttribute())("aria-disabled",i.disabled&&i.disabledInteractive?"true":null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Me("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mat-mdc-input-disabled-interactive",i.disabledInteractive)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Fe]},exportAs:["matInput"],features:[on([{provide:Y0,useExisting:n}]),Sn]})}return n})(),SO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({imports:[Qe,X0,X0,LN,Qe]})}return n})();var xO=()=>{};var MO=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},z5=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Lg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|u>>6,g=u&63;c||(g=64,s||(m=64)),r.push(t[d],t[p],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(MO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):z5(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new J0;let m=o<<2|a>>4;if(r.push(m),u!==64){let g=a<<4&240|u>>2;if(r.push(g),p!==64){let I=u<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},J0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},q5=function(n){let e=MO(n);return Lg.encodeByteArray(e,!0)},lh=function(n){return q5(n).replace(/\./g,"")},Vg=function(n){try{return Lg.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var W5=()=>tI().__FIREBASE_DEFAULTS__,G5=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},K5=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Vg(n[1]);return e&&JSON.parse(e)},jg=()=>{try{return xO()||W5()||G5()||K5()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nI=n=>{var e,t;return(t=(e=jg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kO=n=>{let e=nI(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},rI=()=>{var n;return(n=jg())===null||n===void 0?void 0:n.config},iI=n=>{var e;return(e=jg())===null||e===void 0?void 0:e[`_${n}`]};var Ca=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function es(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Bg(n){return y(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function PO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lh(JSON.stringify(t)),lh(JSON.stringify(s)),""].join(".")}var ch={};function Y5(){let n={prod:[],emulator:[]};for(let e of Object.keys(ch))ch[e]?n.emulator.push(e):n.prod.push(e);return n}function Q5(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var AO=!1;function Ug(n,e){if(typeof window>"u"||typeof document>"u"||!es(window.location.host)||ch[n]===e||ch[n]||AO)return;ch[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=Y5().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{AO=!0,s()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=Q5(r),g=t("text"),I=document.getElementById(g)||document.createElement("span"),R=t("learnmore"),A=document.getElementById(R)||document.createElement("a"),F=t("preprendIcon"),W=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let re=m.element;a(re),d(A,R);let De=u();c(W,F),re.append(W,I,A,De),document.body.appendChild(re)}o?(I.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function X5(){var n;let e=(n=jg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FO(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VO(){let n=Qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jO(){return!X5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uh(){try{return typeof indexedDB=="object"}catch{return!1}}function BO(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Z5="FirebaseError",nr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Z5,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jr.prototype.create)}},jr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?J5(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new nr(i,a,r)}};function J5(n,e){return n.replace(eG,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var eG=/\{\$([^}]+)}/g;function UO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function li(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(RO(o)&&RO(s)){if(!li(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function RO(n){return n!==null&&typeof n=="object"}function dh(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _l(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function vl(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function HO(n,e){let t=new eI(n,e);return t.subscribe.bind(t)}var eI=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");tG(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Z0),i.error===void 0&&(i.error=Z0),i.complete===void 0&&(i.complete=Z0);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function tG(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Z0(){}var Ube=14400*1e3;function lt(n){return n&&n._delegate?n._delegate:n}var kn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ta="[DEFAULT]";var oI=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ca;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rG(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nG(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nG(n){return n===Ta?void 0:n}function rG(n){return n.instantiationMode==="EAGER"}var Hg=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new oI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var iG=[],Le=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Le||{}),oG={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},sG=Le.INFO,aG={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},cG=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=aG[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ui=class{constructor(e){this.name=e,this._logLevel=sG,this._logHandler=cG,this._userLogHandler=null,iG.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}};var lG=(n,e)=>e.some(t=>n instanceof t),$O,zO;function uG(){return $O||($O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dG(){return zO||(zO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var qO=new WeakMap,aI=new WeakMap,WO=new WeakMap,sI=new WeakMap,lI=new WeakMap;function hG(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(di(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&qO.set(t,n)}).catch(()=>{}),lI.set(e,n),e}function fG(n){if(aI.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});aI.set(n,e)}var cI={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return aI.get(n);if(e==="objectStoreNames")return n.objectStoreNames||WO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return di(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function GO(n){cI=n(cI)}function pG(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call($g(this),e,...t);return WO.set(r,e.sort?e.sort():[e]),di(r)}:dG().includes(n)?function(...e){return n.apply($g(this),e),di(qO.get(this))}:function(...e){return di(n.apply($g(this),e))}}function mG(n){return typeof n=="function"?pG(n):(n instanceof IDBTransaction&&fG(n),lG(n,uG())?new Proxy(n,cI):n)}function di(n){if(n instanceof IDBRequest)return hG(n);if(sI.has(n))return sI.get(n);let e=mG(n);return e!==n&&(sI.set(n,e),lI.set(e,n)),e}var $g=n=>lI.get(n);function YO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=di(s);return r&&s.addEventListener("upgradeneeded",c=>{r(di(s.result),c.oldVersion,c.newVersion,di(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var gG=["get","getKey","getAll","getAllKeys","count"],_G=["put","add","delete","clear"],uI=new Map;function KO(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uI.get(e))return uI.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=_G.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gG.includes(t)))return;let o=function(s,...a){return y(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return uI.set(e,o),o}GO(n=>se(V({},n),{get:(e,t,r)=>KO(e,t)||n.get(e,t,r),has:(e,t)=>!!KO(e,t)||n.has(e,t)}));var hI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vG(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function vG(n){let e=n.getComponent();return e?.type==="VERSION"}var fI="@firebase/app",QO="0.13.2";var Ki=new ui("@firebase/app"),yG="@firebase/app-compat",bG="@firebase/analytics-compat",wG="@firebase/analytics",EG="@firebase/app-check-compat",IG="@firebase/app-check",CG="@firebase/auth",TG="@firebase/auth-compat",DG="@firebase/database",SG="@firebase/data-connect",xG="@firebase/database-compat",AG="@firebase/functions",RG="@firebase/functions-compat",MG="@firebase/installations",kG="@firebase/installations-compat",PG="@firebase/messaging",NG="@firebase/messaging-compat",OG="@firebase/performance",FG="@firebase/performance-compat",LG="@firebase/remote-config",VG="@firebase/remote-config-compat",jG="@firebase/storage",BG="@firebase/storage-compat",UG="@firebase/firestore",HG="@firebase/ai",$G="@firebase/firestore-compat",zG="firebase",qG="11.10.0";var pI="[DEFAULT]",WG={[fI]:"fire-core",[yG]:"fire-core-compat",[wG]:"fire-analytics",[bG]:"fire-analytics-compat",[IG]:"fire-app-check",[EG]:"fire-app-check-compat",[CG]:"fire-auth",[TG]:"fire-auth-compat",[DG]:"fire-rtdb",[SG]:"fire-data-connect",[xG]:"fire-rtdb-compat",[AG]:"fire-fn",[RG]:"fire-fn-compat",[MG]:"fire-iid",[kG]:"fire-iid-compat",[PG]:"fire-fcm",[NG]:"fire-fcm-compat",[OG]:"fire-perf",[FG]:"fire-perf-compat",[LG]:"fire-rc",[VG]:"fire-rc-compat",[jG]:"fire-gcs",[BG]:"fire-gcs-compat",[UG]:"fire-fst",[$G]:"fire-fst-compat",[HG]:"fire-vertex","fire-js":"fire-js",[zG]:"fire-js-all"};var hh=new Map,GG=new Map,mI=new Map;function XO(n,e){try{n.container.addComponent(e)}catch(t){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Br(n){let e=n.name;if(mI.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;mI.set(e,n);for(let t of hh.values())XO(t,n);for(let t of GG.values())XO(t,n);return!0}function yl(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jn(n){return n==null?!1:n.settings!==void 0}var KG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new jr("app","Firebase",KG);var gI=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}};var ns=qG;function yI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:pI,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ts.create("bad-app-name",{appName:String(i)});if(t||(t=rI()),!t)throw ts.create("no-options");let o=hh.get(i);if(o){if(li(t,o.options)&&li(r,o.config))return o;throw ts.create("duplicate-app",{appName:i})}let s=new Hg(i);for(let c of mI.values())s.addComponent(c);let a=new gI(t,r,s);return hh.set(i,a),a}function Da(n=pI){let e=hh.get(n);if(!e&&n===pI&&rI())return yI();if(!e)throw ts.create("no-app",{appName:n});return e}function zg(){return Array.from(hh.values())}function vt(n,e,t){var r;let i=(r=WG[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(a.join(" "));return}Br(new kn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var YG="firebase-heartbeat-database",QG=1,fh="firebase-heartbeat-store",dI=null;function t1(){return dI||(dI=YO(YG,QG,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fh)}catch(t){console.warn(t)}}}}).catch(n=>{throw ts.create("idb-open",{originalErrorMessage:n.message})})),dI}function XG(n){return y(this,null,function*(){try{let t=(yield t1()).transaction(fh),r=yield t.objectStore(fh).get(n1(n));return yield t.done,r}catch(e){if(e instanceof nr)Ki.warn(e.message);else{let t=ts.create("idb-get",{originalErrorMessage:e?.message});Ki.warn(t.message)}}})}function ZO(n,e){return y(this,null,function*(){try{let r=(yield t1()).transaction(fh,"readwrite");yield r.objectStore(fh).put(e,n1(n)),yield r.done}catch(t){if(t instanceof nr)Ki.warn(t.message);else{let r=ts.create("idb-set",{originalErrorMessage:t?.message});Ki.warn(r.message)}}})}function n1(n){return`${n.name}!${n.options.appId}`}var ZG=1024,JG=30,_I=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new vI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=JO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>JG){let s=t8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ki.warn(r)}})}getHeartbeatsHeader(){return y(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=JO(),{heartbeatsToSend:r,unsentEntries:i}=e8(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ki.warn(t),""}})}};function JO(){return new Date().toISOString().substring(0,10)}function e8(n,e=ZG){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),e1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),e1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var vI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return uh()?BO().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield XG(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ZO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ZO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function e1(n){return lh(JSON.stringify({version:2,heartbeats:n})).length}function t8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function n8(n){Br(new kn("platform-logger",e=>new hI(e),"PRIVATE")),Br(new kn("heartbeat",e=>new _I(e),"PRIVATE")),vt(fI,QO,n),vt(fI,QO,"esm2017"),vt("fire-js","")}n8("");var r8="firebase",i8="11.10.0";vt(r8,i8,"app");function r1(n){n===void 0&&(n=_(Te));let e=n.get(Pi);return t=>new de(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var rs=new So("ANGULARFIRE2_VERSION");function ph(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var wl=(n,e)=>{let t=e?[e]:zg(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},bl=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(bl||{}),i1=PE()&&typeof Zone<"u"?bl.WARN:bl.SILENT;var qg=class{zone;delegate;constructor(e,t=Oy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},is=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=_(K);this.outsideAngular=t.runOutsideAngular(()=>new qg(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new qg(typeof Zone>"u"?void 0:Zone.current,bo))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),o1=!1;function o8(n,e){!o1&&(i1>bl.SILENT||PE())&&(o1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),i1>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function s8(n){let e=_(K,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Sa(n){let e=_(K,{optional:!0});return e?e.run(()=>n()):n()}var a8=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Et(t,()=>Sa(()=>n.apply(void 0,r)))),tt=(n,e,t)=>(t||=e?bl.WARN:bl.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=_(is),s=_(Pi),a=_(rt)}catch{return o8(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Sa(()=>s.add())),i[u]=a8(i[u],r,a));let c=s8(()=>n.apply(this,i));return e?c instanceof de?c.pipe(Eo(o.outsideAngular),wo(o.insideAngular),r1(a)):c instanceof Promise?Sa(()=>{let u=s.add();return new Promise((d,p)=>{c.then(m=>Et(a,()=>Sa(()=>d(m))),m=>Et(a,()=>Sa(()=>p(m)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Sa(()=>c):c instanceof de?c.pipe(Eo(o.outsideAngular),wo(o.insideAngular)):Sa(()=>c)});var Yi=class{constructor(e){return e}},xa=class{constructor(){return zg()}};function c8(n){return n&&n.length===1?n[0]:new Yi(Da())}var bI=new L("angularfire2._apps"),l8={provide:Yi,useFactory:c8,deps:[[new mn,bI]]},u8={provide:xa,deps:[[new mn,bI]]};function d8(n){return(e,t)=>{let r=t.get(ti);vt("angularfire",rs.full,"core"),vt("angularfire",rs.full,"app"),vt("angular",Zy.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Yi(i)}}function s1(n,...e){return fn([l8,u8,{provide:bI,useFactory:d8(n),multi:!0,deps:[K,Te,is,...e]}])}var a1=tt(yI,!0);var h8=new Map,f8={activated:!1,tokenObservers:[]},p8={initialized:!1,enabled:!1};function Ur(n){return h8.get(n)||Object.assign({},f8)}function d1(){return p8}var m8="https://content-firebaseappcheck.googleapis.com/v1";var g8="exchangeDebugToken",c1={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},$we=1440*60*1e3;var II=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return y(this,null,function*(){this.stop();try{this.pending=new Ca,this.pending.promise.catch(t=>{}),yield _8(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ca,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function _8(n){return new Promise(e=>{setTimeout(e,n)})}var v8={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},os=new jr("appCheck","AppCheck",v8);function h1(n){if(!Ur(n).activated)throw os.create("use-before-activation",{appName:n.name})}function f1(r,i){return y(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(g){throw os.create("fetch-network-error",{originalErrorMessage:g?.message})}if(c.status!==200)throw os.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(g){throw os.create("fetch-parse-error",{originalErrorMessage:g?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw os.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(d[1])*1e3,m=Date.now();return{token:u.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function p1(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${m8}/projects/${t}/apps/${r}:${g8}?key=${i}`,body:{debug_token:e}}}var y8="firebase-app-check-database",b8=1,CI="firebase-app-check-store";var Wg=null;function w8(){return Wg||(Wg=new Promise((n,e)=>{try{let t=indexedDB.open(y8,b8);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(os.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(CI,{keyPath:"compositeKey"})}}}catch(t){e(os.create("storage-open",{originalErrorMessage:t?.message}))}}),Wg)}function E8(n,e){return I8(C8(n),e)}function I8(n,e){return y(this,null,function*(){let r=(yield w8()).transaction(CI,"readwrite"),o=r.objectStore(CI).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(os.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function C8(n){return`${n.options.appId}-${n.name}`}var mh=new ui("@firebase/app-check");function wI(n,e){return uh()?E8(n,e).catch(t=>{mh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function m1(){return d1().enabled}function g1(){return y(this,null,function*(){let n=d1();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var T8={error:"UNKNOWN_ERROR"};function D8(n){return Lg.encodeString(JSON.stringify(n),!1)}function TI(n,e=!1,t=!1){return y(this,null,function*(){let r=n.app;h1(r);let i=Ur(r),o=i.token,s;if(o&&!gh(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(gh(u)?o=u:yield wI(r,void 0))}if(!e&&o&&gh(o))return{token:o.token};let a=!1;if(m1())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=f1(p1(r,yield g1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield wI(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?mh.warn(u.message):t&&mh.error(u),EI(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Ur(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?mh.warn(u.message):t&&mh.error(u),s=u}let c;return o?s?gh(o)?c={token:o.token,internalError:s}:c=EI(s):(c={token:o.token},i.token=o,yield wI(r,o)):c=EI(s),a&&R8(r,c),c})}function S8(n){return y(this,null,function*(){let e=n.app;h1(e);let{provider:t}=Ur(e);if(m1()){let r=yield g1(),{token:i}=yield f1(p1(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function x8(n,e,t,r){let{app:i}=n,o=Ur(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&gh(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),l1(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>l1(n))}function _1(n,e){let t=Ur(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function l1(n){let{app:e}=n,t=Ur(e),r=t.tokenRefresher;r||(r=A8(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function A8(n){let{app:e}=n;return new II(()=>y(null,null,function*(){let t=Ur(e),r;if(t.token?r=yield TI(n,!0):r=yield TI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Ur(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},c1.RETRIAL_MIN_WAIT,c1.RETRIAL_MAX_WAIT)}function R8(n,e){let t=Ur(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function gh(n){return n.expireTimeMillis-Date.now()>0}function EI(n){return{token:D8(T8),error:n}}var DI=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Ur(this.app);for(let t of e)_1(this.app,t.next);return Promise.resolve()}};function M8(n,e){return new DI(n,e)}function k8(n){return{getToken:e=>TI(n,e),getLimitedUseToken:()=>S8(n),addTokenListener:e=>x8(n,"INTERNAL",e),removeTokenListener:e=>_1(n.app,e)}}var P8="@firebase/app-check",N8="0.10.1";var O8="app-check",u1="app-check-internal";function F8(){Br(new kn(O8,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return M8(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(u1).initialize()})),Br(new kn(u1,n=>{let e=n.getProvider("app-check").getImmediate();return k8(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),vt(P8,N8)}F8();var L8="app-check";var El=class{constructor(){return wl(L8)}};var V8=["localhost","0.0.0.0","127.0.0.1"],nEe=typeof window<"u"&&V8.includes(window.location.hostname);function P1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var N1=P1,O1=new jr("auth","Firebase",P1());var Zg=new ui("@firebase/auth");function j8(n,...e){Zg.logLevel<=Le.WARN&&Zg.warn(`Auth (${ns}): ${n}`,...e)}function Kg(n,...e){Zg.logLevel<=Le.ERROR&&Zg.error(`Auth (${ns}): ${n}`,...e)}function fi(n,...e){throw XI(n,...e)}function Aa(n,...e){return XI(n,...e)}function F1(n,e,t){let r=Object.assign(Object.assign({},N1()),{[e]:t});return new jr("auth","Firebase",r).create(e,{appName:n.name})}function Zi(n){return F1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return O1.create(n,...e)}function be(n,e,...t){if(!n)throw XI(e,...t)}function Qi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Kg(e),new Error(e)}function cs(n,e){n||Qi(e)}function RI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function B8(){return v1()==="http:"||v1()==="https:"}function v1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function U8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B8()||FO()||"connection"in navigator)?navigator.onLine:!0}function H8(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ra=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,cs(t>e,"Short delay should be less than long delay!"),this.isMobile=NO()||LO()}get(){return U8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ZI(n,e){cs(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Jg=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var z8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q8=new Ra(3e4,6e4);function ls(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ji(o,s,a,c){return y(this,arguments,function*(n,e,t,r,i={}){return L1(n,i,()=>y(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let p=dh(Object.assign({key:n.config.apiKey},d)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:m},u);return OO()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&es(n.emulatorConfig.host)&&(g.credentials="include"),Jg.fetch()(yield V1(n,n.config.apiHost,t,p),g)}))})}function L1(n,e,t){return y(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},$8),e);try{let i=new MI(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Gg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gg(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Gg(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Gg(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw F1(n,d,u);fi(n,d)}}catch(i){if(i instanceof nr)throw i;fi(n,"network-request-failed",{message:String(i)})}})}function Ch(o,s,a,c){return y(this,arguments,function*(n,e,t,r,i={}){let u=yield Ji(n,e,t,r,i);return"mfaPendingCredential"in u&&fi(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function V1(n,e,t,r){return y(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?ZI(n.config,i):`${n.config.apiScheme}://${i}`;return z8.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function W8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var MI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Aa(this.auth,"network-request-failed")),q8.get())})}};function Gg(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Aa(n,e,r);return i.customData._tokenResponse=t,i}function y1(n){return n!==void 0&&n.enterprise!==void 0}var kI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return W8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function G8(n,e){return y(this,null,function*(){return Ji(n,"GET","/v2/recaptchaConfig",ls(n,e))})}function K8(n,e){return y(this,null,function*(){return Ji(n,"POST","/v1/accounts:delete",e)})}function e_(n,e){return y(this,null,function*(){return Ji(n,"POST","/v1/accounts:lookup",e)})}function vh(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function JI(n,e=!1){return y(this,null,function*(){let t=lt(n),r=yield t.getIdToken(e),i=eC(r);be(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:vh(SI(i.auth_time)),issuedAtTime:vh(SI(i.iat)),expirationTime:vh(SI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function SI(n){return Number(n)*1e3}function eC(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kg("JWT malformed, contained fewer than 3 sections"),null;try{let i=Vg(t);return i?JSON.parse(i):(Kg("Failed to decode base64 JWT payload"),null)}catch(i){return Kg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function b1(n){let e=eC(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Il(n,e,t=!1){return y(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof nr&&Y8(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Y8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var PI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),t)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bh=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vh(this.lastLoginAt),this.creationTime=vh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function t_(n){return y(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Il(n,e_(t,{idToken:r}));be(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?j1(o.providerUserInfo):[],a=Q8(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bh(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,p)})}function tC(n){return y(this,null,function*(){let e=lt(n);yield t_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Q8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function j1(n){return n.map(e=>{var{providerId:t}=e,r=Ly(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function X8(n,e){return y(this,null,function*(){let t=yield L1(n,{},()=>y(null,null,function*(){let r=dh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield V1(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&es(n.emulatorConfig.host)&&(c.credentials="include"),Jg.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Z8(n,e){return y(this,null,function*(){return Ji(n,"POST","/v2/accounts:revokeToken",ls(n,e))})}var yh=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");let t=b1(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return y(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return y(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield X8(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(be(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Qi("not implemented")}};function ss(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var as=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bh(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let t=yield Il(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return JI(this,e)}reload(){return tC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return y(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield t_(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){if(jn(this.auth.app))return Promise.reject(Zi(this.auth));let e=yield this.getIdToken();return yield Il(this,K8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,g=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=t.photoURL)!==null&&s!==void 0?s:void 0,R=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,F=(u=t.createdAt)!==null&&u!==void 0?u:void 0,W=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:re,emailVerified:De,isAnonymous:mt,providerData:Oe,stsTokenManager:D}=t;be(re&&D,e,"internal-error");let b=yh.fromJSON(this.name,D);be(typeof re=="string",e,"internal-error"),ss(p,e.name),ss(m,e.name),be(typeof De=="boolean",e,"internal-error"),be(typeof mt=="boolean",e,"internal-error"),ss(g,e.name),ss(I,e.name),ss(R,e.name),ss(A,e.name),ss(F,e.name),ss(W,e.name);let E=new n({uid:re,auth:e,email:m,emailVerified:De,displayName:p,isAnonymous:mt,photoURL:I,phoneNumber:g,tenantId:R,stsTokenManager:b,createdAt:F,lastLoginAt:W});return Oe&&Array.isArray(Oe)&&(E.providerData=Oe.map(T=>Object.assign({},T))),A&&(E._redirectEventId=A),E}static _fromIdTokenResponse(e,t,r=!1){return y(this,null,function*(){let i=new yh;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield t_(o),o})}static _fromGetAccountInfoResponse(e,t,r){return y(this,null,function*(){let i=t.users[0];be(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?j1(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new yh;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var w1=new Map;function Xi(n){cs(n instanceof Function,"Expected a class definition");let e=w1.get(n);return e?(cs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,w1.set(n,e),e)}var J8=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(t,r){return y(this,null,function*(){this.storage[t]=r})}_get(t){return y(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return y(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),NI=J8;function Yg(n,e,t){return`firebase:${n}:${e}:${t}`}var n_=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Yg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Yg("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield e_(this.auth,{idToken:e}).catch(()=>{});return t?as._fromGetAccountInfoResponse(this.auth,t,e):null}return as._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(this,null,function*(){if(!t.length)return new n(Xi(NI),e,r);let i=(yield Promise.all(t.map(u=>y(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Xi(NI),s=Yg(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let p;if(typeof d=="string"){let m=yield e_(e,{idToken:d}).catch(()=>{});if(!m)break;p=yield as._fromGetAccountInfoResponse(e,m,d)}else p=as._fromJSON(e,d);u!==o&&(a=p),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>y(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function E1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q1(e))return"Blackberry";if(W1(e))return"Webos";if(U1(e))return"Safari";if((e.includes("chrome/")||H1(e))&&!e.includes("edge/"))return"Chrome";if(z1(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function B1(n=Qt()){return/firefox\//i.test(n)}function U1(n=Qt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H1(n=Qt()){return/crios\//i.test(n)}function $1(n=Qt()){return/iemobile/i.test(n)}function z1(n=Qt()){return/android/i.test(n)}function q1(n=Qt()){return/blackberry/i.test(n)}function W1(n=Qt()){return/webos/i.test(n)}function nC(n=Qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function e6(n=Qt()){var e;return nC(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function t6(){return VO()&&document.documentMode===10}function G1(n=Qt()){return nC(n)||z1(n)||W1(n)||q1(n)||/windows phone/i.test(n)||$1(n)}function K1(n,e=[]){let t;switch(n){case"Browser":t=E1(Qt());break;case"Worker":t=`${E1(Qt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ns}/${r}`}var OI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function n6(t){return y(this,arguments,function*(n,e={}){return Ji(n,"GET","/v2/passwordPolicy",ls(n,e))})}var r6=6,FI=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:r6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var LI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new OI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xi(t)),this._initializationPromise=this.queue(()=>y(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield n_.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return y(this,null,function*(){try{let t=yield e_(this,{idToken:e}),r=yield as._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return y(this,null,function*(){var t;if(jn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return y(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield t_(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=H8()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){if(jn(this.app))return Promise.reject(Zi(this));let t=e?lt(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return y(this,null,function*(){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return jn(this.app)?Promise.reject(Zi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return jn(this.app)?Promise.reject(Zi(this)):this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence(Xi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield n6(this),t=new FI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Z8(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return y(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Xi(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=yield n_.create(this,[Xi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return y(this,null,function*(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&j8(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ka(n){return lt(n)}var r_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=HO(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var u_={loadJS(){return y(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i6(n){u_=n}function Y1(n){return u_.loadJS(n)}function o6(){return u_.recaptchaEnterpriseScript}function s6(){return u_.gapiScript}function Q1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var VI=class{constructor(){this.enterprise=new jI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},jI=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var a6="recaptcha-enterprise",X1="NO_RECAPTCHA",BI=class{constructor(e){this.type=a6,this.auth=ka(e)}verify(e="verify",t=!1){return y(this,null,function*(){function r(o){return y(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>y(null,null,function*(){G8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new kI(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;y1(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(X1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VI().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&y1(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=o6();c.length!==0&&(c+=a),Y1(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function _h(n,e,t,r=!1,i=!1){return y(this,null,function*(){let o=new BI(n),s;if(i)s=X1;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function UI(n,e,t,r,i){return y(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield _h(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>y(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield _h(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield _h(n,e,t);return r(n,a).catch(c=>y(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield _h(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield _h(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function rC(n,e){let t=yl(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(li(o,e??{}))return i;fi(i,"already-initialized")}return t.initialize({options:e})}function c6(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Xi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function iC(n,e,t){let r=ka(n);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=Z1(e),{host:s,port:a}=l6(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(li(u,r.config.emulator)&&li(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,es(s)?(Bg(`${o}//${s}${c}`),Ug("Auth",!0)):i||u6()}function Z1(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function l6(n){let e=Z1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:I1(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:I1(s)}}}function I1(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function u6(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var wh=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,t){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}};function d6(n,e){return y(this,null,function*(){return Ji(n,"POST","/v1/accounts:signUp",e)})}function h6(n,e){return y(this,null,function*(){return Ch(n,"POST","/v1/accounts:signInWithPassword",ls(n,e))})}function f6(n,e){return y(this,null,function*(){return Ch(n,"POST","/v1/accounts:signInWithEmailLink",ls(n,e))})}function p6(n,e){return y(this,null,function*(){return Ch(n,"POST","/v1/accounts:signInWithEmailLink",ls(n,e))})}var Eh=class n extends wh{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return y(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UI(e,t,"signInWithPassword",h6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return f6(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}})}_linkToIdToken(e,t){return y(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UI(e,r,"signUpPassword",d6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return p6(e,{idToken:t,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function xI(n,e){return y(this,null,function*(){return Ch(n,"POST","/v1/accounts:signInWithIdp",ls(n,e))})}function m6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g6(n){let e=_l(vl(n)).link,t=e?_l(vl(e)).deep_link_id:null,r=_l(vl(n)).deep_link_id;return(r?_l(vl(r)).link:null)||r||t||e||n}var i_=class n{constructor(e){var t,r,i,o,s,a;let c=_l(vl(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,p=m6((i=c.mode)!==null&&i!==void 0?i:null);be(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=g6(e);try{return new n(t)}catch{return null}}};var J1=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Eh._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=i_.parseLink(r);return be(i,"argument-error"),Eh._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),o_=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var HI=class extends o_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function _6(n,e){return y(this,null,function*(){return Ch(n,"POST","/v1/accounts:signUp",ls(n,e))})}var Cl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return y(this,null,function*(){let o=yield as._fromIdTokenResponse(e,r,i),s=C1(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return y(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=C1(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function C1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var $I=class n extends nr{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function eF(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$I._fromErrorAndOperation(n,o,e,r):o})}function v6(n,e,t=!1){return y(this,null,function*(){let r=yield Il(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Cl._forOperation(n,"link",r)})}function y6(n,e,t=!1){return y(this,null,function*(){let{auth:r}=n;if(jn(r.app))return Promise.reject(Zi(r));let i="reauthenticate";try{let o=yield Il(n,eF(r,i,e,n),t);be(o.idToken,r,"internal-error");let s=eC(o.idToken);be(s,r,"internal-error");let{sub:a}=s;return be(n.uid===a,r,"user-mismatch"),Cl._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&fi(r,"user-mismatch"),o}})}function tF(n,e,t=!1){return y(this,null,function*(){if(jn(n.app))return Promise.reject(Zi(n));let r="signIn",i=yield eF(n,r,e),o=yield Cl._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function oC(n,e){return y(this,null,function*(){return tF(ka(n),e)})}function nF(n){return y(this,null,function*(){let e=ka(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function sC(n,e,t){return y(this,null,function*(){if(jn(n.app))return Promise.reject(Zi(n));let r=ka(n),s=yield UI(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_6,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&nF(n),c}),a=yield Cl._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function aC(n,e,t){return jn(n.app)?Promise.reject(Zi(n)):oC(lt(n),J1.credential(e,t)).catch(r=>y(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&nF(n),r}))}function b6(n,e){return y(this,null,function*(){return Ji(n,"POST","/v1/accounts:update",e)})}function cC(r,i){return y(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=lt(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield Il(o,b6(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let u=o.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function lC(n,e,t,r){return lt(n).onIdTokenChanged(e,t,r)}function uC(n,e,t){return lt(n).beforeAuthStateChanged(e,t)}function dC(n,e,t,r){return lt(n).onAuthStateChanged(e,t,r)}function hC(n){return lt(n).signOut()}var s_="__sak";var a_=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(s_,"1"),this.storage.removeItem(s_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var w6=1e3,E6=10,I6=(()=>{class n extends a_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);t6()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,E6):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},w6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return y(this,null,function*(){yield go(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return y(this,null,function*(){let r=yield go(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return y(this,null,function*(){yield go(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),rF=I6;var C6=(()=>{class n extends a_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),fC=C6;function T6(n){return Promise.all(n.map(e=>y(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var D6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return y(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>y(this,null,function*(){return d(r.origin,s)})),u=yield T6(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function iF(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var zI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return y(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=iF("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function hi(){return window}function S6(n){hi().location.href=n}function oF(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}function x6(){return y(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function A6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function R6(){return oF()?self:null}var sF="firebaseLocalStorageDb",M6=1,c_="firebaseLocalStorage",aF="fbase_key",Ma=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function d_(n,e){return n.transaction([c_],e?"readwrite":"readonly").objectStore(c_)}function k6(){let n=indexedDB.deleteDatabase(sF);return new Ma(n).toPromise()}function qI(){let n=indexedDB.open(sF,M6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(c_,{keyPath:aF})}catch(i){t(i)}}),n.addEventListener("success",()=>y(null,null,function*(){let r=n.result;r.objectStoreNames.contains(c_)?e(r):(r.close(),yield k6(),e(yield qI()))}))})}function T1(n,e,t){return y(this,null,function*(){let r=d_(n,!0).put({[aF]:e,value:t});return new Ma(r).toPromise()})}function P6(n,e){return y(this,null,function*(){let t=d_(n,!1).get(e),r=yield new Ma(t).toPromise();return r===void 0?null:r.value})}function D1(n,e){let t=d_(n,!0).delete(e);return new Ma(t).toPromise()}var N6=800,O6=3,F6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return y(this,null,function*(){return this.db?this.db:(this.db=yield qI(),this.db)})}_withRetries(t){return y(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>O6)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return y(this,null,function*(){return oF()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return y(this,null,function*(){this.receiver=D6._getInstance(R6()),this.receiver._subscribe("keyChanged",(t,r)=>y(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>y(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return y(this,null,function*(){var t,r;if(this.activeServiceWorker=yield x6(),!this.activeServiceWorker)return;this.sender=new zI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return y(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||A6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return y(this,null,function*(){try{if(!indexedDB)return!1;let t=yield qI();return yield T1(t,s_,"1"),yield D1(t,s_),!0}catch{}return!1})}_withPendingWrite(t){return y(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(i=>T1(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return y(this,null,function*(){let r=yield this._withRetries(i=>P6(i,t));return this.localCache[t]=r,r})}_remove(t){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(r=>D1(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return y(this,null,function*(){let t=yield this._withRetries(o=>{let s=d_(o,!1).getAll();return new Ma(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>y(this,null,function*(){return this._poll()}),N6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),cF=F6;var uEe=Q1("rcb"),dEe=new Ra(3e4,6e4);function L6(n,e){return e?Xi(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Ih=class extends wh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xI(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xI(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xI(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function V6(n){return tF(n.auth,new Ih(n),n.bypassAuthState)}function j6(n){let{auth:e,user:t}=n;return be(t,e,"internal-error"),y6(t,new Ih(n),n.bypassAuthState)}function B6(n){return y(this,null,function*(){let{auth:e,user:t}=n;return be(t,e,"internal-error"),v6(t,new Ih(n),n.bypassAuthState)})}var WI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>y(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return y(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V6;case"linkViaPopup":case"linkViaRedirect":return B6;case"reauthViaPopup":case"reauthViaRedirect":return j6;default:fi(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var hEe=new Ra(2e3,1e4);var U6="pendingRedirect",Qg=new Map,GI=class n extends WI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return y(this,null,function*(){let e=Qg.get(this.auth._key());if(!e){try{let r=(yield H6(this.resolver,this.auth))?yield go(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Qg.set(this.auth._key(),e)}return this.bypassAuthState||Qg.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return y(this,null,function*(){if(e.type==="signInViaRedirect")return go(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,go(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return y(this,null,function*(){})}cleanUp(){}};function H6(n,e){return y(this,null,function*(){let t=q6(e),r=z6(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function $6(n,e){Qg.set(n._key(),e)}function z6(n){return Xi(n._redirectPersistence)}function q6(n){return Yg(U6,n.config.apiKey,n.name)}function W6(n,e,t=!1){return y(this,null,function*(){if(jn(n.app))return Promise.reject(Zi(n));let r=ka(n),i=L6(r,e),s=yield new GI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var G6=600*1e3,KI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!lF(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Aa(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G6&&this.cachedEventUids.clear(),this.cachedEventUids.has(S1(e))}saveEventToCache(e){this.cachedEventUids.add(S1(e)),this.lastProcessedEventTime=Date.now()}};function S1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function lF({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function K6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lF(n);default:return!1}}function Y6(t){return y(this,arguments,function*(n,e={}){return Ji(n,"GET","/v1/projects",e)})}var Q6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X6=/^https?/;function Z6(n){return y(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Y6(n);for(let t of e)try{if(J6(t))return}catch{}fi(n,"unauthorized-domain")})}function J6(n){let e=RI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!X6.test(t))return!1;if(Q6.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var e9=new Ra(3e4,6e4);function x1(){let n=hi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function t9(n){return new Promise((e,t)=>{var r,i,o;function s(){x1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x1(),t(Aa(n,"network-request-failed"))},timeout:e9.get()})}if(!((i=(r=hi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=hi().gapi)===null||o===void 0)&&o.load)s();else{let a=Q1("iframefcb");return hi()[a]=()=>{gapi.load?s():t(Aa(n,"network-request-failed"))},Y1(`${s6()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Xg=null,e})}var Xg=null;function n9(n){return Xg=Xg||t9(n),Xg}var r9=new Ra(5e3,15e3),i9="__/auth/iframe",o9="emulator/auth/iframe",s9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c9(n){let e=n.config;be(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?ZI(e,o9):`https://${n.config.authDomain}/${i9}`,r={apiKey:e.apiKey,appName:n.name,v:ns},i=a9.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${dh(r).slice(1)}`}function l9(n){return y(this,null,function*(){let e=yield n9(n),t=hi().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:c9(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s9,dontclear:!0},r=>new Promise((i,o)=>y(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Aa(n,"network-request-failed"),a=hi().setTimeout(()=>{o(s)},r9.get());function c(){hi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var u9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d9=500,h9=600,f9="_blank",p9="http://localhost",l_=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function m9(n,e,t,r=d9,i=h9){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},u9),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Qt().toLowerCase();t&&(a=H1(u)?f9:t),B1(u)&&(e=e||p9,c.scrollbars="yes");let d=Object.entries(c).reduce((m,[g,I])=>`${m}${g}=${I},`,"");if(e6(u)&&a!=="_self")return g9(e||"",a),new l_(null);let p=window.open(e||"",a,d);be(p,n,"popup-blocked");try{p.focus()}catch{}return new l_(p)}function g9(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var _9="__/auth/handler",v9="emulator/auth/handler",y9=encodeURIComponent("fac");function A1(n,e,t,r,i,o){return y(this,null,function*(){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ns,eventId:i};if(e instanceof o_){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",UO(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(o||{}))s[d]=p}if(e instanceof HI){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${y9}=${encodeURIComponent(c)}`:"";return`${b9(n)}?${dh(a).slice(1)}${u}`})}function b9({config:n}){return n.emulator?ZI(n,v9):`https://${n.authDomain}/${_9}`}var AI="webStorageSupport",YI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fC,this._completeRedirectFn=W6,this._overrideRedirectResult=$6}_openPopup(e,t,r,i){return y(this,null,function*(){var o;cs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield A1(e,t,r,RI(),i);return m9(e,s,iF())})}_openRedirect(e,t,r,i){return y(this,null,function*(){yield this._originValidation(e);let o=yield A1(e,t,r,RI(),i);return S6(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(cs(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return y(this,null,function*(){let t=yield l9(e),r=new KI(e);return t.register("authEvent",i=>(be(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(AI,{type:AI},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[AI];s!==void 0&&t(!!s),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Z6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return G1()||U1()||nC()}},uF=YI;var R1="@firebase/auth",M1="1.10.8";var QI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function w9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E9(n){Br(new kn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;be(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K1(n)},u=new LI(r,i,o,c);return c6(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Br(new kn("auth-internal",e=>{let t=ka(e.getProvider("auth").getImmediate());return(r=>new QI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vt(R1,M1,w9(n)),vt(R1,M1,"esm2017")}var I9=300,C9=iI("authIdTokenMaxAge")||I9,k1=null,T9=n=>e=>y(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>C9)return;let i=t?.token;k1!==i&&(k1=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function pC(n=Da()){let e=yl(n,"auth");if(e.isInitialized())return e.getImmediate();let t=rC(n,{popupRedirectResolver:uF,persistence:[cF,rF,fC]}),r=iI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=T9(o.toString());uC(t,s,()=>s(t.currentUser)),lC(t,a=>s(a))}}let i=nI("auth");return i&&iC(t,`http://${i}`),t}function D9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}i6({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Aa("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",D9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E9("Browser");var dF="auth",Pa=class{constructor(e){return e}},Th=class{constructor(){return wl(dF)}};var mC=new L("angularfire2.auth-instances");function f7(n,e){let t=ph(dF,n,e);return t&&new Pa(t)}function p7(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Pa(r)}}var m7={provide:Th,deps:[[new mn,mC]]},g7={provide:Pa,useFactory:f7,deps:[[new mn,mC],Yi]};function hF(n,...e){return vt("angularfire",rs.full,"auth"),fn([g7,m7,{provide:mC,useFactory:p7(n),multi:!0,deps:[K,Te,is,xa,[new mn,El],...e]}])}var fF=tt(sC,!0,2);var pF=tt(pC,!0);var h_=tt(dC,!0);var mF=tt(aC,!0,2);var gF=tt(hC,!0,2);var _F=tt(cC,!0,2);var vF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yF={};var eo,gC;(function(){var n;function e(D,b){function E(){}E.prototype=b.prototype,D.D=b.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(T,S,k){for(var w=Array(arguments.length-2),yi=2;yi<arguments.length;yi++)w[yi-2]=arguments[yi];return b.prototype[S].apply(T,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,b,E){E||(E=0);var T=Array(16);if(typeof b=="string")for(var S=0;16>S;++S)T[S]=b.charCodeAt(E++)|b.charCodeAt(E++)<<8|b.charCodeAt(E++)<<16|b.charCodeAt(E++)<<24;else for(S=0;16>S;++S)T[S]=b[E++]|b[E++]<<8|b[E++]<<16|b[E++]<<24;b=D.g[0],E=D.g[1],S=D.g[2];var k=D.g[3],w=b+(k^E&(S^k))+T[0]+3614090360&4294967295;b=E+(w<<7&4294967295|w>>>25),w=k+(S^b&(E^S))+T[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=S+(E^k&(b^E))+T[2]+606105819&4294967295,S=k+(w<<17&4294967295|w>>>15),w=E+(b^S&(k^b))+T[3]+3250441966&4294967295,E=S+(w<<22&4294967295|w>>>10),w=b+(k^E&(S^k))+T[4]+4118548399&4294967295,b=E+(w<<7&4294967295|w>>>25),w=k+(S^b&(E^S))+T[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=S+(E^k&(b^E))+T[6]+2821735955&4294967295,S=k+(w<<17&4294967295|w>>>15),w=E+(b^S&(k^b))+T[7]+4249261313&4294967295,E=S+(w<<22&4294967295|w>>>10),w=b+(k^E&(S^k))+T[8]+1770035416&4294967295,b=E+(w<<7&4294967295|w>>>25),w=k+(S^b&(E^S))+T[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=S+(E^k&(b^E))+T[10]+4294925233&4294967295,S=k+(w<<17&4294967295|w>>>15),w=E+(b^S&(k^b))+T[11]+2304563134&4294967295,E=S+(w<<22&4294967295|w>>>10),w=b+(k^E&(S^k))+T[12]+1804603682&4294967295,b=E+(w<<7&4294967295|w>>>25),w=k+(S^b&(E^S))+T[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=S+(E^k&(b^E))+T[14]+2792965006&4294967295,S=k+(w<<17&4294967295|w>>>15),w=E+(b^S&(k^b))+T[15]+1236535329&4294967295,E=S+(w<<22&4294967295|w>>>10),w=b+(S^k&(E^S))+T[1]+4129170786&4294967295,b=E+(w<<5&4294967295|w>>>27),w=k+(E^S&(b^E))+T[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=S+(b^E&(k^b))+T[11]+643717713&4294967295,S=k+(w<<14&4294967295|w>>>18),w=E+(k^b&(S^k))+T[0]+3921069994&4294967295,E=S+(w<<20&4294967295|w>>>12),w=b+(S^k&(E^S))+T[5]+3593408605&4294967295,b=E+(w<<5&4294967295|w>>>27),w=k+(E^S&(b^E))+T[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=S+(b^E&(k^b))+T[15]+3634488961&4294967295,S=k+(w<<14&4294967295|w>>>18),w=E+(k^b&(S^k))+T[4]+3889429448&4294967295,E=S+(w<<20&4294967295|w>>>12),w=b+(S^k&(E^S))+T[9]+568446438&4294967295,b=E+(w<<5&4294967295|w>>>27),w=k+(E^S&(b^E))+T[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=S+(b^E&(k^b))+T[3]+4107603335&4294967295,S=k+(w<<14&4294967295|w>>>18),w=E+(k^b&(S^k))+T[8]+1163531501&4294967295,E=S+(w<<20&4294967295|w>>>12),w=b+(S^k&(E^S))+T[13]+2850285829&4294967295,b=E+(w<<5&4294967295|w>>>27),w=k+(E^S&(b^E))+T[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=S+(b^E&(k^b))+T[7]+1735328473&4294967295,S=k+(w<<14&4294967295|w>>>18),w=E+(k^b&(S^k))+T[12]+2368359562&4294967295,E=S+(w<<20&4294967295|w>>>12),w=b+(E^S^k)+T[5]+4294588738&4294967295,b=E+(w<<4&4294967295|w>>>28),w=k+(b^E^S)+T[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=S+(k^b^E)+T[11]+1839030562&4294967295,S=k+(w<<16&4294967295|w>>>16),w=E+(S^k^b)+T[14]+4259657740&4294967295,E=S+(w<<23&4294967295|w>>>9),w=b+(E^S^k)+T[1]+2763975236&4294967295,b=E+(w<<4&4294967295|w>>>28),w=k+(b^E^S)+T[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=S+(k^b^E)+T[7]+4139469664&4294967295,S=k+(w<<16&4294967295|w>>>16),w=E+(S^k^b)+T[10]+3200236656&4294967295,E=S+(w<<23&4294967295|w>>>9),w=b+(E^S^k)+T[13]+681279174&4294967295,b=E+(w<<4&4294967295|w>>>28),w=k+(b^E^S)+T[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=S+(k^b^E)+T[3]+3572445317&4294967295,S=k+(w<<16&4294967295|w>>>16),w=E+(S^k^b)+T[6]+76029189&4294967295,E=S+(w<<23&4294967295|w>>>9),w=b+(E^S^k)+T[9]+3654602809&4294967295,b=E+(w<<4&4294967295|w>>>28),w=k+(b^E^S)+T[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=S+(k^b^E)+T[15]+530742520&4294967295,S=k+(w<<16&4294967295|w>>>16),w=E+(S^k^b)+T[2]+3299628645&4294967295,E=S+(w<<23&4294967295|w>>>9),w=b+(S^(E|~k))+T[0]+4096336452&4294967295,b=E+(w<<6&4294967295|w>>>26),w=k+(E^(b|~S))+T[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=S+(b^(k|~E))+T[14]+2878612391&4294967295,S=k+(w<<15&4294967295|w>>>17),w=E+(k^(S|~b))+T[5]+4237533241&4294967295,E=S+(w<<21&4294967295|w>>>11),w=b+(S^(E|~k))+T[12]+1700485571&4294967295,b=E+(w<<6&4294967295|w>>>26),w=k+(E^(b|~S))+T[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=S+(b^(k|~E))+T[10]+4293915773&4294967295,S=k+(w<<15&4294967295|w>>>17),w=E+(k^(S|~b))+T[1]+2240044497&4294967295,E=S+(w<<21&4294967295|w>>>11),w=b+(S^(E|~k))+T[8]+1873313359&4294967295,b=E+(w<<6&4294967295|w>>>26),w=k+(E^(b|~S))+T[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=S+(b^(k|~E))+T[6]+2734768916&4294967295,S=k+(w<<15&4294967295|w>>>17),w=E+(k^(S|~b))+T[13]+1309151649&4294967295,E=S+(w<<21&4294967295|w>>>11),w=b+(S^(E|~k))+T[4]+4149444226&4294967295,b=E+(w<<6&4294967295|w>>>26),w=k+(E^(b|~S))+T[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=S+(b^(k|~E))+T[2]+718787259&4294967295,S=k+(w<<15&4294967295|w>>>17),w=E+(k^(S|~b))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(S+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+S&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var E=b-this.blockSize,T=this.B,S=this.h,k=0;k<b;){if(S==0)for(;k<=E;)i(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<b;)if(T[S++]=D.charCodeAt(k++),S==this.blockSize){i(this,T),S=0;break}}else for(;k<b;)if(T[S++]=D[k++],S==this.blockSize){i(this,T),S=0;break}}this.h=S,this.o+=b},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var E=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=E&255,E/=256;for(this.u(D),D=Array(16),b=E=0;4>b;++b)for(var T=0;32>T;T+=8)D[E++]=this.g[b]>>>T&255;return D};function o(D,b){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=b(D)}function s(D,b){this.h=b;for(var E=[],T=!0,S=D.length-1;0<=S;S--){var k=D[S]|0;T&&k==b||(E[S]=k,T=!1)}this.g=E}var a={};function c(D){return-128<=D&&128>D?o(D,function(b){return new s([b|0],0>b?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return A(u(-D));for(var b=[],E=1,T=0;D>=E;T++)b[T]=D/E|0,E*=4294967296;return new s(b,0)}function d(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return A(d(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(b,8)),T=p,S=0;S<D.length;S+=8){var k=Math.min(8,D.length-S),w=parseInt(D.substring(S,S+k),b);8>k?(k=u(Math.pow(b,k)),T=T.j(k).add(u(w))):(T=T.j(E),T=T.add(u(w)))}return T}var p=c(0),m=c(1),g=c(16777216);n=s.prototype,n.m=function(){if(R(this))return-A(this).m();for(var D=0,b=1,E=0;E<this.g.length;E++){var T=this.i(E);D+=(0<=T?T:4294967296+T)*b,b*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(R(this))return"-"+A(this).toString(D);for(var b=u(Math.pow(D,6)),E=this,T="";;){var S=De(E,b).g;E=F(E,S.j(b));var k=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=S,I(E))return k+T;for(;6>k.length;)k="0"+k;T=k+T}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function R(D){return D.h==-1}n.l=function(D){return D=F(this,D),R(D)?-1:I(D)?0:1};function A(D){for(var b=D.g.length,E=[],T=0;T<b;T++)E[T]=~D.g[T];return new s(E,~D.h).add(m)}n.abs=function(){return R(this)?A(this):this},n.add=function(D){for(var b=Math.max(this.g.length,D.g.length),E=[],T=0,S=0;S<=b;S++){var k=T+(this.i(S)&65535)+(D.i(S)&65535),w=(k>>>16)+(this.i(S)>>>16)+(D.i(S)>>>16);T=w>>>16,k&=65535,w&=65535,E[S]=w<<16|k}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(D,b){return D.add(A(b))}n.j=function(D){if(I(this)||I(D))return p;if(R(this))return R(D)?A(this).j(A(D)):A(A(this).j(D));if(R(D))return A(this.j(A(D)));if(0>this.l(g)&&0>D.l(g))return u(this.m()*D.m());for(var b=this.g.length+D.g.length,E=[],T=0;T<2*b;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var S=0;S<D.g.length;S++){var k=this.i(T)>>>16,w=this.i(T)&65535,yi=D.i(S)>>>16,nu=D.i(S)&65535;E[2*T+2*S]+=w*nu,W(E,2*T+2*S),E[2*T+2*S+1]+=k*nu,W(E,2*T+2*S+1),E[2*T+2*S+1]+=w*yi,W(E,2*T+2*S+1),E[2*T+2*S+2]+=k*yi,W(E,2*T+2*S+2)}for(T=0;T<b;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=b;T<2*b;T++)E[T]=0;return new s(E,0)};function W(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function re(D,b){this.g=D,this.h=b}function De(D,b){if(I(b))throw Error("division by zero");if(I(D))return new re(p,p);if(R(D))return b=De(A(D),b),new re(A(b.g),A(b.h));if(R(b))return b=De(D,A(b)),new re(A(b.g),b.h);if(30<D.g.length){if(R(D)||R(b))throw Error("slowDivide_ only works with positive integers.");for(var E=m,T=b;0>=T.l(D);)E=mt(E),T=mt(T);var S=Oe(E,1),k=Oe(T,1);for(T=Oe(T,2),E=Oe(E,2);!I(T);){var w=k.add(T);0>=w.l(D)&&(S=S.add(E),k=w),T=Oe(T,1),E=Oe(E,1)}return b=F(D,S.j(b)),new re(S,b)}for(S=p;0<=D.l(b);){for(E=Math.max(1,Math.floor(D.m()/b.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),k=u(E),w=k.j(b);R(w)||0<w.l(D);)E-=T,k=u(E),w=k.j(b);I(k)&&(k=m),S=S.add(k),D=F(D,w)}return new re(S,D)}n.A=function(D){return De(this,D).h},n.and=function(D){for(var b=Math.max(this.g.length,D.g.length),E=[],T=0;T<b;T++)E[T]=this.i(T)&D.i(T);return new s(E,this.h&D.h)},n.or=function(D){for(var b=Math.max(this.g.length,D.g.length),E=[],T=0;T<b;T++)E[T]=this.i(T)|D.i(T);return new s(E,this.h|D.h)},n.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),E=[],T=0;T<b;T++)E[T]=this.i(T)^D.i(T);return new s(E,this.h^D.h)};function mt(D){for(var b=D.g.length+1,E=[],T=0;T<b;T++)E[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(E,D.h)}function Oe(D,b){var E=b>>5;b%=32;for(var T=D.g.length-E,S=[],k=0;k<T;k++)S[k]=0<b?D.i(k+E)>>>b|D.i(k+E+1)<<32-b:D.i(k+E);return new s(S,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gC=yF.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,eo=yF.Integer=s}).apply(typeof vF<"u"?vF:typeof self<"u"?self:typeof window<"u"?window:{});var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},to={};var _C,_7,Tl,vC,Dh,p_,yC,bC,wC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,f){return l==Array.prototype||l==Object.prototype||(l[h]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof f_=="object"&&f_];for(var h=0;h<l.length;++h){var f=l[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var f=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var x=l[v];if(!(x in f))break e;f=f[x]}l=l[l.length-1],v=f[l],h=h(v),h!=v&&h!=null&&e(f,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var f=0,v=!1,x={next:function(){if(!v&&f<l.length){var P=f++;return{value:h(P,l[P]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,f){return f})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,f){return l.call.apply(l.bind,arguments)}function p(l,h,f){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),l.apply(h,x)}}return function(){return l.apply(h,arguments)}}function m(l,h,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function g(l,h){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function I(l,h){function f(){}f.prototype=h.prototype,l.aa=h.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(v,x,P){for(var $=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)$[ot-2]=arguments[ot];return h.prototype[x].apply(v,$)}}function R(l){let h=l.length;if(0<h){let f=Array(h);for(let v=0;v<h;v++)f[v]=l[v];return f}return[]}function A(l,h){for(let f=1;f<arguments.length;f++){let v=arguments[f];if(c(v)){let x=l.length||0,P=v.length||0;l.length=x+P;for(let $=0;$<P;$++)l[x+$]=v[$]}else l.push(v)}}class F{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function W(l){return/^[\s\xa0]*$/.test(l)}function re(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function De(l){return De[" "](l),l}De[" "]=function(){};var mt=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Oe(l,h,f){for(let v in l)h.call(f,l[v],v,l)}function D(l,h){for(let f in l)h.call(void 0,l[f],f,l)}function b(l){let h={};for(let f in l)h[f]=l[f];return h}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,h){let f,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(f in v)l[f]=v[f];for(let P=0;P<E.length;P++)f=E[P],Object.prototype.hasOwnProperty.call(v,f)&&(l[f]=v[f])}}function S(l){var h=1;l=l.split(":");let f=[];for(;0<h&&l.length;)f.push(l.shift()),h--;return l.length&&f.push(l.join(":")),f}function k(l){a.setTimeout(()=>{throw l},0)}function w(){var l=Wv;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class yi{constructor(){this.h=this.g=null}add(h,f){let v=nu.get();v.set(h,f),this.h?this.h.next=v:this.g=v,this.h=v}}var nu=new F(()=>new Q2,l=>l.reset());class Q2{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ru,iu=!1,Wv=new yi,sS=()=>{let l=a.Promise.resolve(void 0);ru=()=>{l.then(X2)}};var X2=()=>{for(var l;l=w();){try{l.h.call(l.g)}catch(f){k(f)}var h=nu;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}iu=!1};function ho(){this.s=this.s,this.C=this.C}ho.prototype.s=!1,ho.prototype.ma=function(){this.s||(this.s=!0,this.N())},ho.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function an(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}an.prototype.h=function(){this.defaultPrevented=!0};var Z2=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,h),a.removeEventListener("test",f,h)}catch{}return l})();function ou(l,h){if(an.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(mt){e:{try{De(h.nodeName);var x=!0;break e}catch{}x=!1}x||(h=null)}}else f=="mouseover"?h=l.fromElement:f=="mouseout"&&(h=l.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:J2[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ou.aa.h.call(this)}}I(ou,an);var J2={2:"touch",3:"pen",4:"mouse"};ou.prototype.h=function(){ou.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var su="closure_listenable_"+(1e6*Math.random()|0),ej=0;function tj(l,h,f,v,x){this.listener=l,this.proxy=null,this.src=h,this.type=f,this.capture=!!v,this.ha=x,this.key=++ej,this.da=this.fa=!1}function nf(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function rf(l){this.src=l,this.g={},this.h=0}rf.prototype.add=function(l,h,f,v,x){var P=l.toString();l=this.g[P],l||(l=this.g[P]=[],this.h++);var $=Kv(l,h,v,x);return-1<$?(h=l[$],f||(h.fa=!1)):(h=new tj(h,this.src,P,!!v,x),h.fa=f,l.push(h)),h};function Gv(l,h){var f=h.type;if(f in l.g){var v=l.g[f],x=Array.prototype.indexOf.call(v,h,void 0),P;(P=0<=x)&&Array.prototype.splice.call(v,x,1),P&&(nf(h),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Kv(l,h,f,v){for(var x=0;x<l.length;++x){var P=l[x];if(!P.da&&P.listener==h&&P.capture==!!f&&P.ha==v)return x}return-1}var Yv="closure_lm_"+(1e6*Math.random()|0),Qv={};function aS(l,h,f,v,x){if(v&&v.once)return lS(l,h,f,v,x);if(Array.isArray(h)){for(var P=0;P<h.length;P++)aS(l,h[P],f,v,x);return null}return f=ey(f),l&&l[su]?l.K(h,f,u(v)?!!v.capture:!!v,x):cS(l,h,f,!1,v,x)}function cS(l,h,f,v,x,P){if(!h)throw Error("Invalid event type");var $=u(x)?!!x.capture:!!x,ot=Zv(l);if(ot||(l[Yv]=ot=new rf(l)),f=ot.add(h,f,v,$,P),f.proxy)return f;if(v=nj(),f.proxy=v,v.src=l,v.listener=f,l.addEventListener)Z2||(x=$),x===void 0&&(x=!1),l.addEventListener(h.toString(),v,x);else if(l.attachEvent)l.attachEvent(dS(h.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function nj(){function l(f){return h.call(l.src,l.listener,f)}let h=rj;return l}function lS(l,h,f,v,x){if(Array.isArray(h)){for(var P=0;P<h.length;P++)lS(l,h[P],f,v,x);return null}return f=ey(f),l&&l[su]?l.L(h,f,u(v)?!!v.capture:!!v,x):cS(l,h,f,!0,v,x)}function uS(l,h,f,v,x){if(Array.isArray(h))for(var P=0;P<h.length;P++)uS(l,h[P],f,v,x);else v=u(v)?!!v.capture:!!v,f=ey(f),l&&l[su]?(l=l.i,h=String(h).toString(),h in l.g&&(P=l.g[h],f=Kv(P,f,v,x),-1<f&&(nf(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete l.g[h],l.h--)))):l&&(l=Zv(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Kv(h,f,v,x)),(f=-1<l?h[l]:null)&&Xv(f))}function Xv(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[su])Gv(h.i,l);else{var f=l.type,v=l.proxy;h.removeEventListener?h.removeEventListener(f,v,l.capture):h.detachEvent?h.detachEvent(dS(f),v):h.addListener&&h.removeListener&&h.removeListener(v),(f=Zv(h))?(Gv(f,l),f.h==0&&(f.src=null,h[Yv]=null)):nf(l)}}}function dS(l){return l in Qv?Qv[l]:Qv[l]="on"+l}function rj(l,h){if(l.da)l=!0;else{h=new ou(h,this);var f=l.listener,v=l.ha||l.src;l.fa&&Xv(l),l=f.call(v,h)}return l}function Zv(l){return l=l[Yv],l instanceof rf?l:null}var Jv="__closure_events_fn_"+(1e9*Math.random()>>>0);function ey(l){return typeof l=="function"?l:(l[Jv]||(l[Jv]=function(h){return l.handleEvent(h)}),l[Jv])}function cn(){ho.call(this),this.i=new rf(this),this.M=this,this.F=null}I(cn,ho),cn.prototype[su]=!0,cn.prototype.removeEventListener=function(l,h,f,v){uS(this,l,h,f,v)};function bn(l,h){var f,v=l.F;if(v)for(f=[];v;v=v.F)f.push(v);if(l=l.M,v=h.type||h,typeof h=="string")h=new an(h,l);else if(h instanceof an)h.target=h.target||l;else{var x=h;h=new an(v,l),T(h,x)}if(x=!0,f)for(var P=f.length-1;0<=P;P--){var $=h.g=f[P];x=of($,v,!0,h)&&x}if($=h.g=l,x=of($,v,!0,h)&&x,x=of($,v,!1,h)&&x,f)for(P=0;P<f.length;P++)$=h.g=f[P],x=of($,v,!1,h)&&x}cn.prototype.N=function(){if(cn.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var f=l.g[h],v=0;v<f.length;v++)nf(f[v]);delete l.g[h],l.h--}}this.F=null},cn.prototype.K=function(l,h,f,v){return this.i.add(String(l),h,!1,f,v)},cn.prototype.L=function(l,h,f,v){return this.i.add(String(l),h,!0,f,v)};function of(l,h,f,v){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var x=!0,P=0;P<h.length;++P){var $=h[P];if($&&!$.da&&$.capture==f){var ot=$.listener,en=$.ha||$.src;$.fa&&Gv(l.i,$),x=ot.call(en,v)!==!1&&x}}return x&&!v.defaultPrevented}function hS(l,h,f){if(typeof l=="function")f&&(l=m(l,f));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function fS(l){l.g=hS(()=>{l.g=null,l.i&&(l.i=!1,fS(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class ij extends ho{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:fS(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function au(l){ho.call(this),this.h=l,this.g={}}I(au,ho);var pS=[];function mS(l){Oe(l.g,function(h,f){this.g.hasOwnProperty(f)&&Xv(h)},l),l.g={}}au.prototype.N=function(){au.aa.N.call(this),mS(this)},au.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ty=a.JSON.stringify,oj=a.JSON.parse,sj=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ny(){}ny.prototype.h=null;function gS(l){return l.h||(l.h=l.i())}function _S(){}var cu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ry(){an.call(this,"d")}I(ry,an);function iy(){an.call(this,"c")}I(iy,an);var Ms={},vS=null;function sf(){return vS=vS||new cn}Ms.La="serverreachability";function yS(l){an.call(this,Ms.La,l)}I(yS,an);function lu(l){let h=sf();bn(h,new yS(h))}Ms.STAT_EVENT="statevent";function bS(l,h){an.call(this,Ms.STAT_EVENT,l),this.stat=h}I(bS,an);function wn(l){let h=sf();bn(h,new bS(h,l))}Ms.Ma="timingevent";function wS(l,h){an.call(this,Ms.Ma,l),this.size=h}I(wS,an);function uu(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function du(){this.g=!0}du.prototype.xa=function(){this.g=!1};function aj(l,h,f,v,x,P){l.info(function(){if(l.g)if(P)for(var $="",ot=P.split("&"),en=0;en<ot.length;en++){var We=ot[en].split("=");if(1<We.length){var ln=We[0];We=We[1];var un=ln.split("_");$=2<=un.length&&un[1]=="type"?$+(ln+"="+We+"&"):$+(ln+"=redacted&")}}else $=null;else $=P;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+h+`
`+f+`
`+$})}function cj(l,h,f,v,x,P,$){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+h+`
`+f+`
`+P+" "+$})}function ec(l,h,f,v){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+uj(l,f)+(v?" "+v:"")})}function lj(l,h){l.info(function(){return"TIMEOUT: "+h})}du.prototype.info=function(){};function uj(l,h){if(!l.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var v=f[l];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(var $=1;$<x.length;$++)x[$]=""}}}}return ty(f)}catch{return h}}var af={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ES={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oy;function cf(){}I(cf,ny),cf.prototype.g=function(){return new XMLHttpRequest},cf.prototype.i=function(){return{}},oy=new cf;function fo(l,h,f,v){this.j=l,this.i=h,this.l=f,this.R=v||1,this.U=new au(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new IS}function IS(){this.i=null,this.g="",this.h=!1}var CS={},sy={};function ay(l,h,f){l.L=1,l.v=hf(bi(h)),l.m=f,l.P=!0,TS(l,null)}function TS(l,h){l.F=Date.now(),lf(l),l.A=bi(l.v);var f=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),jS(f.i,"t",v),l.C=0,f=l.j.J,l.h=new IS,l.g=rx(l.j,f?h:null,!l.m),0<l.O&&(l.M=new ij(m(l.Y,l,l.g),l.O)),h=l.U,f=l.g,v=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(pS[0]=x.toString()),x=pS);for(var P=0;P<x.length;P++){var $=aS(f,x[P],v||h.handleEvent,!1,h.h||h);if(!$)break;h.g[$.key]=$}h=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),lu(),aj(l.i,l.u,l.A,l.l,l.R,l.m)}fo.prototype.ca=function(l){l=l.target;let h=this.M;h&&wi(l)==3?h.j():this.Y(l)},fo.prototype.Y=function(l){try{if(l==this.g)e:{let un=wi(this.g);var h=this.g.Ba();let rc=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||WS(this.g)))){this.J||un!=4||h==7||(h==8||0>=rc?lu(3):lu(2)),cy(this);var f=this.g.Z();this.X=f;t:if(DS(this)){var v=WS(this.g);l="";var x=v.length,P=wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ks(this),hu(this);var $="";break t}this.h.i=new a.TextDecoder}for(h=0;h<x;h++)this.h.h=!0,l+=this.h.i.decode(v[h],{stream:!(P&&h==x-1)});v.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=f==200,cj(this.i,this.u,this.A,this.l,this.R,un,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,en=this.g;if((ot=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(ot)){var We=ot;break t}}We=null}if(f=We)ec(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ly(this,f);else{this.o=!1,this.s=3,wn(12),ks(this),hu(this);break e}}if(this.P){f=!0;let Tr;for(;!this.J&&this.C<$.length;)if(Tr=dj(this,$),Tr==sy){un==4&&(this.s=4,wn(14),f=!1),ec(this.i,this.l,null,"[Incomplete Response]");break}else if(Tr==CS){this.s=4,wn(15),ec(this.i,this.l,$,"[Invalid Chunk]"),f=!1;break}else ec(this.i,this.l,Tr,null),ly(this,Tr);if(DS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||$.length!=0||this.h.h||(this.s=1,wn(16),f=!1),this.o=this.o&&f,!f)ec(this.i,this.l,$,"[Invalid Chunked Response]"),ks(this),hu(this);else if(0<$.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),my(ln),ln.M=!0,wn(11))}}else ec(this.i,this.l,$,null),ly(this,$);un==4&&ks(this),this.o&&!this.J&&(un==4?JS(this.j,this):(this.o=!1,lf(this)))}else xj(this.g),f==400&&0<$.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),ks(this),hu(this)}}}catch{}finally{}};function DS(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function dj(l,h){var f=l.C,v=h.indexOf(`
`,f);return v==-1?sy:(f=Number(h.substring(f,v)),isNaN(f)?CS:(v+=1,v+f>h.length?sy:(h=h.slice(v,v+f),l.C=v+f,h)))}fo.prototype.cancel=function(){this.J=!0,ks(this)};function lf(l){l.S=Date.now()+l.I,SS(l,l.I)}function SS(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=uu(m(l.ba,l),h)}function cy(l){l.B&&(a.clearTimeout(l.B),l.B=null)}fo.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(lj(this.i,this.A),this.L!=2&&(lu(),wn(17)),ks(this),this.s=2,hu(this)):SS(this,this.S-l)};function hu(l){l.j.G==0||l.J||JS(l.j,l)}function ks(l){cy(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,mS(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function ly(l,h){try{var f=l.j;if(f.G!=0&&(f.g==l||uy(f.h,l))){if(!l.K&&uy(f.h,l)&&f.G==3){try{var v=f.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)_f(f),mf(f);else break e;py(f),wn(18)}}else f.za=x[1],0<f.za-f.T&&37500>x[2]&&f.F&&f.v==0&&!f.C&&(f.C=uu(m(f.Za,f),6e3));if(1>=RS(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ns(f,11)}else if((l.K||f.g==l)&&_f(f),!W(h))for(x=f.Da.g.parse(h),h=0;h<x.length;h++){let We=x[h];if(f.T=We[0],We=We[1],f.G==2)if(We[0]=="c"){f.K=We[1],f.ia=We[2];let ln=We[3];ln!=null&&(f.la=ln,f.j.info("VER="+f.la));let un=We[4];un!=null&&(f.Aa=un,f.j.info("SVER="+f.Aa));let rc=We[5];rc!=null&&typeof rc=="number"&&0<rc&&(v=1.5*rc,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;let Tr=l.g;if(Tr){let yf=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yf){var P=v.h;P.g||yf.indexOf("spdy")==-1&&yf.indexOf("quic")==-1&&yf.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(dy(P,P.h),P.h=null))}if(v.D){let gy=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;gy&&(v.ya=gy,ut(v.I,v.D,gy))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var $=l;if(v.qa=nx(v,v.J?v.ia:null,v.W),$.K){MS(v.h,$);var ot=$,en=v.L;en&&(ot.I=en),ot.B&&(cy(ot),lf(ot)),v.g=$}else XS(v);0<f.i.length&&gf(f)}else We[0]!="stop"&&We[0]!="close"||Ns(f,7);else f.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Ns(f,7):fy(f):We[0]!="noop"&&f.l&&f.l.ta(We),f.v=0)}}lu(4)}catch{}}var hj=class{constructor(l,h){this.g=l,this.map=h}};function xS(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function AS(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function RS(l){return l.h?1:l.g?l.g.size:0}function uy(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function dy(l,h){l.g?l.g.add(h):l.h=h}function MS(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}xS.prototype.cancel=function(){if(this.i=kS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function kS(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let f of l.g.values())h=h.concat(f.D);return h}return R(l.i)}function fj(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],f=l.length,v=0;v<f;v++)h.push(l[v]);return h}h=[],f=0;for(v in l)h[f++]=l[v];return h}function pj(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var f=0;f<l;f++)h.push(f);return h}h=[],f=0;for(let v in l)h[f++]=v;return h}}}function PS(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var f=pj(l),v=fj(l),x=v.length,P=0;P<x;P++)h.call(void 0,v[P],f&&f[P],l)}var NS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mj(l,h){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var v=l[f].indexOf("="),x=null;if(0<=v){var P=l[f].substring(0,v);x=l[f].substring(v+1)}else P=l[f];h(P,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Ps(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ps){this.h=l.h,uf(this,l.j),this.o=l.o,this.g=l.g,df(this,l.s),this.l=l.l;var h=l.i,f=new mu;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),OS(this,f),this.m=l.m}else l&&(h=String(l).match(NS))?(this.h=!1,uf(this,h[1]||"",!0),this.o=fu(h[2]||""),this.g=fu(h[3]||"",!0),df(this,h[4]),this.l=fu(h[5]||"",!0),OS(this,h[6]||"",!0),this.m=fu(h[7]||"")):(this.h=!1,this.i=new mu(null,this.h))}Ps.prototype.toString=function(){var l=[],h=this.j;h&&l.push(pu(h,FS,!0),":");var f=this.g;return(f||h=="file")&&(l.push("//"),(h=this.o)&&l.push(pu(h,FS,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(pu(f,f.charAt(0)=="/"?vj:_j,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",pu(f,bj)),l.join("")};function bi(l){return new Ps(l)}function uf(l,h,f){l.j=f?fu(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function df(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function OS(l,h,f){h instanceof mu?(l.i=h,wj(l.i,l.h)):(f||(h=pu(h,yj)),l.i=new mu(h,l.h))}function ut(l,h,f){l.i.set(h,f)}function hf(l){return ut(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function fu(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function pu(l,h,f){return typeof l=="string"?(l=encodeURI(l).replace(h,gj),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function gj(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var FS=/[#\/\?@]/g,_j=/[#\?:]/g,vj=/[#\?]/g,yj=/[#\?@]/g,bj=/#/g;function mu(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function po(l){l.g||(l.g=new Map,l.h=0,l.i&&mj(l.i,function(h,f){l.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}n=mu.prototype,n.add=function(l,h){po(this),this.i=null,l=tc(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(h),this.h+=1,this};function LS(l,h){po(l),h=tc(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function VS(l,h){return po(l),h=tc(l,h),l.g.has(h)}n.forEach=function(l,h){po(this),this.g.forEach(function(f,v){f.forEach(function(x){l.call(h,x,v,this)},this)},this)},n.na=function(){po(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let v=0;v<h.length;v++){let x=l[v];for(let P=0;P<x.length;P++)f.push(h[v])}return f},n.V=function(l){po(this);let h=[];if(typeof l=="string")VS(this,l)&&(h=h.concat(this.g.get(tc(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)h=h.concat(l[f])}return h},n.set=function(l,h){return po(this),this.i=null,l=tc(this,l),VS(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function jS(l,h,f){LS(l,h),0<f.length&&(l.i=null,l.g.set(tc(l,h),R(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var v=h[f];let P=encodeURIComponent(String(v)),$=this.V(v);for(v=0;v<$.length;v++){var x=P;$[v]!==""&&(x+="="+encodeURIComponent(String($[v]))),l.push(x)}}return this.i=l.join("&")};function tc(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function wj(l,h){h&&!l.j&&(po(l),l.i=null,l.g.forEach(function(f,v){var x=v.toLowerCase();v!=x&&(LS(this,v),jS(this,x,f))},l)),l.j=h}function Ej(l,h){let f=new du;if(a.Image){let v=new Image;v.onload=g(mo,f,"TestLoadImage: loaded",!0,h,v),v.onerror=g(mo,f,"TestLoadImage: error",!1,h,v),v.onabort=g(mo,f,"TestLoadImage: abort",!1,h,v),v.ontimeout=g(mo,f,"TestLoadImage: timeout",!1,h,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else h(!1)}function Ij(l,h){let f=new du,v=new AbortController,x=setTimeout(()=>{v.abort(),mo(f,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:v.signal}).then(P=>{clearTimeout(x),P.ok?mo(f,"TestPingServer: ok",!0,h):mo(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(x),mo(f,"TestPingServer: error",!1,h)})}function mo(l,h,f,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(f)}catch{}}function Cj(){this.g=new sj}function Tj(l,h,f){let v=f||"";try{PS(l,function(x,P){let $=x;u(x)&&($=ty(x)),h.push(v+P+"="+encodeURIComponent($))})}catch(x){throw h.push(v+"type="+encodeURIComponent("_badmap")),x}}function gu(l){this.l=l.Ub||null,this.j=l.eb||!1}I(gu,ny),gu.prototype.g=function(){return new ff(this.l,this.j)},gu.prototype.i=(function(l){return function(){return l}})({});function ff(l,h){cn.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(ff,cn),n=ff.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,vu(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_u(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,vu(this)),this.g&&(this.readyState=3,vu(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;BS(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function BS(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?_u(this):vu(this),this.readyState==3&&BS(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,_u(this))},n.Qa=function(l){this.g&&(this.response=l,_u(this))},n.ga=function(){this.g&&_u(this)};function _u(l){l.readyState=4,l.l=null,l.j=null,l.v=null,vu(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=h.next();return l.join(`\r
`)};function vu(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ff.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function US(l){let h="";return Oe(l,function(f,v){h+=v,h+=":",h+=f,h+=`\r
`}),h}function hy(l,h,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=US(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):ut(l,h,f))}function gt(l){cn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(gt,cn);var Dj=/^https?$/i,Sj=["POST","PUT"];n=gt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oy.g(),this.v=this.o?gS(this.o):gS(oy),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(P){HS(this,P);return}if(l=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)f.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let P of v.keys())f.set(P,v.get(P));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),x=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Sj,h,void 0))||v||x||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,$]of f)this.g.setRequestHeader(P,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qS(this),this.u=!0,this.g.send(l),this.u=!1}catch(P){HS(this,P)}};function HS(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,$S(l),pf(l)}function $S(l){l.A||(l.A=!0,bn(l,"complete"),bn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,bn(this,"complete"),bn(this,"abort"),pf(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pf(this,!0)),gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?zS(this):this.bb())},n.bb=function(){zS(this)};function zS(l){if(l.h&&typeof s<"u"&&(!l.v[1]||wi(l)!=4||l.Z()!=2)){if(l.u&&wi(l)==4)hS(l.Ea,0,l);else if(bn(l,"readystatechange"),wi(l)==4){l.h=!1;try{let $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var v;if(v=$===0){var x=String(l.D).match(NS)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!Dj.test(x?x.toLowerCase():"")}f=v}if(f)bn(l,"complete"),bn(l,"success");else{l.m=6;try{var P=2<wi(l)?l.g.statusText:""}catch{P=""}l.l=P+" ["+l.Z()+"]",$S(l)}}finally{pf(l)}}}}function pf(l,h){if(l.g){qS(l);let f=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||bn(l,"ready");try{f.onreadystatechange=v}catch{}}}function qS(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function wi(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),oj(h)}};function WS(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function xj(l){let h={};l=(l.g&&2<=wi(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(W(l[v]))continue;var f=S(l[v]);let x=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=h[x]||[];h[x]=P,P.push(f)}D(h,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yu(l,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||h}function GS(l){this.Aa=0,this.i=[],this.j=new du,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yu("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yu("baseRetryDelayMs",5e3,l),this.cb=yu("retryDelaySeedMs",1e4,l),this.Wa=yu("forwardChannelMaxRetries",2,l),this.wa=yu("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new xS(l&&l.concurrentRequestLimit),this.Da=new Cj,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=GS.prototype,n.la=8,n.G=1,n.connect=function(l,h,f,v){wn(0),this.W=l,this.H=h||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=nx(this,null,this.W),gf(this)};function fy(l){if(KS(l),l.G==3){var h=l.U++,f=bi(l.I);if(ut(f,"SID",l.K),ut(f,"RID",h),ut(f,"TYPE","terminate"),bu(l,f),h=new fo(l,l.j,h),h.L=2,h.v=hf(bi(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=h.v,f=!0),f||(h.g=rx(h.j,null),h.g.ea(h.v)),h.F=Date.now(),lf(h)}tx(l)}function mf(l){l.g&&(my(l),l.g.cancel(),l.g=null)}function KS(l){mf(l),l.u&&(a.clearTimeout(l.u),l.u=null),_f(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function gf(l){if(!AS(l.h)&&!l.s){l.s=!0;var h=l.Ga;ru||sS(),iu||(ru(),iu=!0),Wv.add(h,l),l.B=0}}function Aj(l,h){return RS(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=uu(m(l.Ga,l,h),ex(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let x=new fo(this,this.j,l),P=this.o;if(this.S&&(P?(P=b(P),T(P,this.S)):P=this.S),this.m!==null||this.O||(x.H=P,P=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=QS(this,x,h),f=bi(this.I),ut(f,"RID",l),ut(f,"CVER",22),this.D&&ut(f,"X-HTTP-Session-Id",this.D),bu(this,f),P&&(this.O?h="headers="+encodeURIComponent(String(US(P)))+"&"+h:this.m&&hy(f,this.m,P)),dy(this.h,x),this.Ua&&ut(f,"TYPE","init"),this.P?(ut(f,"$req",h),ut(f,"SID","null"),x.T=!0,ay(x,f,null)):ay(x,f,h),this.G=2}}else this.G==3&&(l?YS(this,l):this.i.length==0||AS(this.h)||YS(this))};function YS(l,h){var f;h?f=h.l:f=l.U++;let v=bi(l.I);ut(v,"SID",l.K),ut(v,"RID",f),ut(v,"AID",l.T),bu(l,v),l.m&&l.o&&hy(v,l.m,l.o),f=new fo(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),h&&(l.i=h.D.concat(l.i)),h=QS(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),dy(l.h,f),ay(f,v,h)}function bu(l,h){l.H&&Oe(l.H,function(f,v){ut(h,v,f)}),l.l&&PS({},function(f,v){ut(h,v,f)})}function QS(l,h,f){f=Math.min(l.i.length,f);var v=l.l?m(l.l.Na,l.l,l):null;e:{var x=l.i;let P=-1;for(;;){let $=["count="+f];P==-1?0<f?(P=x[0].g,$.push("ofs="+P)):P=0:$.push("ofs="+P);let ot=!0;for(let en=0;en<f;en++){let We=x[en].g,ln=x[en].map;if(We-=P,0>We)P=Math.max(0,x[en].g-100),ot=!1;else try{Tj(ln,$,"req"+We+"_")}catch{v&&v(ln)}}if(ot){v=$.join("&");break e}}}return l=l.i.splice(0,f),h.D=l,v}function XS(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ru||sS(),iu||(ru(),iu=!0),Wv.add(h,l),l.v=0}}function py(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=uu(m(l.Fa,l),ex(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,ZS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=uu(m(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),mf(this),ZS(this))};function my(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function ZS(l){l.g=new fo(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=bi(l.qa);ut(h,"RID","rpc"),ut(h,"SID",l.K),ut(h,"AID",l.T),ut(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ut(h,"TO",l.ja),ut(h,"TYPE","xmlhttp"),bu(l,h),l.m&&l.o&&hy(h,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=hf(bi(h)),f.m=null,f.P=!0,TS(f,l)}n.Za=function(){this.C!=null&&(this.C=null,mf(this),py(this),wn(19))};function _f(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function JS(l,h){var f=null;if(l.g==h){_f(l),my(l),l.g=null;var v=2}else if(uy(l.h,h))f=h.D,MS(l.h,h),v=1;else return;if(l.G!=0){if(h.o)if(v==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var x=l.B;v=sf(),bn(v,new wS(v,f)),gf(l)}else XS(l);else if(x=h.s,x==3||x==0&&0<h.X||!(v==1&&Aj(l,h)||v==2&&py(l)))switch(f&&0<f.length&&(h=l.h,h.i=h.i.concat(f)),x){case 1:Ns(l,5);break;case 4:Ns(l,10);break;case 3:Ns(l,6);break;default:Ns(l,2)}}}function ex(l,h){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*h}function Ns(l,h){if(l.j.info("Error code "+h),h==2){var f=m(l.fb,l),v=l.Xa;let x=!v;v=new Ps(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||uf(v,"https"),hf(v),x?Ej(v.toString(),f):Ij(v.toString(),f)}else wn(2);l.G=0,l.l&&l.l.sa(h),tx(l),KS(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function tx(l){if(l.G=0,l.ka=[],l.l){let h=kS(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ka,h),A(l.ka,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.ra()}}function nx(l,h,f){var v=f instanceof Ps?bi(f):new Ps(f);if(v.g!="")h&&(v.g=h+"."+v.g),df(v,v.s);else{var x=a.location;v=x.protocol,h=h?h+"."+x.hostname:x.hostname,x=+x.port;var P=new Ps(null);v&&uf(P,v),h&&(P.g=h),x&&df(P,x),f&&(P.l=f),v=P}return f=l.D,h=l.ya,f&&h&&ut(v,f,h),ut(v,"VER",l.la),bu(l,v),v}function rx(l,h,f){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new gt(new gu({eb:f})):new gt(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ix(){}n=ix.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function vf(){}vf.prototype.g=function(l,h){return new $n(l,h)};function $n(l,h){cn.call(this),this.g=new GS(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!W(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!W(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new nc(this)}I($n,cn),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){fy(this.g)},$n.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=ty(l),l=f);h.i.push(new hj(h.Ya++,l)),h.G==3&&gf(h)},$n.prototype.N=function(){this.g.l=null,delete this.j,fy(this.g),delete this.g,$n.aa.N.call(this)};function ox(l){ry.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let f in h){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}I(ox,ry);function sx(){iy.call(this),this.status=1}I(sx,iy);function nc(l){this.g=l}I(nc,ix),nc.prototype.ua=function(){bn(this.g,"a")},nc.prototype.ta=function(l){bn(this.g,new ox(l))},nc.prototype.sa=function(l){bn(this.g,new sx)},nc.prototype.ra=function(){bn(this.g,"b")},vf.prototype.createWebChannel=vf.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,wC=to.createWebChannelTransport=function(){return new vf},bC=to.getStatEventTarget=function(){return sf()},yC=to.Event=Ms,p_=to.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},af.NO_ERROR=0,af.TIMEOUT=8,af.HTTP_ERROR=6,Dh=to.ErrorCode=af,ES.COMPLETE="complete",vC=to.EventType=ES,_S.EventType=cu,cu.OPEN="a",cu.CLOSE="b",cu.ERROR="c",cu.MESSAGE="d",cn.prototype.listen=cn.prototype.K,Tl=to.WebChannel=_S,_7=to.FetchXmlHttpFactory=gu,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,_C=to.XhrIo=gt}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var bF="@firebase/firestore",wF="4.8.0";var Xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");var Wl="11.10.0";var Fa=new ui("@firebase/firestore");function Dl(){return Fa.logLevel}function G(n,...e){if(Fa.logLevel<=Le.DEBUG){let t=e.map(_D);Fa.debug(`Firestore (${Wl}): ${n}`,...t)}}function ro(n,...e){if(Fa.logLevel<=Le.ERROR){let t=e.map(_D);Fa.error(`Firestore (${Wl}): ${n}`,...t)}}function _s(n,...e){if(Fa.logLevel<=Le.WARN){let t=e.map(_D);Fa.warn(`Firestore (${Wl}): ${n}`,...t)}}function _D(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function oe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,dL(n,r,t)}function dL(n,e,t){let r=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ro(r),new Error(r)}function $e(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||dL(e,i,r)}function we(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var rr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var w_=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},TC=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}},DC=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},SC=class{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>y(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new w_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}},xC=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},AC=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new xC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},E_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},RC=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new E_(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new E_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function v7(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function hL(){return new TextEncoder}var kh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=v7(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Ne(n,e){return n<e?-1:n>e?1:0}function MC(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ne(r,i);{let o=hL(),s=y7(o.encode(EF(n,t)),o.encode(EF(e,t)));return s!==0?s:Ne(r,i)}}t+=r>65535?2:1}return Ne(n.length,e.length)}function EF(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function y7(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ne(n[t],e[t]);return Ne(n.length,e.length)}function Nl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var IF="__name__",I_=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Ne(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):MC(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eo.fromString(e.substring(4,e.length-2))}},ct=class n extends I_{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},b7=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ir=class n extends I_{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return b7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IF}static keyField(){return new n([IF])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new H(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ne=class n{constructor(e){this.path=e}static fromPath(e){return new n(ct.fromString(e))}static fromName(e){return new n(ct.fromString(e).popFirst(5))}static empty(){return new n(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ct(e.slice()))}};function fL(n,e,t){if(!t)throw new H(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function w7(n,e,t,r){if(e===!0&&r===!0)throw new H(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function CF(n){if(!ne.isDocumentKey(n))throw new H(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TF(n){if(ne.isDocumentKey(n))throw new H(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pL(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function iv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":oe(12329,{type:typeof n})}function Un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=iv(n);throw new H(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function E7(n,e){if(e<=0)throw new H(N.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Lt(n,e){let t={typeString:n};return e&&(t.value=e),t}function $h(n,e){if(!pL(n))throw new H(N.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new H(N.INVALID_ARGUMENT,t);return!0}var DF=-62135596800,SF=1e6,Vt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*SF);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<DF)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SF}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($h(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-DF;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Vt._jsonSchemaVersion="firestore/timestamp/1.0",Vt._jsonSchema={type:Lt("string",Vt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};var Ie=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Vt(0,0))}static max(){return new n(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ph=-1,kC=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};kC.UNKNOWN_ID=-1;function I7(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new Vt(t+1,0):new Vt(t,r));return new La(i,ne.empty(),e)}function C7(n){return new La(n.readTime,n.key,Ph)}var La=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Ie.min(),ne.empty(),Ph)}static max(){return new n(Ie.max(),ne.empty(),Ph)}};function T7(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ne.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}var D7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",PC=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Gl(n){return y(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==D7)throw n;G("LocalStore","Unexpectedly lost primary lease")})}var U=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function S7(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Kl(n){return n.name==="IndexedDbTransactionError"}var vD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),yD=-1;function zh(n){return n==null}function Nh(n){return n===0&&1/n==-1/0}function x7(n){return typeof n=="number"&&Number.isInteger(n)&&!Nh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var mL="";function A7(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xF(e)),e=R7(n.get(t),e);return xF(e)}function R7(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case mL:t+="";break;default:t+=o}}return t}function xF(n){return n+mL+""}var M7="remoteDocuments",gL="owner";var _L="mutationQueues";var vL="mutations";var yL="documentMutations",k7="remoteDocumentsV14";var bL="remoteDocumentGlobal";var wL="targets";var EL="targetDocuments";var IL="targetGlobal",CL="collectionParents";var TL="clientMetadata";var DL="bundles";var SL="namedQueries";var P7="indexConfiguration";var N7="indexState";var O7="indexEntries";var xL="documentOverlays";var F7="globals";var L7=[_L,vL,yL,M7,wL,gL,IL,EL,TL,bL,CL,DL,SL],h0e=[...L7,xL],V7=[_L,vL,yL,k7,wL,gL,IL,EL,TL,bL,CL,DL,SL,xL],j7=V7,B7=[...j7,P7,N7,O7];var f0e=[...B7,F7];function AF(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Is(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function U7(n,e){let t=[];for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.push(e(n[r],r,n));return t}function AL(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var yt=class n{constructor(e,t){this.comparator=e,this.root=t||pi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Al(this.root,e,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Al(this.root,e,this.comparator,!0)}},Al=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pi=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}};pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1;pi.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new pi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Jt=class n{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new C_(this.data.getIterator())}getIteratorFrom(e){return new C_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},C_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ir=class n{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new n([])}unionWith(e){let t=new Jt(ir.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var T_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new T_("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yn.EMPTY_BYTE_STRING=new yn("");var H7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(n){if($e(!!n,39018),typeof n=="string"){let e=0,t=H7.exec(n);if($e(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function oo(n){return typeof n=="string"?yn.fromBase64String(n):yn.fromUint8Array(n)}var RL="server_timestamp",ML="__type__",kL="__previous_value__",PL="__local_write_time__";function ov(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ML])===null||t===void 0?void 0:t.stringValue)===RL}function sv(n){let e=n.mapValue.fields[kL];return ov(e)?sv(e):e}function Oh(n){let e=io(n.mapValue.fields[PL].timestampValue);return new Vt(e.seconds,e.nanos)}var NC=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},D_="(default)",S_=class n{constructor(e,t){this.projectId=e,this.database=t||D_}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===D_}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var bD="__type__",NL="__max__",m_={mapValue:{fields:{__type__:{stringValue:NL}}}},wD="__vector__",Ol="value";function vs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ov(n)?4:FL(n)?9007199254740991:OL(n)?10:11:oe(28295,{value:n})}function gi(n,e){if(n===e)return!0;let t=vs(n);if(t!==vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Oh(n).isEqual(Oh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=io(i.timestampValue),a=io(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return oo(i.bytesValue).isEqual(oo(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return pt(i.geoPointValue.latitude)===pt(o.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return pt(i.integerValue)===pt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=pt(i.doubleValue),a=pt(o.doubleValue);return s===a?Nh(s)===Nh(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Nl(n.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(AF(s)!==AF(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!gi(s[c],a[c])))return!1;return!0})(n,e);default:return oe(52216,{left:n})}}function Fh(n,e){return(n.values||[]).find(t=>gi(t,e))!==void 0}function Fl(n,e){if(n===e)return 0;let t=vs(n),r=vs(e);if(t!==r)return Ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=pt(o.integerValue||o.doubleValue),c=pt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return RF(n.timestampValue,e.timestampValue);case 4:return RF(Oh(n),Oh(e));case 5:return MC(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=oo(o),c=oo(s);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Ne(a[u],c[u]);if(d!==0)return d}return Ne(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=Ne(pt(o.latitude),pt(s.latitude));return a!==0?a:Ne(pt(o.longitude),pt(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return MF(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,c,u,d;let p=o.fields||{},m=s.fields||{},g=(a=p[Ol])===null||a===void 0?void 0:a.arrayValue,I=(c=m[Ol])===null||c===void 0?void 0:c.arrayValue,R=Ne(((u=g?.values)===null||u===void 0?void 0:u.length)||0,((d=I?.values)===null||d===void 0?void 0:d.length)||0);return R!==0?R:MF(g,I)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===m_.mapValue&&s===m_.mapValue)return 0;if(o===m_.mapValue)return 1;if(s===m_.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){let m=MC(c[p],d[p]);if(m!==0)return m;let g=Fl(a[c[p]],u[d[p]]);if(g!==0)return g}return Ne(c.length,d.length)})(n.mapValue,e.mapValue);default:throw oe(23264,{le:t})}}function RF(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);let t=io(n),r=io(e),i=Ne(t.seconds,r.seconds);return i!==0?i:Ne(t.nanos,r.nanos)}function MF(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Fl(t[i],r[i]);if(o)return o}return Ne(t.length,r.length)}function Ll(n){return OC(n)}function OC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=io(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return oo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ne.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=OC(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${OC(t.fields[s])}`;return i+"}"})(n.mapValue):oe(61005,{value:n})}function v_(n){switch(vs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=sv(n);return e?16+v_(e):16;case 5:return 2*n.stringValue.length;case 6:return oo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+v_(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Is(r.fields,(o,s)=>{i+=o.length+v_(s)}),i})(n.mapValue);default:throw oe(13486,{value:n})}}function x_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function FC(n){return!!n&&"integerValue"in n}function ED(n){return!!n&&"arrayValue"in n}function kF(n){return!!n&&"nullValue"in n}function PF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function y_(n){return!!n&&"mapValue"in n}function OL(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[bD])===null||t===void 0?void 0:t.stringValue)===wD}function xh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Is(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xh(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function FL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===NL}var m0e={mapValue:{fields:{[bD]:{stringValue:wD},[Ol]:{arrayValue:{}}}}};var Bn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!y_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(t)}setAll(e){let t=ir.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=xh(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());y_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];y_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Is(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(xh(this.value))}};function LL(n){let e=[];return Is(n.fields,(t,r)=>{let i=new ir([t]);if(y_(r)){let o=LL(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Ir(e)}var sr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Ie.min(),Ie.min(),Ie.min(),Bn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Ie.min(),Ie.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Ie.min(),Ie.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ys=class{constructor(e,t){this.position=e,this.inclusive=t}};function NF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(s.referenceValue),t.key):r=Fl(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function OF(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gi(n.position[t],e.position[t]))return!1;return!0}var Va=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function $7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var A_=class{},Ft=class n extends A_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new VC(e,t,r):t==="array-contains"?new UC(e,r):t==="in"?new HC(e,r):t==="not-in"?new $C(e,r):t==="array-contains-any"?new zC(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new jC(e,r):new BC(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fl(t,this.value)):t!==null&&vs(this.value)===vs(t)&&this.matchesComparison(Fl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Hr=class n extends A_{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return VL(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function VL(n){return n.op==="and"}function jL(n){return z7(n)&&VL(n)}function z7(n){for(let e of n.filters)if(e instanceof Hr)return!1;return!0}function LC(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+Ll(n.value);if(jL(n))return n.filters.map(e=>LC(e)).join(",");{let e=n.filters.map(t=>LC(t)).join(",");return`${n.op}(${e})`}}function BL(n,e){return n instanceof Ft?(function(r,i){return i instanceof Ft&&r.op===i.op&&r.field.isEqual(i.field)&&gi(r.value,i.value)})(n,e):n instanceof Hr?(function(r,i){return i instanceof Hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&BL(s,i.filters[a]),!0):!1})(n,e):void oe(19439)}function UL(n){return n instanceof Ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ll(t.value)}`})(n):n instanceof Hr?(function(t){return t.op.toString()+" {"+t.getFilters().map(UL).join(" ,")+"}"})(n):"Filter"}var VC=class extends Ft{constructor(e,t,r){super(e,t,r),this.key=ne.fromName(r.referenceValue)}matches(e){let t=ne.comparator(e.key,this.key);return this.matchesComparison(t)}},jC=class extends Ft{constructor(e,t){super(e,"in",t),this.keys=HL("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},BC=class extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=HL("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function HL(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ne.fromName(r.referenceValue))}var UC=class extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ED(t)&&Fh(t.arrayValue,this.value)}},HC=class extends Ft{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Fh(this.value.arrayValue,t)}},$C=class extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fh(this.value.arrayValue,t)}},zC=class extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!ED(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fh(this.value.arrayValue,r))}};var qC=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function FF(n,e=null,t=[],r=[],i=null,o=null,s=null){return new qC(n,e,t,r,i,o,s)}function ID(n){let e=we(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>LC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ll(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ll(r)).join(",")),e.Pe=t}return e.Pe}function CD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!BL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OF(n.startAt,e.startAt)&&OF(n.endAt,e.endAt)}function WC(n){return ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var so=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function q7(n,e,t,r,i,o,s,a){return new so(n,e,t,r,i,o,s,a)}function TD(n){return new so(n)}function LF(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DD(n){return n.collectionGroup!==null}function Rl(n){let e=we(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Jt(ir.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Va(o,r))}),t.has(ir.keyField().canonicalString())||e.Te.push(new Va(ir.keyField(),r))}return e.Te}function mi(n){let e=we(n);return e.Ie||(e.Ie=$L(e,Rl(n))),e.Ie}function W7(n){let e=we(n);return e.de||(e.de=$L(e,n.explicitOrderBy)),e.de}function $L(n,e){if(n.limitType==="F")return FF(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Va(i.field,o)});let t=n.endAt?new ys(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ys(n.startAt.position,n.startAt.inclusive):null;return FF(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function GC(n,e){let t=n.filters.concat([e]);return new so(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function R_(n,e,t){return new so(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function av(n,e){return CD(mi(n),mi(e))&&n.limitType===e.limitType}function zL(n){return`${ID(mi(n))}|lt:${n.limitType}`}function Sl(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>UL(i)).join(", ")}]`),zh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ll(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ll(i)).join(",")),`Target(${r})`})(mi(n))}; limitType=${n.limitType})`}function cv(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Rl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let u=NF(s,a,c);return s.inclusive?u<=0:u<0})(r.startAt,Rl(r),i)||r.endAt&&!(function(s,a,c){let u=NF(s,a,c);return s.inclusive?u>=0:u>0})(r.endAt,Rl(r),i))})(n,e)}function G7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qL(n){return(e,t)=>{let r=!1;for(let i of Rl(n)){let o=K7(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function K7(n,e,t){let r=n.field.isKeyField()?ne.comparator(e.key,t.key):(function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Fl(c,u):oe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:n.dir})}}var ao=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Is(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return AL(this.inner)}size(){return this.innerSize}};var Y7=new yt(ne.comparator);function co(){return Y7}var WL=new yt(ne.comparator);function Sh(...n){let e=WL;for(let t of n)e=e.insert(t.key,t);return e}function GL(n){let e=WL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Na(){return Ah()}function KL(){return Ah()}function Ah(){return new ao(n=>n.toString(),(n,e)=>n.isEqual(e))}var Q7=new yt(ne.comparator),X7=new Jt(ne.comparator);function Be(...n){let e=X7;for(let t of n)e=e.add(t);return e}var Z7=new Jt(Ne);function J7(){return Z7}function SD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function YL(n){return{integerValue:""+n}}function QL(n,e){return x7(e)?YL(e):SD(n,e)}var Vl=class{constructor(){this._=void 0}};function eK(n,e,t){return n instanceof jl?(function(i,o){let s={fields:{[ML]:{stringValue:RL},[PL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ov(o)&&(o=sv(o)),o&&(s.fields[kL]=o),{mapValue:s}})(t,e):n instanceof ja?ZL(n,e):n instanceof Ba?JL(n,e):(function(i,o){let s=XL(i,o),a=VF(s)+VF(i.Ee);return FC(s)&&FC(i.Ee)?YL(a):SD(i.serializer,a)})(n,e)}function tK(n,e,t){return n instanceof ja?ZL(n,e):n instanceof Ba?JL(n,e):t}function XL(n,e){return n instanceof Ua?(function(r){return FC(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var jl=class extends Vl{},ja=class extends Vl{constructor(e){super(),this.elements=e}};function ZL(n,e){let t=eV(e);for(let r of n.elements)t.some(i=>gi(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ba=class extends Vl{constructor(e){super(),this.elements=e}};function JL(n,e){let t=eV(e);for(let r of n.elements)t=t.filter(i=>!gi(i,r));return{arrayValue:{values:t}}}var Ua=class extends Vl{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function VF(n){return pt(n.integerValue||n.doubleValue)}function eV(n){return ED(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var KC=class{constructor(e,t){this.field=e,this.transform=t}};function nK(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof ja&&i instanceof ja||r instanceof Ba&&i instanceof Ba?Nl(r.elements,i.elements,gi):r instanceof Ua&&i instanceof Ua?gi(r.Ee,i.Ee):r instanceof jl&&i instanceof jl})(n.transform,e.transform)}var YC=class{constructor(e,t){this.version=e,this.transformResults=t}},Zt=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function b_(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Bl=class{};function tV(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new $a(n.key,Zt.none()):new Ha(n.key,n.data,Zt.none());{let t=n.data,r=Bn.empty(),i=new Jt(ir.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new _i(n.key,r,new Ir(i.toArray()),Zt.none())}}function rK(n,e,t){n instanceof Ha?(function(i,o,s){let a=i.value.clone(),c=BF(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof _i?(function(i,o,s){if(!b_(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=BF(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(nV(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Rh(n,e,t,r){return n instanceof Ha?(function(o,s,a,c){if(!b_(o.precondition,s))return a;let u=o.value.clone(),d=UF(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(n,e,t,r):n instanceof _i?(function(o,s,a,c){if(!b_(o.precondition,s))return a;let u=UF(o.fieldTransforms,c,s),d=s.data;return d.setAll(nV(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return b_(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function iK(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=XL(r.transform,i||null);o!=null&&(t===null&&(t=Bn.empty()),t.set(r.field,o))}return t||null}function jF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Nl(r,i,(o,s)=>nK(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ha=class extends Bl{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},_i=class extends Bl{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function nV(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function BF(n,e,t){let r=new Map;$e(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,tK(s,a,t[i]))}return r}function UF(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,eK(o,s,e))}return r}var $a=class extends Bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},M_=class extends Bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var QC=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&rK(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rh(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Rh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=KL();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=tV(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&Nl(this.mutations,e.mutations,(t,r)=>jF(t,r))&&Nl(this.baseMutations,e.baseMutations,(t,r)=>jF(t,r))}},XC=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$e(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return Q7})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var ZC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var JC=class{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}};var eT=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Nt,qe;function rV(n){switch(n){case N.OK:return oe(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return oe(15467,{code:n})}}function iV(n){if(n===void 0)return ro("GRPC error has no .code"),N.UNKNOWN;switch(n){case Nt.OK:return N.OK;case Nt.CANCELLED:return N.CANCELLED;case Nt.UNKNOWN:return N.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return N.INTERNAL;case Nt.UNAVAILABLE:return N.UNAVAILABLE;case Nt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Nt.NOT_FOUND:return N.NOT_FOUND;case Nt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Nt.ABORTED:return N.ABORTED;case Nt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Nt.DATA_LOSS:return N.DATA_LOSS;default:return oe(39323,{code:n})}}(qe=Nt||(Nt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";var HF=null;var oK=new eo([4294967295,4294967295],0);function $F(n){let e=hL().encode(n),t=new gC;return t.update(e),new Uint8Array(t.digest())}function zF(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new eo([t,r],0),new eo([i,o],0)]}var tT=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Oa(`Invalid padding: ${t}`);if(r<0)throw new Oa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oa(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Oa(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=eo.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(eo.fromNumber(r)));return i.compare(oK)===1&&(i=new eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=$F(e),[r,i]=zF(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=$F(e),[r,i]=zF(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Oa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var k_=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Lh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Ie.min(),i,new yt(Ne),co(),Be())}},Lh=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Be(),Be(),Be())}};var Ml=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},P_=class{constructor(e,t){this.targetId=e,this.De=t}},N_=class{constructor(e,t,r=yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},O_=class{constructor(){this.ve=0,this.Ce=qF(),this.Fe=yn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Be(),t=Be(),r=Be();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:oe(38017,{changeType:o})}}),new Lh(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=qF()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},nT=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=co(),this.je=g_(),this.Je=g_(),this.He=new yt(Ne)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(WC(o))if(r===0){let s=new ne(o.path);this.Xe(t,s,sr.newNoDocument(s,Ie.min()))}else $e(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}HF?.ct((function(d,p,m,g,I){var R,A,F,W,re,De;let mt={localCacheCount:d,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Oe=p.unchangedNames;return Oe&&(mt.bloomFilter={applied:I===0,hashCount:(R=Oe?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(W=(F=(A=Oe?.bits)===null||A===void 0?void 0:A.bitmap)===null||F===void 0?void 0:F.length)!==null&&W!==void 0?W:0,padding:(De=(re=Oe?.bits)===null||re===void 0?void 0:re.padding)!==null&&De!==void 0?De:0,mightContain:D=>{var b;return(b=g?.mightContain(D))!==null&&b!==void 0&&b}}),mt})(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=oo(r).toUint8Array()}catch(c){if(c instanceof T_)return _s("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new tT(s,i,o)}catch(c){return _s(c instanceof Oa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&WC(a.target)){let c=new ne(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,sr.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Be();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new k_(e,t,this.He,this.ze,r);return this.ze=co(),this.je=g_(),this.Je=g_(),this.He=new yt(Ne),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new O_,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Jt(Ne),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Jt(Ne),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||G("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new O_),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function g_(){return new yt(ne.comparator)}function qF(){return new yt(ne.comparator)}var sK={asc:"ASCENDING",desc:"DESCENDING"},aK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cK={and:"AND",or:"OR"},rT=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function iT(n,e){return n.useProto3Json||zh(e)?e:{value:e}}function F_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lK(n,e){return F_(n,e.toTimestamp())}function or(n){return $e(!!n,49232),Ie.fromTimestamp((function(t){let r=io(t);return new Vt(r.seconds,r.nanos)})(n))}function xD(n,e){return oT(n,e).canonicalString()}function oT(n,e){let t=(function(i){return new ct(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function sV(n){let e=ct.fromString(n);return $e(fV(e),10190,{key:e.toString()}),e}function L_(n,e){return xD(n.databaseId,e.path)}function Mh(n,e){let t=sV(e);if(t.get(1)!==n.databaseId.projectId)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ne(cV(t))}function aV(n,e){return xD(n.databaseId,e)}function uK(n){let e=sV(n);return e.length===4?ct.emptyPath():cV(e)}function sT(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cV(n){return $e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function WF(n,e,t){return{name:L_(n,e),fields:t.value.mapValue.fields}}function dK(n,e){return"found"in e?(function(r,i){$e(!!i.found,43571),i.found.name,i.found.updateTime;let o=Mh(r,i.found.name),s=or(i.found.updateTime),a=i.found.createTime?or(i.found.createTime):Ie.min(),c=new Bn({mapValue:{fields:i.found.fields}});return sr.newFoundDocument(o,s,a,c)})(n,e):"missing"in e?(function(r,i){$e(!!i.missing,3894),$e(!!i.readTime,22933);let o=Mh(r,i.missing),s=or(i.readTime);return sr.newNoDocument(o,s)})(n,e):oe(7234,{result:e})}function hK(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(u,d){return u.useProto3Json?($e(d===void 0||typeof d=="string",58123),yn.fromBase64String(d||"")):($e(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),yn.fromUint8Array(d||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(u){let d=u.code===void 0?N.UNKNOWN:iV(u.code);return new H(d,u.message||"")})(s);t=new N_(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Mh(n,r.document.name),o=or(r.document.updateTime),s=r.document.createTime?or(r.document.createTime):Ie.min(),a=new Bn({mapValue:{fields:r.document.fields}}),c=sr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Ml(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Mh(n,r.document),o=r.readTime?or(r.readTime):Ie.min(),s=sr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ml([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Mh(n,r.document),o=r.removedTargetIds||[];t=new Ml([],o,i,null)}else{if(!("filter"in e))return oe(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new eT(i,o),a=r.targetId;t=new P_(a,s)}}return t}function lV(n,e){let t;if(e instanceof Ha)t={update:WF(n,e.key,e.value)};else if(e instanceof $a)t={delete:L_(n,e.key)};else if(e instanceof _i)t={update:WF(n,e.key,e.data),updateMask:wK(e.fieldMask)};else{if(!(e instanceof M_))return oe(16599,{Rt:e.type});t={verify:L_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof jl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ja)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ba)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ua)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw oe(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:lK(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe(27497)})(n,e.precondition)),t}function fK(n,e){return n&&n.length>0?($e(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?or(i.updateTime):or(o);return s.isEqual(Ie.min())&&(s=or(o)),new YC(s,i.transformResults||[])})(t,e))):[]}function pK(n,e){return{documents:[aV(n,e.path)]}}function uV(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=aV(n,i);let o=(function(u){if(u.length!==0)return hV(Hr.create(u,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(u){if(u.length!==0)return u.map(d=>(function(m){return{field:us(m.field),direction:vK(m.dir)}})(d))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=iT(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{Vt:t,parent:i}}function mK(n,e,t,r){let{Vt:i,parent:o}=uV(n,e),s={},a=[],c=0;return t.forEach(u=>{let d=r?u.alias:"aggregate_"+c++;s[d]=u.alias,u.aggregateType==="count"?a.push({alias:d,count:{}}):u.aggregateType==="avg"?a.push({alias:d,avg:{field:us(u.fieldPath)}}):u.aggregateType==="sum"&&a.push({alias:d,sum:{field:us(u.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},ft:s,parent:o}}function gK(n){let e=uK(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){$e(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=(function(p){let m=dV(p);return m instanceof Hr&&jL(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(I){return new Va(xl(I.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,zh(m)?null:m})(t.limit));let c=null;t.startAt&&(c=(function(p){let m=!!p.before,g=p.values||[];return new ys(g,m)})(t.startAt));let u=null;return t.endAt&&(u=(function(p){let m=!p.before,g=p.values||[];return new ys(g,m)})(t.endAt)),q7(e,i,s,o,a,"F",c,u)}function _K(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dV(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=xl(t.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=xl(t.unaryFilter.field);return Ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=xl(t.unaryFilter.field);return Ft.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=xl(t.unaryFilter.field);return Ft.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ft.create(xl(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Hr.create(t.compositeFilter.filters.map(r=>dV(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}})(t.compositeFilter.op))})(n):oe(30097,{filter:n})}function vK(n){return sK[n]}function yK(n){return aK[n]}function bK(n){return cK[n]}function us(n){return{fieldPath:n.canonicalString()}}function xl(n){return ir.fromServerFormat(n.fieldPath)}function hV(n){return n instanceof Ft?(function(t){if(t.op==="=="){if(PF(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NAN"}};if(kF(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(PF(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NOT_NAN"}};if(kF(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(t.field),op:yK(t.op),value:t.value}}})(n):n instanceof Hr?(function(t){let r=t.getFilters().map(i=>hV(i));return r.length===1?r[0]:{compositeFilter:{op:bK(t.op),filters:r}}})(n):oe(54877,{filter:n})}function wK(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fV(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Vh=class n{constructor(e,t,r,i,o=Ie.min(),s=Ie.min(),a=yn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var aT=class{constructor(e){this.gt=e}};function EK(n){let e=gK({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?R_(e,e.limit,"L"):e}var V_=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(pt(e.integerValue));else if("doubleValue"in e){let r=pt(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Nh(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=io(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(oo(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?FL(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):OL(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):oe(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Ol,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(pt(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),ne.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};V_.Ut=new V_;var cT=class{constructor(){this.Dn=new lT}addToCollectionParentIndex(e,t){return this.Dn.add(t),U.resolve()}getCollectionParents(e,t){return U.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return U.resolve()}deleteFieldIndex(e,t){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,t){return U.resolve()}getDocumentsMatchingTarget(e,t){return U.resolve(null)}getIndexType(e,t){return U.resolve(0)}getFieldIndexes(e,t){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,t){return U.resolve(La.min())}getMinOffsetFromCollectionGroup(e,t){return U.resolve(La.min())}updateCollectionGroup(e,t,r){return U.resolve()}updateIndexEntries(e,t){return U.resolve()}},lT=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Jt(ct.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(ct.comparator)).toArray()}};var g0e=new Uint8Array(0);var GF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pV=41943040,Er=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Er.DEFAULT_COLLECTION_PERCENTILE=10,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Er.DEFAULT=new Er(pV,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Er.DISABLED=new Er(-1,0,0);var jh=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var KF="LruGarbageCollector",IK=1048576;function YF([n,e],[t,r]){let i=Ne(n,t);return i===0?Ne(e,r):i}var uT=class{constructor(e){this.Tr=e,this.buffer=new Jt(YF),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();YF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},dT=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){G(KF,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>y(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Kl(t)?G(KF,"Ignoring IndexedDB error during garbage collection: ",t):yield Gl(t)}yield this.Rr(3e5)}))}},hT=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return U.resolve(vD.ue);let r=new uT(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(GF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GF):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Dl()<=Le.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function CK(n,e){return new hT(n,e)}var fT=class{constructor(){this.changes=new ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?U.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var pT=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var mT=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Rh(r.mutation,i,Ir.empty(),Vt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Be()){let i=Na();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Sh();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Na();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Be()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=co(),s=Ah(),a=(function(){return Ah()})();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof _i)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Rh(d.mutation,u,d.mutation.getFieldMask(),Vt.now())):s.set(u.key,Ir.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var p;return a.set(u,new pT(d,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Ah(),i=new yt((s,a)=>s-a),o=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||Ir.empty();d=a.applyToLocalView(u,d),r.set(c,d);let p=(i.get(a.batchId)||Be()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,p=KL();d.forEach(m=>{if(!o.has(m)){let g=tV(t.get(m),r.get(m));g!==null&&p.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):U.resolve(Na()),a=Ph,c=o;return s.next(u=>U.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Be())).next(d=>({batchId:a,changes:GL(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ne(t)).next(r=>{let i=Sh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Sh();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,c=>{let u=(function(p,m){return new so(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,sr.newInvalidDocument(d)))});let a=Sh();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&Rh(d.mutation,u,Ir.empty(),Vt.now()),cv(t,u)&&(a=a.insert(c,u))}),a})}};var gT=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return U.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:or(i.createTime)}})(t)),U.resolve()}getNamedQuery(e,t){return U.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:EK(i.bundledQuery),readTime:or(i.readTime)}})(t)),U.resolve()}};var _T=class{constructor(){this.overlays=new yt(ne.comparator),this.kr=new Map}getOverlay(e,t){return U.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Na();return U.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),U.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),U.resolve()}getOverlaysForCollection(e,t,r){let i=Na(),o=t.length+1,s=new ne(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new yt((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Na(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Na(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return U.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ZC(t,r));let o=this.kr.get(t);o===void 0&&(o=Be(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var vT=class{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,U.resolve()}};var Bh=class{constructor(){this.qr=new Jt(Ot.Qr),this.$r=new Jt(Ot.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Ot(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ot(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new ne(new ct([])),r=new Ot(t,e),i=new Ot(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new ne(new ct([])),r=new Ot(t,e),i=new Ot(t,e+1),o=Be();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ot(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ot=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ne.comparator(e.key,t.key)||Ne(e.Hr,t.Hr)}static Ur(e,t){return Ne(e.Hr,t.Hr)||ne.comparator(e.key,t.key)}};var yT=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Jt(Ot.Qr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new QC(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Ot(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,t){return U.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?yD:this.er-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ot(t,0),i=new Ot(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jt(Ne);return t.forEach(i=>{let o=new Ot(i,0),s=new Ot(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),U.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ne.isDocumentKey(o)||(o=o.child(""));let s=new Ot(new ne(o),0),a=new Jt(Ne);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),U.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){$e(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return U.forEach(t.mutations,i=>{let o=new Ot(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Ot(t,0),i=this.Yr.firstAfterOrEqual(r);return U.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var bT=class{constructor(e){this.ni=e,this.docs=(function(){return new yt(ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return U.resolve(r?r.document.mutableCopy():sr.newInvalidDocument(t))}getEntries(e,t){let r=co();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():sr.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=co(),s=t.path,a=new ne(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||T7(C7(d),r)<=0||(i.has(d.key)||cv(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,t,r,i){oe(9500)}ri(e,t){return U.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new wT(this)}getSize(e){return U.resolve(this.size)}},wT=class extends fT{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),U.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var ET=class{constructor(e){this.persistence=e,this.ii=new ao(t=>ID(t),CD),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.si=0,this.oi=new Bh,this.targetCount=0,this._i=jh.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),U.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new jh(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,U.resolve()}updateTargetData(e,t){return this.hr(t),U.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return U.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),U.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),U.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return U.resolve(r)}containsKey(e,t){return U.resolve(this.oi.containsKey(t))}};var j_=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new vD(0),this.ci=!1,this.ci=!0,this.li=new vT,this.referenceDelegate=e(this),this.hi=new ET(this),this.indexManager=new cT,this.remoteDocumentCache=(function(i){return new bT(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new aT(t),this.Ti=new gT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _T,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new yT(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){G("MemoryPersistence","Starting transaction:",e);let i=new IT(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return U.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},IT=class extends PC{constructor(e){super(),this.currentSequenceNumber=e}},CT=class n{constructor(e){this.persistence=e,this.Ai=new Bh,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw oe(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),U.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),U.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.mi,r=>{let i=ne.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,Ie.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return U.or([()=>U.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},B_=class n{constructor(e,t){this.persistence=e,this.gi=new ao(r=>A7(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=CK(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return U.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return U.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?U.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,Ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),U.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),U.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=v_(e.data.value)),t}Sr(e,t,r){return U.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var TT=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Be(),i=Be();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var DT=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ST=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return jO()?8:S7(Qt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new DT;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Dl()<=Le.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Sl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Dl()<=Le.DEBUG&&G("QueryEngine","Query:",Sl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Dl()<=Le.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Sl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(t))):U.resolve())}ps(e,t){if(LF(t))return U.resolve(null);let r=mi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=R_(t,null,"F"),r=mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Be(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,s,c.readTime)?this.ps(e,R_(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return LF(t)||i.isEqual(Ie.min())?U.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?U.resolve(null):(Dl()<=Le.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sl(t)),this.vs(e,s,t,I7(i,Ph)).next(a=>a))})}bs(e,t){let r=new Jt(qL(e));return t.forEach((i,o)=>{cv(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Dl()<=Le.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Sl(t)),this.gs.getDocumentsMatchingQuery(e,t,La.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var AD="LocalStore",TK=3e8,xT=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new yt(Ne),this.Ms=new ao(o=>ID(o),CD),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mT(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function DK(n,e,t,r){return new xT(n,e,t,r)}function mV(n,e){return y(this,null,function*(){let t=we(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Be();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function SK(n,e){let t=we(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,u,d){let p=u.batch,m=p.keys(),g=U.resolve();return m.forEach(I=>{g=g.next(()=>d.getEntry(c,I)).next(R=>{let A=u.docVersions.get(I);$e(A!==null,48541),R.version.compareTo(A)<0&&(p.applyToRemoteDocument(R,u),R.isValidDocument()&&(R.setReadTime(u.commitVersion),d.addEntry(R)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=Be();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function gV(n){let e=we(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function xK(n,e){let t=we(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,p)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(yn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(p,g),(function(R,A,F){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=TK?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,g,d)&&a.push(t.hi.updateTargetData(o,g))});let c=co(),u=Be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(AK(o,s,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(Ie.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.Fs=i,o))}function AK(n,e,t){let r=Be(),i=Be();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=co();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ie.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):G(AD,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function RK(n,e){let t=we(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=yD),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MK(n,e){let t=we(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Vh(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function AT(n,e,t){return y(this,null,function*(){let r=we(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Kl(s))throw s;G(AD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function QF(n,e,t){let r=we(n),i=Ie.min(),o=Be();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,u,d){let p=we(c),m=p.Ms.get(d);return m!==void 0?U.resolve(p.Fs.get(m)):p.hi.getTargetData(u,d)})(r,s,mi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:Ie.min(),t?o:Be())).next(a=>(kK(r,G7(e),a),{documents:a,qs:o})))}function kK(n,e,t){let r=n.xs.get(e)||Ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var U_=class{constructor(){this.activeTargetIds=J7()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var RT=class{constructor(){this.Fo=new U_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new U_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var MT=class{xo(e){}shutdown(){}};var XF="ConnectivityMonitor",H_=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){G(XF,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){G(XF,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var __=null;function kT(){return __===null?__=(function(){return 268435456+Math.round(2147483648*Math.random())})():__++,"0x"+__.toString(16)}var EC="RestConnection",PK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},PT=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===D_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=kT(),a=this.Go(e,t.toUriEncodedString());G(EC,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:u}=new URL(a),d=es(u);return this.jo(e,a,c,r,d).then(p=>(G(EC,`Received RPC '${e}' ${s}: `,p),p),p=>{throw _s(EC,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=PK[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var NT=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var vn="WebChannelConnection",OT=class extends PT{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=kT();return new Promise((a,c)=>{let u=new _C;u.setWithCredentials(!0),u.listenOnce(vC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Dh.NO_ERROR:let p=u.getResponseJson();G(vn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Dh.TIMEOUT:G(vn,`RPC '${e}' ${s} timed out`),c(new H(N.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:let m=u.getStatus();if(G(vn,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let I=g?.error;if(I&&I.status&&I.message){let R=(function(F){let W=F.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(W)>=0?W:N.UNKNOWN})(I.status);c(new H(R,I.message))}else c(new H(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new H(N.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{G(vn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);G(vn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}P_(e,t,r){let i=kT(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=wC(),a=bC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");G(vn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let p=s.createWebChannel(d,c);this.T_(p);let m=!1,g=!1,I=new NT({Ho:A=>{g?G(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(G(vn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),G(vn,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Yo:()=>p.close()}),R=(A,F,W)=>{A.listen(F,re=>{try{W(re)}catch(De){setTimeout(()=>{throw De},0)}})};return R(p,Tl.EventType.OPEN,()=>{g||(G(vn,`RPC '${e}' stream ${i} transport opened.`),I.s_())}),R(p,Tl.EventType.CLOSE,()=>{g||(g=!0,G(vn,`RPC '${e}' stream ${i} transport closed`),I.__(),this.I_(p))}),R(p,Tl.EventType.ERROR,A=>{g||(g=!0,_s(vn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),I.__(new H(N.UNAVAILABLE,"The operation could not be completed")))}),R(p,Tl.EventType.MESSAGE,A=>{var F;if(!g){let W=A.data[0];$e(!!W,16349);let re=W,De=re?.error||((F=re[0])===null||F===void 0?void 0:F.error);if(De){G(vn,`RPC '${e}' stream ${i} received error:`,De);let mt=De.status,Oe=(function(E){let T=Nt[E];if(T!==void 0)return iV(T)})(mt),D=De.message;Oe===void 0&&(Oe=N.INTERNAL,D="Unknown error status: "+mt+" with message "+De.message),g=!0,I.__(new H(Oe,D)),p.close()}else G(vn,`RPC '${e}' stream ${i} received:`,W),I.a_(W)}}),R(a,yC.STAT_EVENT,A=>{A.stat===p_.PROXY?G(vn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===p_.NOPROXY&&G(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.o_()},0),I}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function IC(){return typeof document<"u"?document:null}function lv(n){return new rT(n,!0)}var Uh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var ZF="PersistentStream",$_=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Uh(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return y(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return y(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return y(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(ro(t.toString()),ro("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new H(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>y(this,null,function*(){this.state=0,this.start()}))}G_(e){return G(ZF,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(G(ZF,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},FT=class extends $_{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=hK(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Ie.min():s.readTime?or(s.readTime):Ie.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=sT(this.serializer),t.addTarget=(function(o,s){let a,c=s.target;if(a=WC(c)?{documents:pK(o,c)}:{query:uV(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=oV(o,s.resumeToken);let u=iT(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ie.min())>0){a.readTime=F_(o,s.snapshotVersion.toTimestamp());let u=iT(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);let r=_K(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=sT(this.serializer),t.removeTarget=e,this.k_(t)}},LT=class extends $_{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=fK(e.writeResults,e.commitTime),r=or(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=sT(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>lV(this.serializer,r))};this.k_(t)}};var VT=class{},jT=class extends VT{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,oT(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(N.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,oT(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},BT=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ro(t),this._a=!1):G("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var za="RemoteStore",UT=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>y(this,null,function*(){Wa(this)&&(G(za,"Restarting streams for network reachability change."),yield(function(c){return y(this,null,function*(){let u=we(c);u.Ia.add(4),yield qh(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield uv(u)})})(this))}))}),this.Aa=new BT(r,i)}};function uv(n){return y(this,null,function*(){if(Wa(n))for(let e of n.da)yield e(!0)})}function qh(n){return y(this,null,function*(){for(let e of n.da)yield e(!1)})}function _V(n,e){let t=we(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),PD(t)?kD(t):Yl(t).x_()&&MD(t,e))}function RD(n,e){let t=we(n),r=Yl(t);t.Ta.delete(e),r.x_()&&vV(t,e),t.Ta.size===0&&(r.x_()?r.B_():Wa(t)&&t.Aa.set("Unknown"))}function MD(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yl(n).H_(e)}function vV(n,e){n.Ra.$e(e),Yl(n).Y_(e)}function kD(n){n.Ra=new nT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Yl(n).start(),n.Aa.aa()}function PD(n){return Wa(n)&&!Yl(n).M_()&&n.Ta.size>0}function Wa(n){return we(n).Ia.size===0}function yV(n){n.Ra=void 0}function NK(n){return y(this,null,function*(){n.Aa.set("Online")})}function OK(n){return y(this,null,function*(){n.Ta.forEach((e,t)=>{MD(n,e)})})}function FK(n,e){return y(this,null,function*(){yV(n),PD(n)?(n.Aa.la(e),kD(n)):n.Aa.set("Unknown")})}function LK(n,e,t){return y(this,null,function*(){if(n.Aa.set("Online"),e instanceof N_&&e.state===2&&e.cause)try{yield(function(i,o){return y(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){G(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield z_(n,r)}else if(e instanceof Ml?n.Ra.Ye(e):e instanceof P_?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ie.min()))try{let r=yield gV(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(u);d&&o.Ta.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(yn.EMPTY_BYTE_STRING,d.snapshotVersion)),vV(o,c);let p=new Vh(d.target,c,u,d.sequenceNumber);MD(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){G(za,"Failed to raise snapshot:",r),yield z_(n,r)}})}function z_(n,e,t){return y(this,null,function*(){if(!Kl(e))throw e;n.Ia.add(1),yield qh(n),n.Aa.set("Offline"),t||(t=()=>gV(n.localStore)),n.asyncQueue.enqueueRetryable(()=>y(null,null,function*(){G(za,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield uv(n)}))})}function bV(n,e){return e().catch(t=>z_(n,t,e))}function dv(n){return y(this,null,function*(){let e=we(n),t=bs(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:yD;for(;VK(e);)try{let i=yield RK(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,jK(e,i)}catch(i){yield z_(e,i)}wV(e)&&EV(e)})}function VK(n){return Wa(n)&&n.Pa.length<10}function jK(n,e){n.Pa.push(e);let t=bs(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function wV(n){return Wa(n)&&!bs(n).M_()&&n.Pa.length>0}function EV(n){bs(n).start()}function BK(n){return y(this,null,function*(){bs(n).na()})}function UK(n){return y(this,null,function*(){let e=bs(n);for(let t of n.Pa)e.X_(t.mutations)})}function HK(n,e,t){return y(this,null,function*(){let r=n.Pa.shift(),i=XC.from(r,e,t);yield bV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield dv(n)})}function $K(n,e){return y(this,null,function*(){e&&bs(n).Z_&&(yield(function(r,i){return y(this,null,function*(){if((function(s){return rV(s)&&s!==N.ABORTED})(i.code)){let o=r.Pa.shift();bs(r).N_(),yield bV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield dv(r)}})})(n,e)),wV(n)&&EV(n)})}function JF(n,e){return y(this,null,function*(){let t=we(n);t.asyncQueue.verifyOperationInProgress(),G(za,"RemoteStore received new credentials");let r=Wa(t);t.Ia.add(3),yield qh(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield uv(t)})}function zK(n,e){return y(this,null,function*(){let t=we(n);e?(t.Ia.delete(2),yield uv(t)):e||(t.Ia.add(2),yield qh(t),t.Aa.set("Unknown"))})}function Yl(n){return n.Va||(n.Va=(function(t,r,i){let o=we(t);return o.ia(),new FT(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:NK.bind(null,n),e_:OK.bind(null,n),n_:FK.bind(null,n),J_:LK.bind(null,n)}),n.da.push(e=>y(null,null,function*(){e?(n.Va.N_(),PD(n)?kD(n):n.Aa.set("Unknown")):(yield n.Va.stop(),yV(n))}))),n.Va}function bs(n){return n.ma||(n.ma=(function(t,r,i){let o=we(t);return o.ia(),new LT(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:BK.bind(null,n),n_:$K.bind(null,n),ea:UK.bind(null,n),ta:HK.bind(null,n)}),n.da.push(e=>y(null,null,function*(){e?(n.ma.N_(),yield dv(n)):(yield n.ma.stop(),n.Pa.length>0&&(G(za,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var HT=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ND(n,e){if(ro("AsyncQueue",`${e}: ${n}`),Kl(n))return new H(N.UNAVAILABLE,`${e}: ${n}`);throw n}var q_=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ne.comparator(t.key,r.key):(t,r)=>ne.comparator(t.key,r.key),this.keyedMap=Sh(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var W_=class{constructor(){this.fa=new yt(ne.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):oe(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ul=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,q_.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&av(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var $T=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},zT=class{constructor(){this.queries=eL(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=we(t),o=i.queries;i.queries=eL(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new H(N.ABORTED,"Firestore shutting down"))}};function eL(){return new ao(n=>zL(n),av)}function IV(n,e){return y(this,null,function*(){let t=we(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new $T,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=ND(s,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&OD(t)})}function CV(n,e){return y(this,null,function*(){let t=we(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function qK(n,e){let t=we(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&OD(t)}function WK(n,e,t){let r=we(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function OD(n){n.Da.forEach(e=>{e.next()})}var qT,tL;(tL=qT||(qT={})).Fa="default",tL.Cache="cache";var G_=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==qT.Cache}};var K_=class{constructor(e){this.key=e}},Y_=class{constructor(e){this.key=e}},WT=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Be(),this.mutatedKeys=Be(),this.Xa=qL(e),this.eu=new q_(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new W_,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{let m=i.get(d),g=cv(this.query,p)?p:null,I=!!m&&this.mutatedKeys.has(m.key),R=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),A=!1;m&&g?m.data.isEqual(g.data)?I!==R&&(r.track({type:3,doc:g}),A=!0):this.iu(m,g)||(r.track({type:2,doc:g}),A=!0,(c&&this.Xa(g,c)>0||u&&this.Xa(g,u)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),A=!0):m&&!g&&(r.track({type:1,doc:m}),A=!0,(c||u)&&(a=!0)),A&&(g?(s=s.add(g),o=R?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,p)=>(function(g,I){let R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{At:A})}};return R(g)-R(I)})(d.type,p.type)||this.Xa(d.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new Ul(this.query,e.eu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new W_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Be(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Y_(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new K_(r))}),t}uu(e){this.Ha=e.qs,this.Za=Be();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ul.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},FD="SyncEngine",GT=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},KT=class{constructor(e){this.key=e,this.lu=!1}},YT=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ao(a=>zL(a),av),this.Tu=new Map,this.Iu=new Set,this.du=new yt(ne.comparator),this.Eu=new Map,this.Au=new Bh,this.Ru={},this.Vu=new Map,this.mu=jh.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function GK(n,e,t=!0){return y(this,null,function*(){let r=RV(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield TV(r,e,t,!0),i})}function KK(n,e){return y(this,null,function*(){let t=RV(n);yield TV(t,e,!0,!1)})}function TV(n,e,t,r){return y(this,null,function*(){let i=yield MK(n.localStore,mi(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield YK(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&_V(n.remoteStore,i),a})}function YK(n,e,t,r,i){return y(this,null,function*(){n.gu=(p,m,g)=>(function(R,A,F,W){return y(this,null,function*(){let re=A.view.nu(F);re.Ds&&(re=yield QF(R.localStore,A.query,!1).then(({documents:D})=>A.view.nu(D,re)));let De=W&&W.targetChanges.get(A.targetId),mt=W&&W.targetMismatches.get(A.targetId)!=null,Oe=A.view.applyChanges(re,R.isPrimaryClient,De,mt);return rL(R,A.targetId,Oe._u),Oe.snapshot})})(n,p,m,g);let o=yield QF(n.localStore,e,!0),s=new WT(e,o.qs),a=s.nu(o.documents),c=Lh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);rL(n,t,u._u);let d=new GT(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function QK(n,e,t){return y(this,null,function*(){let r=we(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!av(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield AT(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&RD(r.remoteStore,i.targetId),QT(r,i.targetId)}).catch(Gl))):(QT(r,i.targetId),yield AT(r.localStore,i.targetId,!0))})}function XK(n,e){return y(this,null,function*(){let t=we(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),RD(t.remoteStore,r.targetId))})}function ZK(n,e,t){return y(this,null,function*(){let r=oY(n);try{let i=yield(function(s,a){let c=we(s),u=Vt.now(),d=a.reduce((g,I)=>g.add(I.key),Be()),p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let I=co(),R=Be();return c.Os.getEntries(g,d).next(A=>{I=A,I.forEach((F,W)=>{W.isValidDocument()||(R=R.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,I)).next(A=>{p=A;let F=[];for(let W of a){let re=iK(W,p.get(W.key).overlayedDocument);re!=null&&F.push(new _i(W.key,re,LL(re.value.mapValue),Zt.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,F,a)}).next(A=>{m=A;let F=A.applyToLocalDocumentSet(p,R);return c.documentOverlayCache.saveOverlays(g,A.batchId,F)})}).then(()=>({batchId:m.batchId,changes:GL(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new yt(Ne)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u})(r,i.batchId,t),yield Wh(r,i.changes),yield dv(r.remoteStore)}catch(i){let o=ND(i,"Failed to persist write");t.reject(o)}})}function DV(n,e){return y(this,null,function*(){let t=we(n);try{let r=yield xK(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?$e(s.lu,14607):i.removedDocuments.size>0&&($e(s.lu,42227),s.lu=!1))}),yield Wh(t,r,e)}catch(r){yield Gl(r)}})}function nL(n,e,t){let r=we(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=we(s);c.onlineState=a;let u=!1;c.queries.forEach((d,p)=>{for(let m of p.wa)m.va(a)&&(u=!0)}),u&&OD(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function JK(n,e,t){return y(this,null,function*(){let r=we(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new yt(ne.comparator);s=s.insert(o,sr.newNoDocument(o,Ie.min()));let a=Be().add(o),c=new k_(Ie.min(),new Map,new yt(Ne),s,a);yield DV(r,c),r.du=r.du.remove(o),r.Eu.delete(e),LD(r)}else yield AT(r.localStore,e,!1).then(()=>QT(r,e,t)).catch(Gl)})}function eY(n,e){return y(this,null,function*(){let t=we(n),r=e.batch.batchId;try{let i=yield SK(t.localStore,e);xV(t,r,null),SV(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Wh(t,i)}catch(i){yield Gl(i)}})}function tY(n,e,t){return y(this,null,function*(){let r=we(n);try{let i=yield(function(s,a){let c=we(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>($e(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})})(r.localStore,e);xV(r,e,t),SV(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Wh(r,i)}catch(i){yield Gl(i)}})}function SV(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function xV(n,e,t){let r=we(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function QT(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||AV(n,r)})}function AV(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(RD(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),LD(n))}function rL(n,e,t){for(let r of t)r instanceof K_?(n.Au.addReference(r.key,e),nY(n,r)):r instanceof Y_?(G(FD,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||AV(n,r.key)):oe(19791,{yu:r})}function nY(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(G(FD,"New document in limbo: "+t),n.Iu.add(r),LD(n))}function LD(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new ne(ct.fromString(e)),r=n.mu.next();n.Eu.set(r,new KT(t)),n.du=n.du.insert(t,r),_V(n.remoteStore,new Vh(mi(TD(t.path)),r,"TargetPurposeLimboResolution",vD.ue))}}function Wh(n,e,t){return y(this,null,function*(){let r=we(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);let p=TT.Es(c.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(c,u){return y(this,null,function*(){let d=we(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(u,m=>U.forEach(m.Is,g=>d.persistence.referenceDelegate.addReference(p,m.targetId,g)).next(()=>U.forEach(m.ds,g=>d.persistence.referenceDelegate.removeReference(p,m.targetId,g)))))}catch(p){if(!Kl(p))throw p;G(AD,"Failed to update sequence numbers: "+p)}for(let p of u){let m=p.targetId;if(!p.fromCache){let g=d.Fs.get(m),I=g.snapshotVersion,R=g.withLastLimboFreeSnapshotVersion(I);d.Fs=d.Fs.insert(m,R)}}})})(r.localStore,o))})}function rY(n,e){return y(this,null,function*(){let t=we(n);if(!t.currentUser.isEqual(e)){G(FD,"User change. New user:",e.toKey());let r=yield mV(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new H(N.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wh(t,r.Bs)}})}function iY(n,e){let t=we(n),r=t.Eu.get(e);if(r&&r.lu)return Be().add(r.key);{let i=Be(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function RV(n){let e=we(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JK.bind(null,e),e.hu.J_=qK.bind(null,e.eventManager),e.hu.pu=WK.bind(null,e.eventManager),e}function oY(n){let e=we(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tY.bind(null,e),e}var MV=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return y(this,null,function*(){this.serializer=lv(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return DK(this.persistence,new ST,t.initialUser,this.serializer)}Du(t){return new j_(CT.Vi,this.serializer)}bu(t){return new RT}terminate(){return y(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),XT=class extends MV{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){$e(this.persistence.referenceDelegate instanceof B_,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new dT(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Er.withCacheSize(this.cacheSizeBytes):Er.DEFAULT;return new j_(r=>B_.Vi(r,t),this.serializer)}};var sY=(()=>{class n{initialize(t,r){return y(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nL(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=rY.bind(null,this.syncEngine),yield zK(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new zT})()}createDatastore(t){let r=lv(t.databaseInfo.databaseId),i=(function(s){return new OT(s)})(t.databaseInfo);return(function(s,a,c,u){return new jT(s,a,c,u)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,c){return new UT(i,o,s,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>nL(this.syncEngine,r,0),(function(){return H_.C()?new H_:new MT})())}createSyncEngine(t,r){return(function(o,s,a,c,u,d,p){let m=new YT(o,s,a,c,u,d);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return y(this,null,function*(){var t,r;yield(function(o){return y(this,null,function*(){let s=we(o);G(za,"RemoteStore shutting down."),s.Ia.add(5),yield qh(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Q_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ro("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ZT=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return y(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new H(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield(function(i,o){return y(this,null,function*(){let s=we(i),a={documents:o.map(p=>L_(s.serializer,p))},c=yield s.Jo("BatchGetDocuments",s.serializer.databaseId,ct.emptyPath(),a,o.length),u=new Map;c.forEach(p=>{let m=dK(s.serializer,p);u.set(m.key.toString(),m)});let d=[];return o.forEach(p=>{let m=u.get(p.toString());$e(!!m,55234,{key:p}),d.push(m)}),d})})(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $a(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return y(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{let i=ne.fromPath(r);this.mutations.push(new M_(i,this.precondition(i)))}),yield(function(r,i){return y(this,null,function*(){let o=we(r),s={writes:i.map(a=>lV(o.serializer,a))};yield o.Wo("Commit",o.serializer.databaseId,ct.emptyPath(),s)})})(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw oe(50498,{Wu:e.constructor.name});t=Ie.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new H(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ie.min())?Zt.exists(!1):Zt.updateTime(t):Zt.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ie.min()))throw new H(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zt.updateTime(t)}return Zt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var JT=class{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Gu=r.maxAttempts,this.F_=new Uh(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(()=>y(this,null,function*(){let e=new ZT(this.datastore),t=this.Ju(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Hu(i)}))}).catch(r=>{this.Hu(r)})}))}Ju(e){try{let t=this.updateFunction(e);return!zh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!rV(t)}return!1}};var ws="FirestoreClient",eD=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=kh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>y(this,null,function*(){G(ws,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G(ws,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=ND(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function CC(n,e){return y(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),G(ws,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>y(null,null,function*(){r.isEqual(i)||(yield mV(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{_s("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{G("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{_s("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function iL(n,e){return y(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield aY(n);G(ws,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>JF(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>JF(e.remoteStore,i)),n._onlineComponents=e})}function aY(n){return y(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G(ws,"Using user provided OfflineComponentProvider");try{yield CC(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;_s("Error using user provided cache. Falling back to memory cache: "+t),yield CC(n,new MV)}}else G(ws,"Using default OfflineComponentProvider"),yield CC(n,new XT(void 0));return n._offlineComponents})}function VD(n){return y(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(G(ws,"Using user provided OnlineComponentProvider"),yield iL(n,n._uninitializedComponentsProvider._online)):(G(ws,"Using default OnlineComponentProvider"),yield iL(n,new sY))),n._onlineComponents})}function cY(n){return VD(n).then(e=>e.syncEngine)}function kV(n){return VD(n).then(e=>e.datastore)}function PV(n){return y(this,null,function*(){let e=yield VD(n),t=e.eventManager;return t.onListen=GK.bind(null,e.syncEngine),t.onUnlisten=QK.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KK.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=XK.bind(null,e.syncEngine),t})}function lY(n,e,t={}){let r=new rr;return n.asyncQueue.enqueueAndForget(()=>y(null,null,function*(){return(function(o,s,a,c,u){let d=new Q_({next:m=>{d.Ou(),s.enqueueAndForget(()=>CV(o,p));let g=m.docs.has(a);!g&&m.fromCache?u.reject(new H(N.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new H(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new G_(TD(a.path),d,{includeMetadataChanges:!0,ka:!0});return IV(o,p)})(yield PV(n),n.asyncQueue,e,t,r)})),r.promise}function uY(n,e,t={}){let r=new rr;return n.asyncQueue.enqueueAndForget(()=>y(null,null,function*(){return(function(o,s,a,c,u){let d=new Q_({next:m=>{d.Ou(),s.enqueueAndForget(()=>CV(o,p)),m.fromCache&&c.source==="server"?u.reject(new H(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new G_(a,d,{includeMetadataChanges:!0,ka:!0});return IV(o,p)})(yield PV(n),n.asyncQueue,e,t,r)})),r.promise}function dY(n,e,t){let r=new rr;return n.asyncQueue.enqueueAndForget(()=>y(null,null,function*(){try{let i=yield kV(n);r.resolve((function(s,a,c){return y(this,null,function*(){var u;let d=we(s),{request:p,ft:m,parent:g}=mK(d.serializer,W7(a),c);d.connection.Qo||delete p.parent;let I=(yield d.Jo("RunAggregationQuery",d.serializer.databaseId,g,p,1)).filter(A=>!!A.result);$e(I.length===1,64727);let R=(u=I[0].result)===null||u===void 0?void 0:u.aggregateFields;return Object.keys(R).reduce((A,F)=>(A[m[F]]=R[F],A),{})})})(i,e,t))}catch(i){r.reject(i)}})),r.promise}function NV(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var oL=new Map;var OV="firestore.googleapis.com",sL=!0,X_=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OV,this.ssl=sL}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:sL;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IK)throw new H(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Hl=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new TC;switch(r.type){case"firstParty":return new AC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return y(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=oL.get(t);r&&(G("ComponentProvider","Removing Datastore"),oL.delete(t),r.terminate())})(this),Promise.resolve()}};function FV(n,e,t,r={}){var i;n=Un(n,Hl);let o=es(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Bg(`https://${c}`),Ug("Firestore",!0)),s.host!==OV&&s.host!==c&&_s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!li(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=Xt.MOCK_USER;else{d=PO(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new H(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xt(m)}n._authCredentials=new DC(new w_(d,p))}}var lo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},qt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if($h(t,n._jsonSchema))return new n(e,r||null,new ne(ct.fromString(t.referencePath)))}};qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Lt("string",qt._jsonSchemaVersion),referencePath:Lt("string")};var fs=class n extends lo{constructor(e,t,r){super(e,t,TD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new ne(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function LV(n,e,...t){if(n=lt(n),fL("collection","path",e),n instanceof Hl){let r=ct.fromString(e,...t);return TF(r),new fs(n,null,r)}{if(!(n instanceof qt||n instanceof fs))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ct.fromString(e,...t));return TF(r),new fs(n.firestore,null,r)}}function jD(n,e,...t){if(n=lt(n),arguments.length===1&&(e=kh.newId()),fL("doc","path",e),n instanceof Hl){let r=ct.fromString(e,...t);return CF(r),new qt(n,null,new ne(r))}{if(!(n instanceof qt||n instanceof fs))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ct.fromString(e,...t));return CF(r),new qt(n.firestore,n instanceof fs?n.converter:null,new ne(r))}}var aL="AsyncQueue",Z_=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Uh(this,"async_queue_retry"),this.oc=()=>{let r=IC();r&&G(aL,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=IC();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=IC();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new rr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return y(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Kl(e))throw e;G(aL,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ro("INTERNAL UNHANDLED ERROR: ",cL(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=HT.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&oe(47125,{hc:cL(this.tc)})}verifyOperationInProgress(){}Pc(){return y(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function cL(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Cr=class extends Hl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Z_,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return y(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Z_(e),this._firestoreClient=void 0,yield e}})}};function VV(n,e){let t=typeof n=="object"?n:Da(),r=typeof n=="string"?n:e||D_,i=yl(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=kO("firestore");o&&FV(i,...o)}return i}function Ql(n){if(n._terminated)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hY(n),n._firestoreClient}function hY(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,c,u,d){return new NC(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NV(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new eD(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var tD=class{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}},nD=class{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}};var no=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(yn.fromBase64String(e))}catch(t){throw new H(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($h(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};no._jsonSchemaVersion="firestore/bytes/1.0",no._jsonSchema={type:Lt("string",no._jsonSchemaVersion),bytes:Lt("string")};var Es=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $l=class{constructor(e){this._methodName=e}};var ps=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if($h(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};ps._jsonSchemaVersion="firestore/geoPoint/1.0",ps._jsonSchema={type:Lt("string",ps._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};var ms=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($h(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new H(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ms._jsonSchemaVersion="firestore/vectorValue/1.0",ms._jsonSchema={type:Lt("string",ms._jsonSchemaVersion),vectorValues:Lt("object")};var fY=/^__.*__$/,rD=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new _i(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ha(e,this.data,t,this.fieldTransforms)}},J_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _i(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function jV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ec:n})}}var iD=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return tv(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(jV(this.Ec)&&fY.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},oD=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lv(e)}Dc(e,t,r,i=!1){return new iD({Ec:e,methodName:t,bc:r,path:ir.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ga(n){let e=n._freezeSettings(),t=lv(n._databaseId);return new oD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hv(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);HD("Data must be an object, but it was:",s,r);let a=UV(r,s),c,u;if(o.merge)c=new Ir(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let p of o.mergeFields){let m=aD(e,p,t);if(!s.contains(m))throw new H(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);$V(d,m)||d.push(m)}c=new Ir(d),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new rD(new Bn(a),c,u)}var ev=class n extends $l{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};var sD=class n extends $l{constructor(e,t){super(e),this.Cc=t}_toFieldTransform(e){let t=new Ua(e.serializer,QL(e.serializer,this.Cc));return new KC(e.path,t)}isEqual(e){return e instanceof n&&this.Cc===e.Cc}};function BD(n,e,t,r){let i=n.Dc(1,e,t);HD("Data must be an object, but it was:",i,r);let o=[],s=Bn.empty();Is(r,(c,u)=>{let d=$D(e,c,t);u=lt(u);let p=i.gc(d);if(u instanceof ev)o.push(d);else{let m=Gh(u,p);m!=null&&(o.push(d),s.set(d,m))}});let a=new Ir(o);return new J_(s,a,i.fieldTransforms)}function UD(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[aD(e,r,t)],c=[i];if(o.length%2!=0)throw new H(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(aD(e,o[m])),c.push(o[m+1]);let u=[],d=Bn.empty();for(let m=a.length-1;m>=0;--m)if(!$V(u,a[m])){let g=a[m],I=c[m];I=lt(I);let R=s.gc(g);if(I instanceof ev)u.push(g);else{let A=Gh(I,R);A!=null&&(u.push(g),d.set(g,A))}}let p=new Ir(u);return new J_(d,p,s.fieldTransforms)}function BV(n,e,t,r=!1){return Gh(t,n.Dc(r?4:3,e))}function Gh(n,e){if(HV(n=lt(n)))return HD("Unsupported field value:",e,n),UV(n,e);if(n instanceof $l)return(function(r,i){if(!jV(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=Gh(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Vt.fromDate(r);return{timestampValue:F_(i.serializer,o)}}if(r instanceof Vt){let o=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:F_(i.serializer,o)}}if(r instanceof ps)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof no)return{bytesValue:oV(i.serializer,r._byteString)};if(r instanceof qt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ms)return(function(s,a){return{mapValue:{fields:{[bD]:{stringValue:wD},[Ol]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return SD(a.serializer,u)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${iv(r)}`)})(n,e)}function UV(n,e){let t={};return AL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Is(n,(r,i)=>{let o=Gh(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function HV(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof ps||n instanceof no||n instanceof qt||n instanceof $l||n instanceof ms)}function HD(n,e,t){if(!HV(t)||!pL(t)){let r=iv(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function aD(n,e,t){if((e=lt(e))instanceof Es)return e._internalPath;if(typeof e=="string")return $D(n,e);throw tv("Field path arguments must be of type string or ",n,!1,void 0,t)}var pY=new RegExp("[~\\*/\\[\\]]");function $D(n,e,t){if(e.search(pY)>=0)throw tv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Es(...e.split("."))._internalPath}catch{throw tv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tv(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new H(N.INVALID_ARGUMENT,a+n+c)}function $V(n,e){return n.some(t=>t.isEqual(e))}var qa=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new cD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(fv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},cD=class extends qa{data(){return super.data()}};function fv(n,e){return typeof e=="string"?$D(n,e):e instanceof Es?e._internalPath:e._delegate._internalPath}function mY(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hh=class{},zl=class extends Hh{};function zV(n,e,...t){let r=[];e instanceof Hh&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(c=>c instanceof lD).length,a=o.filter(c=>c instanceof nv).length;if(s>1||s>0&&a>0)throw new H(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var nv=class n extends zl{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return YV(e._query,t),new lo(e.firestore,e.converter,GC(e._query,t))}_parse(e){let t=Ga(e.firestore);return(function(o,s,a,c,u,d,p){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){uL(p,d);let I=[];for(let R of p)I.push(lL(c,o,R));m={arrayValue:{values:I}}}else m=lL(c,o,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||uL(p,d),m=BV(a,s,p,d==="in"||d==="not-in");return Ft.create(u,d,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function qV(n,e,t){let r=e,i=fv("where",n);return nv._create(i,r,t)}var lD=class n extends Hh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Hr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)YV(s,c),s=GC(s,c)})(e._query,t),new lo(e.firestore,e.converter,GC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var uD=class n extends zl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new H(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Va(o,s)})(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new so(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function WV(n,e="asc"){let t=e,r=fv("orderBy",n);return uD._create(r,t)}var dD=class n extends zl{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new lo(e.firestore,e.converter,R_(e._query,this._limit,this._limitType))}};function GV(n){return E7("limit",n),dD._create("limit",n,"F")}var hD=class n extends zl{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=gY(e,this.type,this._docOrFields,this._inclusive);return new lo(e.firestore,e.converter,(function(i,o){return new so(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)})(e._query,t))}};function KV(...n){return hD._create("startAfter",n,!1)}function gY(n,e,t,r){if(t[0]=lt(t[0]),t[0]instanceof qa)return(function(o,s,a,c,u){if(!c)throw new H(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let p of Rl(o))if(p.field.isKeyField())d.push(x_(s,c.key));else{let m=c.data.field(p.field);if(ov(m))throw new H(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let g=p.field.canonicalString();throw new H(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(m)}return new ys(d,u)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{let i=Ga(n.firestore);return(function(s,a,c,u,d,p){let m=s.explicitOrderBy;if(d.length>m.length)throw new H(N.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let g=[];for(let I=0;I<d.length;I++){let R=d[I];if(m[I].field.isKeyField()){if(typeof R!="string")throw new H(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof R}`);if(!DD(s)&&R.indexOf("/")!==-1)throw new H(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${R}' contains a slash.`);let A=s.path.child(ct.fromString(R));if(!ne.isDocumentKey(A))throw new H(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);let F=new ne(A);g.push(x_(a,F))}else{let A=BV(c,u,R);g.push(A)}}return new ys(g,p)})(n._query,n.firestore._databaseId,i,e,t,r)}}function lL(n,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new H(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DD(e)&&t.indexOf("/")!==-1)throw new H(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ct.fromString(t));if(!ne.isDocumentKey(r))throw new H(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return x_(n,new ne(r))}if(t instanceof qt)return x_(n,t._key);throw new H(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iv(t)}.`)}function uL(n,e){if(!Array.isArray(n)||n.length===0)throw new H(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YV(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new H(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var rv=class{convertValue(e,t="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Is(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ol].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>pt(s.doubleValue));return new ms(o)}convertGeoPoint(e){return new ps(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=sv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Oh(e));default:return null}}convertTimestamp(e){let t=io(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ct.fromString(e);$e(fV(r),9688,{name:e});let i=new S_(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(t)||ro(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function pv(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var fD=class extends rv{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}};function _Y(){return new tD("count")}var ds=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},gs=class n extends qa{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new kl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(fv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",gs._jsonSchema={type:Lt("string",gs._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};var kl=class extends gs{data(e={}){return super.data(e)}},Pl=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ds(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new kl(this._firestore,this._userDataWriter,r.key,r,new ds(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new kl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ds(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new kl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ds(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:vY(a.type),doc:c,oldIndex:u,newIndex:d}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function vY(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:n})}}function QV(n){n=Un(n,qt);let e=Un(n.firestore,Cr);return lY(Ql(e),n._key).then(t=>yY(e,n,t))}Pl._jsonSchemaVersion="firestore/querySnapshot/1.0",Pl._jsonSchema={type:Lt("string",Pl._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};var ql=class extends rv{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}};function XV(n){n=Un(n,lo);let e=Un(n.firestore,Cr),t=Ql(e),r=new ql(e);return mY(n._query),uY(t,n._query).then(i=>new Pl(e,r,n,i))}function ZV(n,e,t){n=Un(n,qt);let r=Un(n.firestore,Cr),i=pv(n.converter,e,t);return Kh(r,[hv(Ga(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Zt.none())])}function JV(n,e,t,...r){n=Un(n,qt);let i=Un(n.firestore,Cr),o=Ga(i),s;return s=typeof(e=lt(e))=="string"||e instanceof Es?UD(o,"updateDoc",n._key,e,t,r):BD(o,"updateDoc",n._key,e),Kh(i,[s.toMutation(n._key,Zt.exists(!0))])}function e2(n){return Kh(Un(n.firestore,Cr),[new $a(n._key,Zt.none())])}function t2(n,e){let t=Un(n.firestore,Cr),r=jD(n),i=pv(n.converter,e);return Kh(t,[hv(Ga(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Zt.exists(!1))]).then(()=>r)}function Kh(n,e){return(function(r,i){let o=new rr;return r.asyncQueue.enqueueAndForget(()=>y(null,null,function*(){return ZK(yield cY(r),i,o)})),o.promise})(Ql(n),e)}function yY(n,e,t){let r=t.docs.get(e._key),i=new ql(n);return new gs(n,i,e._key,r,new ds(t.hasPendingWrites,t.fromCache),e.converter)}function n2(n){return r2(n,{count:_Y()})}function r2(n,e){let t=Un(n.firestore,Cr),r=Ql(t),i=U7(e,(o,s)=>new JC(s,o.aggregateType,o._internalFieldPath));return dY(r,n._query,i).then(o=>(function(a,c,u){let d=new ql(a);return new nD(c,d,u)})(t,n,o))}var bY={maxAttempts:5};var pD=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ga(e)}set(e,t,r){this._verifyNotCommitted();let i=hs(e,this._firestore),o=pv(i.converter,t,r),s=hv(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Zt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let o=hs(e,this._firestore),s;return s=typeof(t=lt(t))=="string"||t instanceof Es?UD(this._dataReader,"WriteBatch.update",o._key,t,r,i):BD(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Zt.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=hs(e,this._firestore);return this._mutations=this._mutations.concat(new $a(t._key,Zt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new H(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function hs(n,e){if((n=lt(n)).firestore!==e)throw new H(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var mD=class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ga(e)}get(e){let t=hs(e,this._firestore),r=new fD(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return oe(24041);let o=i[0];if(o.isFoundDocument())return new qa(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new qa(this._firestore,r,t._key,null,t.converter);throw oe(18433,{doc:o})})}set(e,t,r){let i=hs(e,this._firestore),o=pv(i.converter,t,r),s=hv(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,t,r,...i){let o=hs(e,this._firestore),s;return s=typeof(t=lt(t))=="string"||t instanceof Es?UD(this._dataReader,"Transaction.update",o._key,t,r,i):BD(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,s),this}delete(e){let t=hs(e,this._firestore);return this._transaction.delete(t._key),this}};var gD=class extends mD{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=hs(e,this._firestore),r=new ql(this._firestore);return super.get(e).then(i=>new gs(this._firestore,r,t._key,i._document,new ds(!1,!1),t.converter))}};function i2(n,e,t){n=Un(n,Cr);let r=Object.assign(Object.assign({},bY),t);return(function(o){if(o.maxAttempts<1)throw new H(N.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,s,a){let c=new rr;return o.asyncQueue.enqueueAndForget(()=>y(null,null,function*(){let u=yield kV(o);new JT(o.asyncQueue,u,a,s,c).zu()})),c.promise})(Ql(n),i=>e(new gD(n,i)),r)}function o2(n){return new sD("increment",n)}function s2(n){return Ql(n=Un(n,Cr)),new pD(n,e=>Kh(n,e))}(function(e,t=!0){(function(i){Wl=i})(ns),Br(new kn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Cr(new SC(r.getProvider("auth-internal")),new RC(s,r.getProvider("app-check-internal")),(function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new S_(u.options.projectId,d)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),vt(bF,wF,e),vt(bF,wF,"esm2017")})();var Ka=class{constructor(e){return e}},a2="firestore",zD=class{constructor(){return wl(a2)}};var qD=new L("angularfire2.firestore-instances");function wY(n,e){let t=ph(a2,n,e);return t&&new Ka(t)}function EY(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ka(r)}}var IY={provide:zD,deps:[[new mn,qD]]},CY={provide:Ka,useFactory:wY,deps:[[new mn,qD],Yi]};function c2(n,...e){return vt("angularfire",rs.full,"fst"),fn([CY,IY,{provide:qD,useFactory:EY(n),multi:!0,deps:[K,Te,is,xa,[new mn,Th],[new mn,El],...e]}])}var l2=tt(t2,!0,2);var Hn=tt(LV,!0,2);var u2=tt(e2,!0,2);var bt=tt(jD,!0,2);var d2=tt(n2,!0),Ya=tt(QV,!0);var Cs=tt(XV,!0);var h2=tt(VV,!0);var WD=tt(o2,!0,2);var uo=tt(GV,!0,2);var $r=tt(WV,!0,2),vi=tt(zV,!0,2);var f2=tt(i2,!0),GD=tt(ZV,!0,2);var mv=tt(KV,!0,2);var Yh=tt(JV,!0,2);var Ts=tt(qV,!0,2),gv=tt(s2,!0,2);var wt=class n{router=_(sn);firestore=_(Ka);auth=_(Pa);username=ze(null);constructor(){h_(this.auth,e=>{e?(console.log("New user signed in!"),this.username.set(e.displayName)):(console.log("User signed out"),this.username.set(null),this.router.navigateByUrl("sign_in"))})}signIn(e,t){return y(this,null,function*(){return yield mF(this.auth,e,t),!0})}createAccount(e,t,r){return y(this,null,function*(){var i=yield Ya(bt(this.firestore,"users",e));if(i.exists())return!1;var o=yield fF(this.auth,t,r);yield _F(o.user,{displayName:e}),this.username.set(e);try{yield GD(bt(this.firestore,"users",e),{joined:new Date,balance:0})}catch(s){return console.log(s),!1}return!0})}signOut(){return y(this,null,function*(){yield gF(this.auth)})}createPack(e){return y(this,null,function*(){var t=this.username();return t===null?!1:(yield l2(Hn(this.firestore,"users",t,"packs"),{cards:e,created:new Date}),!0)})}loadAvailablePacks(){return y(this,null,function*(){var e=this.username();if(e===null)return console.log("No user logged in..."),[];var t=vi(Hn(this.firestore,"users",e,"packs"),$r("created","desc"),uo(10)),r=yield Cs(t);return r.docs})}loadPackSize(e){return y(this,null,function*(){if(e==="")return console.log("Invalid packID"),0;var t=this.username();if(t===null)return console.log("No user logged in..."),0;var r=yield Ya(bt(this.firestore,"users",t,"packs",e)),i=r.data();return i===void 0?0:Number(i.cards)})}rarityStringToNumber(e){return e==="common"?0:e==="uncommon"?1:e==="rare"?2:e==="epic"?3:4}openPack(e,t){return y(this,null,function*(){if(e===""){console.log("Invalid packID");return}var r=this.username();if(r===null){console.log("No user logged in...");return}let i=gv(this.firestore);for(var o in t)i.set(bt(this.firestore,"cards",e+o),{id:t[o].id,username:r,starred:!1,title:t[o].title,thumbnail:t[o].thumbnail,link:t[o].link,rarity:this.rarityStringToNumber(t[o].rarity),created:new Date});i.delete(bt(this.firestore,"users",r,"packs",e)),yield i.commit(),console.log("Pack opened! (batch committed)")})}loadCollection(e,t=5){return y(this,null,function*(){var r=this.username();if(r===null)return console.log("No user logged in..."),[];var i=vi(Hn(this.firestore,"cards"),Ts("username","==",r),$r("rarity","desc"),uo(t));e&&(i=vi(Hn(this.firestore,"cards"),Ts("username","==",r),$r("rarity","desc"),uo(t),mv(e)));var o=yield Cs(i);return o.docs})}loadCollectionByDate(e,t=5){return y(this,null,function*(){var r=this.username();if(r===null)return console.log("No user logged in..."),[];var i=vi(Hn(this.firestore,"cards"),Ts("username","==",r),$r("created","desc"),uo(t));e&&(i=vi(Hn(this.firestore,"cards"),Ts("username","==",r),$r("created","desc"),uo(t),mv(e)));var o=yield Cs(i);return o.docs})}loadCollectionByStar(e,t=5){return y(this,null,function*(){var r=this.username();if(r===null)return console.log("No user logged in..."),[];var i=vi(Hn(this.firestore,"cards"),Ts("username","==",r),$r("starred","desc"),$r("created","desc"),uo(t));e&&(i=vi(Hn(this.firestore,"cards"),Ts("username","==",r),$r("starred","desc"),$r("created","desc"),uo(t),mv(e)));var o=yield Cs(i);return o.docs})}starCard(e){return y(this,null,function*(){var t=this.username();if(t===null){console.log("No user logged in...");return}yield Yh(bt(this.firestore,"cards",e),"starred",!0)})}unstarCard(e){return y(this,null,function*(){var t=this.username();if(t===null){console.log("No user logged in...");return}yield Yh(bt(this.firestore,"cards",e),"starred",!1)})}claimDailyPack(){return y(this,null,function*(){var e=this.username();if(e===null){console.log("No user logged in...");return}var t=yield Ya(bt(this.firestore,"users",e)),r=t.data();if(r===void 0){console.log("Failed to parse user data");return}var i=r.lastClaim.toDate(),o=new Date,s=o.getFullYear()!==i.getFullYear()||o.getMonth()!==i.getMonth()||o.getDate()!==i.getDate();i===void 0||s?(yield this.createPack(3),yield Yh(bt(this.firestore,"users",e),"lastClaim",new Date),alert("Daily pack claimed!")):alert("You already claimed your daily pack today.")})}loadProfile(e){return y(this,null,function*(){var t={username:e,pfp:null,joined:new Date,featured:new Array},r=yield Ya(bt(this.firestore,"users",e)),i=r.data();if(!r.exists()||i===void 0)return null;t.pfp=i.pfp,t.joined=i.joined.toDate();var o=yield Cs(Hn(this.firestore,"users",e,"featured"));return o.empty||(t.featured=o.docs.map(s=>{var a=s.data(),c=a.rarity;return c==0?c="common":c==1?c="uncommon":c==2?c="rare":c==3?c="epic":c==4&&(c="legendary"),{id:s.id,rarity:c,wiki_id:a.id,title:a.title,link:a.link,thumbnail:a.thumbnail,created:a.created,starred:a.starred}})),t})}sellCard(e,t){return y(this,null,function*(){var r=this.username();if(r===null)return console.log("No user logged in..."),!1;let i=gv(this.firestore);return i.update(bt(this.firestore,"users",r),{balance:WD(t)}),i.delete(bt(this.firestore,"cards",e)),yield i.commit(),!0})}setProfilePicture(e){return y(this,null,function*(){var t=this.username();if(t===null){console.log("No user logged in...");return}yield Yh(bt(this.firestore,"users",t),{pfp:e})})}setFeaturedCard(e){return y(this,null,function*(){var t=this.username();if(t===null)return console.log("No user logged in..."),!1;var r=yield Ya(bt(this.firestore,"users",t,"featured",e.id));if(r.exists())return alert("This card is already featured on your profile."),!1;var i={id:e.id,username:t,title:e.title,thumbnail:e.thumbnail,link:e.link,rarity:this.rarityStringToNumber(e.rarity),created:e.created},o=yield d2(Hn(this.firestore,"users",t,"featured"));if(o.data().count>=5){var s=yield vi(Hn(this.firestore,"users",t,"featured"),Ts("num","==",5)),a=yield Cs(s);let c=gv(this.firestore);c.delete(bt(this.firestore,"users",t,"featured",a.docs[0].id)),c.set(bt(this.firestore,"users",t,"featured",e.id),i),yield c.commit()}else yield GD(bt(this.firestore,"users",t,"featured",e.id),se(V({},i),{num:o.data().count+1}));return alert("Successfully added to featured cards!"),!0})}removeFeaturedCard(e){return y(this,null,function*(){var t=this.username();return t===null?(console.log("No user logged in..."),!1):(yield u2(bt(this.firestore,"users",t,"featured",e.id)),!0)})}loadBalance(){return y(this,null,function*(){var e=this.username();if(e===null)return console.log("No user logged in..."),0;let r=(yield Ya(bt(this.firestore,"users",e))).data();return r===void 0?0:r.balance??0})}buyPack(e,t){return y(this,null,function*(){var r=this.username();if(r===null)return console.log("No user logged in..."),!1;let i=bt(this.firestore,"users",r),o=bt(Hn(this.firestore,"users",r,"packs"));try{return yield f2(this.firestore,s=>y(this,null,function*(){let c=(yield s.get(i)).data();if(!c||c.balance<t)throw alert("Insufficient funds."),"Insufficient funds.";s.set(o,{cards:e,created:new Date}),s.update(i,{balance:WD(-t)})})),!0}catch(s){return console.log("Transaction failed: ",s),!1}})}loadRandomProfiles(e){return y(this,null,function*(){var t=yield vi(Hn(this.firestore,"users"),$r("joined","desc"),uo(e)),r=yield Cs(t),i=r.docs.map(o=>{let s=o.data();return{username:o.id,pfp:s.pfp,joined:s.joined.toDate(),featured:[]}});return i})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function TY(n,e){if(n&1){let t=je();C(0,"button",13),Y("click",function(){ae(t);let i=z();return ce(i.claimPack())}),j(1,"Claim Pack"),M()}}var _v=class n{firebase=_(wt);increment=300;minTime=900;maxTime=10800;timeRemaining=ze(1800);timerInit=ze(1800);timerId=null;cardTimeRewardRate=1020;cardMultRate=13200;maxCardMult=1.5;get cardReward(){if(this.timerActive){var e=Math.min(this.maxCardMult,1+this.timerInit()/this.cardMultRate);return Math.max(1,Math.floor(this.timerInit()/this.cardTimeRewardRate*e))}else{var e=Math.min(this.maxCardMult,1+this.timeRemaining()/this.cardMultRate);return Math.max(1,Math.floor(this.timeRemaining()/this.cardTimeRewardRate*e))}}timerActive=!1;paused=!1;packAvailable=!1;isPackAvailable(){return this.packAvailable}claimPack(){return y(this,null,function*(){this.isPackAvailable()&&(this.packAvailable=!1,(yield this.firebase.createPack(this.cardReward))?(alert("Pack redeemed!"),this.timerActive=!1):(alert("Failed to redeem pack. Please try again."),this.packAvailable=!0),this.packAvailable=!1)})}formatTime(e){return e>60?String(Math.floor(e/3600)).padStart(2,"0")+":"+String(Math.floor(e/60)%60).padStart(2,"0")+":"+String(e%60).padStart(2,"0"):"00:"+String(e).padStart(2,"0")}displayTime(){return this.formatTime(this.timeRemaining())}incrementTimer(){!this.timerActive&&this.timeRemaining()+this.increment<=this.maxTime&&this.timeRemaining.update(e=>e+this.increment)}decrementTimer(){!this.timerActive&&this.timeRemaining()-this.increment>=this.minTime&&this.timeRemaining.update(e=>e-this.increment)}beginTimer(){if(!this.packAvailable&&(!this.timerActive||this.paused)){this.timerActive=!0,this.paused=!1,this.timerId==null&&this.timerInit.set(this.timeRemaining());var e=setInterval(()=>{this.timeRemaining.update(t=>t<=1?(clearInterval(e),this.timerId=null,this.packAvailable=!0,0):t-1)},1e3);this.timerId=e}}pauseTimer(){this.timerActive&&(this.paused=!0,this.timerId&&clearInterval(this.timerId))}stopTimer(e=!1){this.timerActive&&(e||confirm("Are you sure you want to cancel your active timer?"))&&(this.timerActive=!1,this.timerId&&(clearInterval(this.timerId),this.timerId=null),this.timeRemaining.set(this.timerInit()))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-timer-page"]],decls:31,vars:8,consts:[["id","content"],[1,"timer"],["id","time"],[1,"timer-controls"],[1,"change-time"],["matIconButton","","id","timer-increment","aria-label","Add 5 minutes",3,"click","disabled"],["matIconButton","","id","timer-decrement","aria-label","Subtract 5 minutes",3,"click","disabled"],["matIconButton","","id","timer-begin","aria-label","Begin timer",3,"click","disabled"],["matIconButton","","id","timer-pause","aria-label","Pause timer",3,"click","disabled"],["matIconButton","","id","timer-stop","aria-label","Stop timer",3,"click","disabled"],[1,"goal-input"],["matInput",""],["matButton","filled"],["matButton","filled",3,"click"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"div",1)(2,"div",2),j(3),M(),C(4,"div",3)(5,"div",4)(6,"button",5),Y("click",function(){return r.incrementTimer()}),C(7,"mat-icon"),j(8,"arrow_drop_up"),M()(),C(9,"button",6),Y("click",function(){return r.decrementTimer()}),C(10,"mat-icon"),j(11,"arrow_drop_down"),M()()(),C(12,"button",7),Y("click",function(){return r.beginTimer()}),C(13,"mat-icon"),j(14,"play_arrow"),M()(),C(15,"button",8),Y("click",function(){return r.pauseTimer()}),C(16,"mat-icon"),j(17,"pause"),M()(),C(18,"button",9),Y("click",function(){return r.stopTimer()}),C(19,"mat-icon"),j(20,"stop"),M()()()(),C(21,"p"),j(22,"Write a goal for this session!"),M(),C(23,"mat-form-field",10)(24,"mat-label"),j(25,"My goal"),M(),ye(26,"input",11),M(),fe(27,TY,2,0,"button",12),C(28,"span")(29,"i"),j(30),M()()()),t&2&&(O(3),et(" ",r.displayTime()," "),O(3),ee("disabled",r.timerActive),O(3),ee("disabled",r.timerActive),O(3),ee("disabled",r.timerActive&&!r.paused),O(3),ee("disabled",!r.timerActive||r.paused),O(3),ee("disabled",!r.timerActive),O(9),pe(r.isPackAvailable()?27:-1),O(3),et("[ Reward: ",r.cardReward," cards ]"))},dependencies:[wr,br,yr,fl,Vr,SO,DO,ah,sh],styles:['@font-face{font-family:Quantico;font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/quantico/v19/rax4HiSdp9cPL3KIF7xuFD96ng.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Quantico;font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/quantico/v19/rax7HiSdp9cPL3KIF7xuHIRfi0349A.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Quantico;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/quantico/v19/rax-HiSdp9cPL3KIF7xrJD0.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Quantico;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/quantico/v19/rax5HiSdp9cPL3KIF7TQAShdu08.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}#content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;align-items:center;padding-top:40px}.timer[_ngcontent-%COMP%]{height:fit-content;display:flex;flex-direction:column;align-items:center;gap:20px;padding:40px;background-color:#07080a;border-radius:36px}#time[_ngcontent-%COMP%]{font-family:Quantico,sans-serif;padding:80px 40px;width:240px;text-align:center;background-color:#fff;font-size:2.5rem;letter-spacing:.1em;border-radius:14px}@media (max-width: 600px){#time[_ngcontent-%COMP%]{font-size:2rem;letter-spacing:.08em;width:50dvw;padding:60px 35px}}.timer-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:30px}.change-time[_ngcontent-%COMP%]{gap:0;display:flex;flex-direction:column;align-items:center;justify-content:center}mat-icon[_ngcontent-%COMP%]{color:#fff;transform:scale(1.8)}.goal-input[_ngcontent-%COMP%]{width:60%}']})};var DY=["*"];var SY=new L("MAT_CARD_CONFIG"),Ds=(()=>{class n{appearance;constructor(){let t=_(SY,{optional:!0});this.appearance=t?.appearance||"raised"}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(r,i){r&2&&Me("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")("mat-mdc-card-filled",i.appearance==="filled")("mdc-card--filled",i.appearance==="filled")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:DY,decls:1,vars:0,template:function(r,i){r&1&&(Ct(),He(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return n})(),Ss=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})();var vv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),yv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})(),p2=(()=>{class n{align="start";static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,i){r&2&&Me("mat-mdc-card-actions-align-end",i.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})();var bv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})(),xs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]})}return n})();var As=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({imports:[Qe,Qe]})}return n})();var xY=["determinateSpinner"];function AY(n,e){if(n&1&&(ra(),C(0,"svg",11),ye(1,"circle",12),M()),n&2){let t=z();Pe("viewBox",t._viewBox()),O(),Ui("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),Pe("r",t._circleRadius())}}var RY=new L("mat-progress-spinner-default-options",{providedIn:"root",factory:MY});function MY(){return{diameter:m2}}var m2=100,kY=10,g2=(()=>{class n{_elementRef=_(xe);_noopAnimations;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";_determinateCircle;constructor(){let t=_(RY),r=R0(),i=this._elementRef.nativeElement;this._noopAnimations=r==="di-disabled"&&!!t&&!t._forceAnimations,this.mode=i.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&r==="reduced-motion"&&i.classList.add("mat-progress-spinner-reduced-motion"),t&&(t.color&&(this.color=this._defaultColor=t.color),t.diameter&&(this.diameter=t.diameter),t.strokeWidth&&(this.strokeWidth=t.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}_value=0;get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}_diameter=m2;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_strokeWidth;_circleRadius(){return(this.diameter-kY)/2}_viewBox(){let t=this._circleRadius()*2+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,i){if(r&1&&kt(xY,5),r&2){let o;Ke(o=Ye())&&(i._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,i){r&2&&(Pe("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",i.mode==="determinate"?i.value:null)("mode",i.mode),Nr("mat-"+i.color),Ui("width",i.diameter,"px")("height",i.diameter,"px")("--mat-progress-spinner-size",i.diameter+"px")("--mat-progress-spinner-active-indicator-width",i.diameter+"px"),Me("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate",i.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",$c],diameter:[2,"diameter","diameter",$c],strokeWidth:[2,"strokeWidth","strokeWidth",$c]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,i){if(r&1&&(Uo(0,AY,2,8,"ng-template",null,0,hd),C(2,"div",2,1),ra(),C(4,"svg",3),ye(5,"circle",4),M()(),Ip(),C(6,"div",5)(7,"div",6)(8,"div",7),Uc(9,8),M(),C(10,"div",9),Uc(11,8),M(),C(12,"div",10),Uc(13,8),M()()()),r&2){let o=Qn(1);O(4),Pe("viewBox",i._viewBox()),O(),Ui("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),Pe("r",i._circleRadius()),O(4),ee("ngTemplateOutlet",o),O(2),ee("ngTemplateOutlet",o),O(2),ee("ngTemplateOutlet",o)}},dependencies:[_d],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return n})();var _2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({imports:[Qe]})}return n})();function NY(n,e){n&1&&(C(0,"p"),j(1,"Loading..."),M())}function OY(n,e){n&1&&(C(0,"p"),j(1,"The pack you are trying to open has been redeemed or does not exist."),M())}function FY(n,e){if(n&1){let t=je();C(0,"div",4),Y("click",function(){ae(t);let i=z();return ce(i.openPack())}),C(1,"div",5),ye(2,"div",6)(3,"img",7),M(),C(4,"div",8),j(5," Tap to Open Pack "),M(),C(6,"div")(7,"i"),j(8),M()()()}if(n&2){let t=z();O(8),et("( ",t.packSize," cards )")}}function LY(n,e){if(n&1){let t=je();C(0,"button",20),Y("click",function(){ae(t);let i=z(3);return ce(i.commitSwipe("left"))}),C(1,"mat-icon"),j(2,"arrow_back_ios"),M()()}}function VY(n,e){n&1&&ye(0,"span",14)}function jY(n,e){if(n&1&&(C(0,"span"),j(1),M()),n&2){let t=z().$implicit;O(),Tt(t)}}function BY(n,e){n&1&&(C(0,"span"),j(1,"-"),M())}function UY(n,e){if(n&1&&(fe(0,jY,2,1,"span")(1,BY,2,0,"span"),ye(2,"br")),n&2){let t=e.$index;pe(t%2==0?0:1)}}function HY(n,e){if(n&1){let t=je();C(0,"mat-card",21),Y("pointerdown",function(i){ae(t);let o=z(3);return ce(o.onPointerDown(i))})("pointermove",function(i){ae(t);let o=z(3);return ce(o.onPointerMove(i))})("pointerup",function(i){ae(t);let o=z(3);return ce(o.onPointerUp(i))}),C(1,"button",22),Y("click",function(){ae(t);let i=z(3);return ce(i.pages[i.currIndex].starred?i.unstarCard():i.starCard())}),C(2,"mat-icon"),j(3),M()(),C(4,"mat-card-title"),j(5),M(),ye(6,"img",23),C(7,"mat-card-content",24),fr(8,UY,3,1,null,null,gm),M(),C(10,"mat-card-subtitle")(11,"a",25),j(12,"Wiki Link"),M()()()}if(n&2){let t=z(3);Ui("transform","translateX("+t.currentX+"px)")("rotate",t.rotationX+"deg"),Pe("id",t.pages[t.currIndex].id)("class",t.pages[t.currIndex].class),O(3),Tt(t.pages[t.currIndex].starred?"star":"star_outline"),O(2),Tt(t.pages[t.currIndex].title),O(),ee("src",Kt(t.pages[t.currIndex].thumbnail),rn)("alt",Kt(t.pages[t.currIndex].title)),O(2),pr(t.pages[t.currIndex].desc.split("==")),O(3),ee("href",t.pages[t.currIndex].link,rn)}}function $Y(n,e){n&1&&(C(0,"div"),j(1,"ERROR"),M())}function zY(n,e){if(n&1){let t=je();C(0,"button",26),Y("click",function(){ae(t);let i=z(3);return ce(i.commitSwipe("right"))}),C(1,"mat-icon"),j(2,"arrow_forward_ios"),M()()}}function qY(n,e){n&1&&ye(0,"span",14)}function WY(n,e){if(n&1){let t=je();C(0,"button",27),Y("click",function(){ae(t);let i=z(3);return ce(i.commitSwipe("left"))}),C(1,"mat-icon"),j(2,"arrow_back_ios"),M()()}}function GY(n,e){n&1&&ye(0,"span")}function KY(n,e){if(n&1){let t=je();C(0,"button",28),Y("click",function(){ae(t);let i=z(3);return ce(i.commitSwipe("right"))}),C(1,"mat-icon"),j(2,"arrow_forward_ios"),M()()}}function YY(n,e){n&1&&ye(0,"span")}function QY(n,e){if(n&1&&(C(0,"div",9),fe(1,LY,3,0,"button",13)(2,VY,1,0,"span",14),fe(3,HY,13,13,"mat-card",15)(4,$Y,2,0,"div"),fe(5,zY,3,0,"button",16)(6,qY,1,0,"span",14),C(7,"div",17),fe(8,WY,3,0,"button",18)(9,GY,1,0,"span"),fe(10,KY,3,0,"button",19)(11,YY,1,0,"span"),M()()),n&2){let t=z(2);O(),pe(t.currIndex>0?1:2),O(2),pe(t.pages[t.currIndex]!=null?3:4),O(2),pe(t.currIndex<t.pages.length-1?5:6),O(3),pe(t.currIndex>0?8:9),O(2),pe(t.currIndex<t.pages.length-1?10:11)}}function XY(n,e){if(n&1){let t=je();C(0,"button",29),Y("click",function(){ae(t);let i=z(2);return ce(i.showSummary())}),j(1,"Pack Summary"),M()}}function ZY(n,e){n&1&&ye(0,"mat-spinner",11)}function JY(n,e){n&1&&ye(0,"button",12)}function eQ(n,e){if(n&1&&(C(0,"div",2),fe(1,QY,12,5,"div",9),fe(2,XY,2,0,"button",10)(3,ZY,1,0,"mat-spinner",11)(4,JY,1,0,"button",12),M()),n&2){let t=z();O(),pe(t.currIndex<t.pages.length?1:-1),O(),pe(t.pages.length===t.packSize&&t.currIndex===t.pages.length-1?2:t.pages.length!==t.packSize?3:4)}}function tQ(n,e){if(n&1&&(C(0,"mat-card")(1,"mat-card-title"),j(2),M(),ye(3,"img",23),C(4,"mat-card-subtitle")(5,"a",25),j(6,"Wiki Link"),M()()()),n&2){let t=e.$implicit;Pe("id",t.id)("class",t.class),O(2),Tt(t.title),O(),ee("src",Kt(t.thumbnail),rn)("alt",Kt(t.title)),O(2),ee("href",t.link,rn)}}function nQ(n,e){if(n&1){let t=je();C(0,"div",3)(1,"div",30),fr(2,tQ,7,8,"mat-card",null,gm),M(),C(4,"button",31),Y("click",function(){ae(t);let i=z();return ce(i.claimPack())}),j(5,"Claim Pack"),M()()}if(n&2){let t=z();O(2),pr(t.pages)}}var v2=(r=>(r[r.Sealed=0]="Sealed",r[r.Revealing=1]="Revealing",r[r.Summary=2]="Summary",r))(v2||{}),Ev=class n{firebase=_(wt);route=_(Jn);router=_(sn);pages=[];PackState=v2;state=0;packSize=-1;packID="";swipeLocked=!1;currIndex=0;startX=0;currentX=0;rotationX=0;dragging=!1;wheelAccum=0;wheelLocked=!1;WHEEL_THRESHOLD=80;WHEEL_COOLDOWN=400;constructor(){this.route.params.subscribe(e=>{this.packID=e.pack_id||"",this.loadPack()})}reloadEffect=Pt(()=>{this.loadPack()});loadPack(){return y(this,null,function*(){this.firebase.username()!=null&&(this.packSize=yield this.firebase.loadPackSize(this.packID))})}openPack(){return y(this,null,function*(){this.pages=[],this.state=1;for(var e=0;e<this.packSize;e++){var t,r=Math.random();r<.38?t="common":r<.66?t="uncommon":r<.84?t="rare":r<.94?t="epic":t="legendary";var i=yield this.getRandomWikiPages(1,t);i[0].rarity=t,this.pages.push(i[0])}this.firebase.openPack(this.packID,this.pages)})}starCard(){return y(this,null,function*(){this.pages[this.currIndex].starred=!0,this.firebase.starCard(this.packID+this.currIndex)})}unstarCard(){return y(this,null,function*(){this.pages[this.currIndex].starred=!1,this.firebase.unstarCard(this.packID+this.currIndex)})}showSummary(){this.state=2}claimPack(){return y(this,null,function*(){this.router.navigateByUrl("")})}commitSwipe(e){if(!this.swipeLocked&&(this.swipeLocked=!0,!(this.currIndex===0&&e==="left")&&!(this.currIndex===this.pages.length-1&&e==="right"))){var t=140,r=4;this.currentX=e==="right"?-t:t,this.rotationX=e==="right"?-r:r,document.getElementById("card-content")?.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{this.currIndex+=e==="left"?-1:1,this.currentX=0,this.rotationX=0,this.swipeLocked=!1},250)}}onPointerDown(e){this.swipeLocked||(this.dragging=!0,this.startX=e.clientX,this.currentX=0,e.target.setPointerCapture(e.pointerId))}onPointerMove(e){this.dragging&&(this.currentX=Math.max(Math.min(e.clientX-this.startX,200),-200))}onPointerUp(e){if(!this.dragging||this.swipeLocked)return;this.dragging=!1;let t=this.currentX;Math.abs(t)>120?this.commitSwipe(t<0?"right":"left"):this.currentX=0}getRandomWikiPages(e=5,t="common"){return y(this,null,function*(){var r,i;switch(t){case"common":r="500",i="2500";break;case"uncommon":r="2500",i="8000";break;case"rare":r="8000",i="20000";break;case"epic":r="20000",i="100000";break;case"legendary":r="100000",i="100000000";break;default:return[]}var o={action:"query",format:"json",list:"random",rnlimit:String(e),rnnamespace:"0",rnminsize:r,rnmaxsize:i},s="https://en.wikipedia.org/w/api.php?origin=*&"+new URLSearchParams(o).toString(),c=(yield(yield fetch(s)).json()).query.random;for(var u in c){c[u].class="card "+t;let m={action:"opensearch",search:c[u].title,limit:"1",namespace:"0",format:"json"};s="https://en.wikipedia.org/w/api.php?origin=*&"+new URLSearchParams(m).toString();let g=yield(yield fetch(s)).json();c[u].link=String(g[3][0]);let I={action:"query",titles:c[u].title,prop:"pageimages",pilicense:"any",pithumbsize:"400",format:"json",formatversion:"2"};s="https://en.wikipedia.org/w/api.php?origin=*&"+new URLSearchParams(I).toString();var d=yield(yield fetch(s)).json();d.query.pages[0]&&d.query.pages[0].thumbnail?c[u].thumbnail=d.query.pages[0].thumbnail.source:c[u].thumbnail="default-card.png";let R={action:"query",format:"json",prop:"extracts",exsentences:"8",exlimit:"1",titles:c[u].title,explaintext:"1",formatversion:"2"};s="https://en.wikipedia.org/w/api.php?origin=*&"+new URLSearchParams(R).toString();var d=yield(yield fetch(s)).json(),p=600;d.query.pages[0].extract?String(d.query.pages[0].extract).length>p?c[u].desc=String(d.query.pages[0].extract).substring(0,p-3)+"...":c[u].desc=String(d.query.pages[0].extract):c[u].desc="[ No description ]"}return console.log(c),c})}getPageLink(e){return e?.link}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-pack-page"]],decls:6,vars:1,consts:[["id","content"],[1,"sealed-view"],[1,"reveal-view"],[1,"summary-container"],[1,"sealed-view",3,"click"],[1,"image-group"],[1,"bg"],["src","card-pack.png",1,"pack-image"],[1,"open-button"],["id","cards"],["matButton","filled",1,"summary-button"],["size","16","active-indicator-color","#ffffff"],["matButton","filled",1,"summary-button",2,"visibility","hidden"],["matFab","","aria-label","Previous card",1,"card-button","non-mobile"],[1,"non-mobile"],[3,"transform","rotate"],["matFab","","aria-label","Next card",1,"card-button","non-mobile"],["id","mobile-swipe-buttons"],["matFab","","aria-label","Previous card",1,"card-button"],["matFab","","aria-label","Next card",1,"card-button"],["matFab","","aria-label","Previous card",1,"card-button","non-mobile",3,"click"],[3,"pointerdown","pointermove","pointerup"],["matIconButton","",1,"star-button",3,"click"],["mat-card-image","",3,"src","alt"],["id","card-content"],["target","_blank",3,"href"],["matFab","","aria-label","Next card",1,"card-button","non-mobile",3,"click"],["matFab","","aria-label","Previous card",1,"card-button",3,"click"],["matFab","","aria-label","Next card",1,"card-button",3,"click"],["matButton","filled",1,"summary-button",3,"click"],[1,"summary-view"],["matButton","filled",1,"claim-button",3,"click"]],template:function(t,r){t&1&&(C(0,"div",0),fe(1,NY,2,0,"p")(2,OY,2,0,"p")(3,FY,9,1,"div",1)(4,eQ,5,2,"div",2)(5,nQ,6,0,"div",3),M()),t&2&&(O(),pe(r.firebase.username()===null||r.packSize<0?1:r.packSize==0?2:r.state===r.PackState.Sealed?3:r.state===r.PackState.Revealing?4:r.state===r.PackState.Summary?5:-1))},dependencies:[As,Ds,vv,xs,yv,Ss,yr,fl,Vr,AN,wr,br,_2,g2],styles:['#content[_ngcontent-%COMP%]{height:calc(100% - 50px);overflow-y:hidden;display:flex;justify-content:center}.sealed-view[_ngcontent-%COMP%]{margin:40px 0;text-align:center}.sealed-view[_ngcontent-%COMP%]:hover{cursor:pointer}@keyframes _ngcontent-%COMP%_image-oscillate{0%{transform:scale(1);background-color:#ffe6004d}to{transform:scale(1.1);background-color:#ff00e64d}}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(-1deg)}to{transform:rotate(1deg)}}.image-group[_ngcontent-%COMP%]{max-height:60vh;max-width:60vw;position:relative}.image-group[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{z-index:0;position:absolute;margin:0 auto;padding-top:10px;filter:blur(60px);border-radius:200px;width:100%;height:100%;animation:_ngcontent-%COMP%_image-oscillate 3s ease-in-out infinite alternate-reverse}.pack-image[_ngcontent-%COMP%]{max-width:100%;max-height:60vh;object-fit:contain;position:relative;animation:_ngcontent-%COMP%_rotate 2s ease-in-out infinite alternate-reverse}.open-button[_ngcontent-%COMP%]{z-index:3;width:fit-content;display:flex;justify-content:center;align-items:center;background-color:#fff;border:2px solid black;font-weight:700;padding:20px;margin:40px auto;border-radius:4px;height:40px}.open-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f0f8ff}.reveal-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:30px;gap:20px}#parent[_ngcontent-%COMP%]{overflow:auto}#cards[_ngcontent-%COMP%]{margin:auto;height:fit-content;display:flex;align-items:center;gap:60px;max-width:90dvw}.card[_ngcontent-%COMP%]{z-index:0;flex-shrink:0;width:70dvw;max-width:360px;height:500px;padding:40px 20px;border-radius:4px;background:#eee;position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:-4px 4px 10px #0003;transition:transform .25s cubic-bezier(.22,.61,.36,1),rotate .25s cubic-bezier(.22,.61,.36,1);touch-action:none;will-change:transform}#mobile-swipe-buttons[_ngcontent-%COMP%]{display:none}@media (max-width: 600px){.card[_ngcontent-%COMP%]{height:45dvh}#cards[_ngcontent-%COMP%]{flex-direction:column}#mobile-swipe-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:40px;align-items:center}.non-mobile[_ngcontent-%COMP%]{display:none}}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:40%;max-width:80%;object-fit:cover;margin:20px auto;border-radius:2px}.card-button[_ngcontent-%COMP%]{z-index:2}mat-card-title[_ngcontent-%COMP%]{font-family:Linux Libertine,Georgia,Times,"Source Serif 4",serif;font-size:24px}mat-card-content[_ngcontent-%COMP%]{overflow:auto;margin-bottom:10px}mat-spinner[_ngcontent-%COMP%]{color:#fff;font-size:40px;margin:0 auto}.summary-button[_ngcontent-%COMP%]{width:fit-content;margin:0 auto 40px;padding:8px 20px}.summary-view[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;gap:20px;padding:10px 6vw;overflow:auto}.summary-view[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:240px;height:300px;padding:10px 14px}.summary-view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:50%}.summary-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px;gap:20px;align-items:center}.claim-button[_ngcontent-%COMP%]{width:fit-content;padding:10px 18px}.star-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}']})};var Qh=()=>({standalone:!0});function rQ(n,e){if(n&1){let t=je();C(0,"button",5),Y("click",function(){ae(t);let i=z(2);return ce(i.login())}),j(1,"Log In"),M(),C(2,"button",6),Y("click",function(){ae(t);let i=z(2);return ce(i.swapView())}),j(3,"Switch to Create Account"),M()}}function iQ(n,e){if(n&1){let t=je();C(0,"h1"),j(1,"Log In"),M(),C(2,"form")(3,"label",1),j(4," Email: "),C(5,"input",2),gr("ngModelChange",function(i){ae(t);let o=z();return An(o.email,i)||(o.email=i),ce(i)}),M()(),C(6,"label",3),j(7," Password: "),C(8,"input",4),gr("ngModelChange",function(i){ae(t);let o=z();return An(o.password,i)||(o.password=i),ce(i)}),M()(),fe(9,rQ,4,0),M()}if(n&2){let t=z();O(5),Fn("ngModel",t.email),ee("ngModelOptions",da(5,Qh)),O(3),Fn("ngModel",t.password),ee("ngModelOptions",da(6,Qh)),O(),pe(t.loading?-1:9)}}function oQ(n,e){if(n&1){let t=je();C(0,"button",5),Y("click",function(){ae(t);let i=z(2);return ce(i.signUp())}),j(1,"Create Account"),M(),C(2,"button",6),Y("click",function(){ae(t);let i=z(2);return ce(i.swapView())}),j(3,"Switch to Log In"),M()}}function sQ(n,e){if(n&1){let t=je();C(0,"h1"),j(1,"Create Account"),M(),C(2,"form")(3,"label",7),j(4," Username: "),C(5,"input",8),gr("ngModelChange",function(i){ae(t);let o=z();return An(o.username,i)||(o.username=i),ce(i)}),M()(),C(6,"label",1),j(7," Email: "),C(8,"input",2),gr("ngModelChange",function(i){ae(t);let o=z();return An(o.email,i)||(o.email=i),ce(i)}),M()(),C(9,"label",3),j(10," Password: "),C(11,"input",4),gr("ngModelChange",function(i){ae(t);let o=z();return An(o.password,i)||(o.password=i),ce(i)}),M()(),fe(12,oQ,4,0),M()}if(n&2){let t=z();O(5),Fn("ngModel",t.username),ee("ngModelOptions",da(7,Qh)),O(3),Fn("ngModel",t.email),ee("ngModelOptions",da(8,Qh)),O(3),Fn("ngModel",t.password),ee("ngModelOptions",da(9,Qh)),O(),pe(t.loading?-1:12)}}var Xh=class n{firebase=_(wt);nav=_(sn);username="";email="";password="";signIn=!0;loading=!1;constructor(){h_(this.firebase.auth,e=>{e&&this.nav.navigateByUrl("")})}login(){return y(this,null,function*(){this.loading=!0,this.email===""?alert("Please enter your email"):this.password===""?alert("Please enter a password"):(yield this.firebase.signIn(this.email,this.password))?this.nav.navigateByUrl(""):alert("Unrecognized email or password"),this.loading=!1})}signUp(){return y(this,null,function*(){this.loading=!0,this.username===""?alert("Please enter a valid username"):this.email===""?alert("Please enter an email"):this.password===""?alert("Please enter a password"):(yield this.firebase.createAccount(this.username,this.email,this.password))?this.nav.navigateByUrl(""):alert("That username is already taken."),this.loading=!1})}swapView(){this.username="",this.password="",this.email="",this.signIn=!this.signIn}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-account-page"]],decls:3,vars:1,consts:[[1,"main"],["for","email"],["id","email","type","text","placeholder","Email",3,"ngModelChange","ngModel","ngModelOptions"],["for","password"],["id","password","type","password","placeholder","Password",3,"ngModelChange","ngModel","ngModelOptions"],[1,"submit",3,"click"],[3,"click"],["for","username"],["id","username","type","text","placeholder","Username",3,"ngModelChange","ngModel","ngModelOptions"]],template:function(t,r){t&1&&(C(0,"div",0),fe(1,iQ,10,7)(2,sQ,13,10),M()),t&2&&(O(),pe(r.signIn?1:2))},dependencies:[dO,uO,kg,nO,rO,q0,oh],styles:[".main[_ngcontent-%COMP%]{padding:40px 60px;text-align:center}.main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;justify-content:center;align-items:center}.main[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:4px}.submit[_ngcontent-%COMP%]{font-weight:700;border-radius:10px;background-color:#fff;border:1px solid skyblue;padding:10px;margin:2px;box-shadow:2px 2px 4px #0006}.submit[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 4px #0006;transform:translate(1px,1px);background-color:#f0f8ff}.submit[_ngcontent-%COMP%]:click{background-color:#add8e6}"]})};var aQ=(n,e)=>e.id;function cQ(n,e){n&1&&(C(0,"div")(1,"p"),j(2,"Loading..."),M()())}function lQ(n,e){n&1&&(C(0,"div")(1,"p"),j(2,"[ Not logged in ]"),M()())}function uQ(n,e){if(n&1){let t=je();C(0,"div",5),Y("click",function(){let i=ae(t).$implicit,o=z(2);return ce(o.redeemPack(i.id))}),ye(1,"img",6),C(2,"p"),j(3),M(),C(4,"p")(5,"i"),j(6),M()()()}if(n&2){let t=e.$implicit;O(3),et("[ ",t.cards," cards ]"),O(3),et("Created ",t.created)}}function dQ(n,e){n&1&&(C(0,"div")(1,"p"),j(2,"Loading..."),M()())}function hQ(n,e){if(n&1&&fe(0,dQ,3,0,"div"),n&2){let t=z(2);pe(t.loading?0:-1)}}function fQ(n,e){if(n&1&&(C(0,"div",1),fr(1,uQ,7,2,"div",2,aQ,!1,hQ,1,1),C(4,"a",3)(5,"mat-icon",4),j(6,"add_circle"),M(),C(7,"p"),j(8,"Buy More Packs"),M()()()),n&2){let t=z();O(),pr(t.packs)}}var Iv=class n{firebase=_(wt);router=_(sn);packs=[];loading=!0;reloadEffect=Pt(()=>{this.loadPacks()});ngOnInit(){return y(this,null,function*(){this.loadPacks()})}loadPacks(){return y(this,null,function*(){if(this.firebase.username()!=null){var e=yield this.firebase.loadAvailablePacks();this.loading=!1,this.packs=e.map(t=>{var r=t.data();return{id:t.id,cards:r.cards,created:r.created.toDate().toDateString()}})}this.loading=!1})}redeemPack(e){this.router.navigateByUrl("/pack/"+e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-packs-page"]],decls:4,vars:1,consts:[[1,"content"],[1,"pack-scroll"],[1,"pack"],["routerLink","/buy_packs",1,"buy-more"],["aria-hidden","false","aria-label","Buy More"],[1,"pack",3,"click"],["src","card-pack.png"]],template:function(t,r){t&1&&(C(0,"div",0),fe(1,cQ,3,0,"div")(2,lQ,3,0,"div")(3,fQ,9,1,"div",1),M()),t&2&&(O(),pe(r.firebase.username()===null&&r.loading?1:r.firebase.username()==null&&!r.loading?2:3))},dependencies:[wr,br,ci],styles:[".content[_ngcontent-%COMP%]{padding:40px 0;display:flex;justify-content:center;align-items:center}.pack-scroll[_ngcontent-%COMP%]{width:100vw;padding:0 32vw;overflow:auto hidden;scroll-snap-type:x mandatory;display:flex;align-items:center;gap:8vw}.pack-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.pack[_ngcontent-%COMP%]{padding:0 20px;scroll-snap-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;transition:transform .4s ease-in-out}.pack[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background-color:#fffc;opacity:1;cursor:pointer}.pack[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50vw;max-height:60vh}.buy-more[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.3);background-color:#fff;text-align:center;scroll-snap-align:center;font-size:14px;display:flex;flex-direction:column;justify-content:center;height:fit-content;padding:24px;border-radius:10px}.buy-more[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0 auto;text-decoration:none}.buy-more[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-width:140px}.buy-more[_ngcontent-%COMP%]:hover{background-color:#f5fcff}"]})};var Cv=(()=>{class n{get vertical(){return this._vertical}set vertical(t){this._vertical=qi(t)}_vertical=!1;get inset(){return this._inset}set inset(t){this._inset=qi(t)}_inset=!1;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,i){r&2&&(Pe("aria-orientation",i.vertical?"vertical":"horizontal"),Me("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(r,i){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return n})(),y2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({imports:[Qe,Qe]})}return n})();var Zh=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new Q;constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);let t=this.selected,r=new Set(e.map(o=>this._getConcreteValue(o)));e.forEach(o=>this._markSelected(o)),t.filter(o=>!r.has(this._getConcreteValue(o,r))).forEach(o=>this._unmarkSelected(o));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let r of t)if(this.compareWith(e,r))return r;return e}else return e}};var b2=(()=>{class n{_animationsDisabled=Mn();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,i){r&2&&Me("mat-pseudo-checkbox-indeterminate",i.state==="indeterminate")("mat-pseudo-checkbox-checked",i.state==="checked")("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal",i.appearance==="minimal")("mat-pseudo-checkbox-full",i.appearance==="full")("_mat-animation-noopable",i._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(r,i){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return n})();var mQ=["button"],gQ=["*"];function _Q(n,e){if(n&1&&(C(0,"div",2),ye(1,"mat-pseudo-checkbox",6),M()),n&2){let t=z();O(),ee("disabled",t.disabled)}}var w2=new L("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:vQ});function vQ(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var E2=new L("MatButtonToggleGroup"),yQ={provide:Mg,useExisting:lr(()=>QD),multi:!0},Tv=class{source;value;constructor(e,t){this.source=e,this.value=t}},QD=(()=>{class n{_changeDetector=_(_n);_dir=_(Wi,{optional:!0});_multiple=!1;_disabled=!1;_disabledInteractive=!1;_selectionModel;_rawValue;_controlValueAccessorChangeFn=()=>{};_onTouched=()=>{};_buttonToggles;appearance;get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}_name=_(tr).getId("mat-button-toggle-group-");vertical;get value(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(r=>r.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}valueChange=new Ue;get selected(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=t,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}change=new Ue;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._markButtonsForCheck()}_hideSingleSelectionIndicator;get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(t){this._hideMultipleSelectionIndicator=t,this._markButtonsForCheck()}_hideMultipleSelectionIndicator;constructor(){let t=_(w2,{optional:!0});this.appearance=t&&t.appearance?t.appearance:"standard",this.hideSingleSelectionIndicator=t?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=t?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new Zh(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked)),this.multiple||this._initializeTabIndex()}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_keydown(t){if(this.multiple||this.disabled||ll(t))return;let i=t.target.id,o=this._buttonToggles.toArray().findIndex(a=>a.buttonId===i),s=null;switch(t.keyCode){case 32:case 13:s=this._buttonToggles.get(o)||null;break;case 38:s=this._getNextButton(o,-1);break;case 37:s=this._getNextButton(o,this.dir==="ltr"?-1:1);break;case 40:s=this._getNextButton(o,1);break;case 39:s=this._getNextButton(o,this.dir==="ltr"?1:-1);break;default:return}s&&(t.preventDefault(),s._onButtonClick(),s.focus())}_emitChangeEvent(t){let r=new Tv(t,this.value);this._rawValue=r.value,this._controlValueAccessorChangeFn(r.value),this.change.emit(r)}_syncButtonToggle(t,r,i=!1,o=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?r?this._selectionModel.select(t):this._selectionModel.deselect(t):o=!0,o?Promise.resolve().then(()=>this._updateModelValue(t,i)):this._updateModelValue(t,i)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(r=>t.value!=null&&r===t.value):t.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(t=>{t.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let t=0;t<this._buttonToggles.length;t++){let r=this._buttonToggles.get(t);if(!r.disabled){r.tabIndex=0;break}}}_getNextButton(t,r){let i=this._buttonToggles;for(let o=1;o<=i.length;o++){let s=(t+r*o+i.length)%i.length,a=i.get(s);if(a&&!a.disabled)return a}return null}_setSelectionByValue(t){if(this._rawValue=t,!this._buttonToggles)return;let r=this._buttonToggles.toArray();if(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i,r))):(this._clearSelection(),this._selectValue(t,r)),!this.multiple&&r.every(i=>i.tabIndex===-1)){for(let i of r)if(!i.disabled){i.tabIndex=0;break}}}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>{t.checked=!1,this.multiple||(t.tabIndex=-1)})}_selectValue(t,r){for(let i of r)if(i.value===t){i.checked=!0,this._selectionModel.select(i),this.multiple||(i.tabIndex=0);break}}_updateModelValue(t,r){r&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(r,i,o){if(r&1&&gn(o,Dv,5),r&2){let s;Ke(s=Ye())&&(i._buttonToggles=s)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(r,i){r&1&&Y("keydown",function(s){return i._keydown(s)}),r&2&&(Pe("role",i.multiple?"group":"radiogroup")("aria-disabled",i.disabled),Me("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard",i.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",Fe],value:"value",multiple:[2,"multiple","multiple",Fe],disabled:[2,"disabled","disabled",Fe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Fe],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Fe],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",Fe]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[on([yQ,{provide:E2,useExisting:n}])]})}return n})(),Dv=(()=>{class n{_changeDetectorRef=_(_n);_elementRef=_(xe);_focusMonitor=_(Yo);_idGenerator=_(tr);_animationDisabled=Mn();_checked=!1;ariaLabel;ariaLabelledby=null;_buttonElement;buttonToggleGroup;get buttonId(){return`${this.id}-button`}id;name;value;get tabIndex(){return this._tabIndex()}set tabIndex(t){this._tabIndex.set(t)}_tabIndex;disableRipple;get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}_appearance;get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=t}_disabled=!1;get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}_disabledInteractive;change=new Ue;constructor(){_(Vn).load(dl);let t=_(E2,{optional:!0}),r=_(new $o("tabindex"),{optional:!0})||"",i=_(w2,{optional:!0});this._tabIndex=ze(parseInt(r)||0),this.buttonToggleGroup=t,this.appearance=i&&i.appearance?i.appearance:"standard",this.disabledInteractive=i?.disabledInteractive??!1}ngOnInit(){let t=this.buttonToggleGroup;this.id=this.id||this._idGenerator.getId("mat-button-toggle-"),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._animationDisabled||this._elementRef.nativeElement.classList.add("mat-button-toggle-animations-enabled"),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){if(this.disabled)return;let t=this.isSingleSelector()?!0:!this._checked;if(t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let r=this.buttonToggleGroup._buttonToggles.find(i=>i.tabIndex===0);r&&(r.tabIndex=-1),this.tabIndex=0}this.change.emit(new Tv(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(r,i){if(r&1&&kt(mQ,5),r&2){let o;Ke(o=Ye())&&(i._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(r,i){r&1&&Y("focus",function(){return i.focus()}),r&2&&(Pe("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),Me("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-disabled-interactive",i.disabledInteractive)("mat-button-toggle-appearance-standard",i.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",Fe],appearance:"appearance",checked:[2,"checked","checked",Fe],disabled:[2,"disabled","disabled",Fe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Fe]},outputs:{change:"change"},exportAs:["matButtonToggle"],ngContentSelectors:gQ,decls:7,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-checkbox-wrapper"],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"],["state","checked","aria-hidden","true","appearance","minimal",3,"disabled"]],template:function(r,i){if(r&1){let o=je();Ct(),C(0,"button",1,0),Y("click",function(){return ae(o),ce(i._onButtonClick())}),fe(2,_Q,2,1,"div",2),C(3,"span",3),He(4),M()(),ye(5,"span",4)(6,"span",5)}if(r&2){let o=Qn(1);ee("id",i.buttonId)("disabled",i.disabled&&!i.disabledInteractive||null),Pe("role",i.isSingleSelector()?"radio":"button")("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-pressed",i.isSingleSelector()?null:i.checked)("aria-checked",i.isSingleSelector()?i.checked:null)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),O(2),pe(i.buttonToggleGroup&&(!i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideSingleSelectionIndicator||i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideMultipleSelectionIndicator)?2:-1),O(4),ee("matRippleTrigger",o)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[fg,b2],styles:[`.mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mat-button-toggle-legacy-shape);transform:translateZ(0)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}@media(forced-colors: active){.mat-button-toggle-standalone,.mat-button-toggle-group{outline:solid 1px}}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}@media(forced-colors: active){.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-button-toggle-legacy-text-color);font-family:var(--mat-button-toggle-legacy-label-text-font);font-size:var(--mat-button-toggle-legacy-label-text-size);line-height:var(--mat-button-toggle-legacy-label-text-line-height);font-weight:var(--mat-button-toggle-legacy-label-text-weight);letter-spacing:var(--mat-button-toggle-legacy-label-text-tracking);--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-button-toggle-legacy-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-button-toggle-legacy-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checkbox-wrapper{display:inline-block;justify-content:flex-start;align-items:center;width:0;height:18px;line-height:18px;overflow:hidden;box-sizing:border-box;position:absolute;top:50%;left:16px;transform:translate3d(0, -50%, 0)}[dir=rtl] .mat-button-toggle-checkbox-wrapper{left:auto;right:16px}.mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:12px}[dir=rtl] .mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:auto;right:12px}.mat-button-toggle-checked .mat-button-toggle-checkbox-wrapper{width:18px}.mat-button-toggle-animations-enabled .mat-button-toggle-checkbox-wrapper{transition:width 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-checkbox-wrapper{transition:none}.mat-button-toggle-checked{color:var(--mat-button-toggle-legacy-selected-state-text-color);background-color:var(--mat-button-toggle-legacy-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-button-toggle-legacy-disabled-state-text-color);background-color:var(--mat-button-toggle-legacy-disabled-state-background-color);--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color: var(--mat-button-toggle-legacy-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-button-toggle-legacy-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-button-toggle-text-color, var(--mat-sys-on-surface));background-color:var(--mat-button-toggle-background-color, transparent);font-family:var(--mat-button-toggle-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-toggle-label-text-size, var(--mat-sys-label-large-size));line-height:var(--mat-button-toggle-label-text-line-height, var(--mat-sys-label-large-line-height));font-weight:var(--mat-button-toggle-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-button-toggle-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-toggle-selected-state-background-color, var(--mat-sys-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-button-toggle-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-toggle-disabled-state-background-color, transparent)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color: var(--mat-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-toggle-disabled-selected-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-button-toggle-state-layer-color, var(--mat-sys-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-button-toggle-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-button-toggle-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-button-toggle-legacy-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-button-toggle-height, 40px)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-button-toggle-legacy-state-layer-color)}@media(forced-colors: active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-animations-enabled .mat-button-toggle-button{transition:padding 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-button{transition:none}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:30px}[dir=rtl] .mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:0;padding-right:30px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius: var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard:not(.mat-button-toggle-vertical) .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-bottom-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-bottom-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large));border-top-left-radius:var(--mat-button-toggle-shape, var(--mat-sys-corner-extra-large))}
`],encapsulation:2,changeDetection:0})}return n})(),I2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({imports:[Qe,hl,Dv,Qe]})}return n})();var Jh=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},XD=class extends Jh{component;viewContainerRef;injector;projectableNodes;constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=i}},Xl=class extends Jh{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},ZD=class extends Jh{element;constructor(e){super(),this.element=e instanceof xe?e.nativeElement:e}},JD=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof XD)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Xl)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof ZD)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},ef=class extends JD{outletElement;_appRef;_defaultInjector;constructor(e,t,r){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=r}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(jo,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||Te.NULL,o=i.get(rt,r.injector);t=Im(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var C2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({})}return n})();var wQ=20,xv=(()=>{class n{_ngZone=_(K);_platform=_(at);_renderer=_(Mt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Q;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=wQ){return this._platform.isBrowser?new de(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(ep(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):X()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(nt(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=er(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var EQ=20,Zl=(()=>{class n{_platform=_(at);_listeners;_viewportSize;_change=new Q;_document=_(ve);constructor(){let t=_(K),r=_(Mt).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=EQ){return t>0?this._change.pipe(ep(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Sv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({})}return n})(),eS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({imports:[Xo,Sv,Xo,Sv]})}return n})();var T2=hN();function k2(n){return new Av(n.get(Zl),n.get(ve))}var Av=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Dt(-this._previousScrollPosition.left),e.style.top=Dt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),T2&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),T2&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};function P2(n,e){return new Rv(n.get(xv),n.get(K),n.get(Zl),e)}var Rv=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(nt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var tf=class{enable(){}disable(){}attach(){}};function tS(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function D2(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}function Xa(n,e){return new Mv(n.get(xv),n.get(Zl),n.get(K),e)}var Mv=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();tS(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},N2=(()=>{class n{_injector=_(Te);constructor(){}noop=()=>new tf;close=t=>P2(this._injector,t);block=()=>k2(this._injector);reposition=t=>Xa(this._injector,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jl=class{positionStrategy;scrollStrategy=new tf;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var kv=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var O2=(()=>{class n{_attachedOverlays=[];_document=_(ve);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),F2=(()=>{class n extends O2{_ngZone=_(K);_renderer=_(Mt).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=ei(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),L2=(()=>{class n extends O2{_platform=_(at);_ngZone=_(K);_renderer=_(Mt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(r,"pointerdown",this._pointerDownListener,i),o.listen(r,"click",this._clickListener,i),o.listen(r,"auxclick",this._clickListener,i),o.listen(r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=Ln(t)};_clickListener=t=>{let r=Ln(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(S2(a.overlayElement,r)||S2(a.overlayElement,i))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(t)):c.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=ei(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function S2(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var V2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),j2=(()=>{class n{_platform=_(at);_containerElement;_document=_(ve);_styleLoader=_(Vn);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||x0()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),x0()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(V2)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nS=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Pv=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Q;_attachments=new Q;_detachments=new Q;_positionStrategy;_scrollStrategy;_locationChanges=Ve.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new Q;_outsidePointerEvents=new Q;_afterNextRenderRef;constructor(e,t,r,i,o,s,a,c,u,d=!1,p,m){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._injector=p,this._renderer=m,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=ni(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=V(V({},this._config),e),this._updateElementSize()}setDirection(e){this._config=se(V({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Dt(this._config.width),e.height=Dt(this._config.height),e.minWidth=Dt(this._config.minWidth),e.minHeight=Dt(this._config.minHeight),e.maxWidth=Dt(this._config.maxWidth),e.maxHeight=Dt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new nS(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let i=cl(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=ni(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},x2="cdk-overlay-connected-position-bounding-box",IQ=/([A-Za-z%]+)$/;function Fv(n,e){return new Nv(e,n.get(Zl),n.get(ve),n.get(at),n.get(j2))}var Nv=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Q;_resizeSubscription=Ve.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(x2),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),u=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(u,t,r,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,u,r)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:u,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let u of o){let d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>c&&(c=d,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qa(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(x2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=R2(t),{x:s,y:a}=e,c=this._getOffset(i,"x"),u=this._getOffset(i,"y");c&&(s+=c),u&&(a+=u);let d=0-s,p=s+o.width-r.width,m=0-a,g=a+o.height-r.height,I=this._subtractOverflows(o.width,d,p),R=this._subtractOverflows(o.height,m,g),A=I*R;return{visibleArea:A,isCompletelyWithinViewport:o.width*o.height===A,fitsInViewportVertically:R===o.height,fitsInViewportHorizontally:I==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=A2(this._overlayRef.getConfig().minHeight),a=A2(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=i,u=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&u}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=R2(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),u=Math.max(o.left-r.left-e.x,0),d=0,p=0;return i.width<=o.width?d=u||-s:d=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?p=c||-a:p=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:d,y:p},{x:e.x+d,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!CQ(this._lastScrollVisibility,r)){let i=new kv(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,o=r.height-a+this._viewportMargin;else{let g=Math.min(r.bottom-e.y+r.top,e.y),I=this._lastBoundingBoxSize.height;o=g*2,s=e.y-g,o>I&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-I/2)}let c=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,u=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,d,p,m;if(u)m=r.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)p=e.x,d=r.right-e.x;else{let g=Math.min(r.right-e.x+r.left,e.x),I=this._lastBoundingBoxSize.width;d=g*2,p=e.x-g,d>I&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-I/2)}return{top:s,left:p,bottom:a,right:m,width:d,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Dt(r.height),i.top=Dt(r.top),i.bottom=Dt(r.bottom),i.width=Dt(r.width),i.left=Dt(r.left),i.right=Dt(r.right),t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=Dt(o)),s&&(i.maxWidth=Dt(s))}this._lastBoundingBoxSize=r,Qa(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Qa(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qa(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();Qa(r,this._getExactOverlayY(t,e,d)),Qa(r,this._getExactOverlayX(t,e,d))}else r.position="static";let a="",c=this._getOffset(t,"x"),u=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Dt(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Dt(s.maxWidth):o&&(r.maxWidth="")),Qa(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=Dt(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=Dt(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:D2(e,r),isOriginOutsideView:tS(e,r),isOverlayClipped:D2(t,r),isOverlayOutsideView:tS(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&cl(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof xe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function Qa(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function A2(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(IQ);return!t||t==="px"?parseFloat(e):null}return n||null}function R2(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function CQ(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var M2="cdk-global-overlay-wrapper";function B2(n){return new Ov}var Ov=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(M2),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,p=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",g="",I="",R="";c?R="flex-start":d==="center"?(R="center",m?I=p:g=p):m?d==="left"||d==="end"?(R="flex-end",g=p):(d==="right"||d==="start")&&(R="flex-start",I=p):d==="left"||d==="start"?(R="flex-start",g=p):(d==="right"||d==="end")&&(R="flex-end",I=p),e.position=this._cssPosition,e.marginLeft=c?"0":g,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":I,t.justifyContent=R,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(M2),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},U2=(()=>{class n{_injector=_(Te);constructor(){}global(){return B2()}flexibleConnectedTo(t){return Fv(this._injector,t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lv(n,e){n.get(Vn).load(V2);let t=n.get(j2),r=n.get(ve),i=n.get(tr),o=n.get(xn),s=n.get(Wi),a=r.createElement("div"),c=r.createElement("div");c.id=i.getId("cdk-overlay-"),c.classList.add("cdk-overlay-pane"),a.appendChild(c),t.getContainerElement().appendChild(a);let u=new ef(c,o,n),d=new Jl(e),p=n.get(Ht,null,{optional:!0})||n.get(Mt).createRenderer(null,null);return d.direction=d.direction||s.value,new Pv(u,a,c,d,n.get(K),n.get(F2),r,n.get(qo),n.get(L2),e?.disableAnimations??n.get(rd,null,{optional:!0})==="NoopAnimations",n.get(rt),p)}var H2=(()=>{class n{scrollStrategies=_(N2);_positionBuilder=_(U2);_injector=_(Te);constructor(){}create(t){return Lv(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var TQ=new L("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=_(Te);return()=>Xa(n)}});function DQ(n){let e=_(Te);return()=>Xa(e)}var SQ={provide:TQ,useFactory:DQ},rS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({providers:[H2,SQ],imports:[Xo,C2,eS,eS]})}return n})();var AQ=["mat-menu-item",""],RQ=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],MQ=["mat-icon, [matMenuItemIcon]","*"];function kQ(n,e){n&1&&(ra(),C(0,"svg",2),ye(1,"polygon",3),M())}var PQ=["*"];function NQ(n,e){if(n&1){let t=je();Yn(0,"div",0),_m("click",function(){ae(t);let i=z();return ce(i.closed.emit("click"))})("animationstart",function(i){ae(t);let o=z();return ce(o._onAnimationStart(i.animationName))})("animationend",function(i){ae(t);let o=z();return ce(o._onAnimationDone(i.animationName))})("animationcancel",function(i){ae(t);let o=z();return ce(o._onAnimationDone(i.animationName))}),Yn(1,"div",1),He(2),mr()()}if(n&2){let t=z();Nr(t._classList),Me("mat-menu-panel-animations-disabled",t._animationsDisabled)("mat-menu-panel-exit-animation",t._panelAnimationState==="void")("mat-menu-panel-animating",t._isAnimating()),Ho("id",t.panelId),Pe("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}var oS=new L("MAT_MENU_PANEL"),Za=(()=>{class n{_elementRef=_(xe);_document=_(ve);_focusMonitor=_(Yo);_parentMenu=_(oS,{optional:!0});_changeDetectorRef=_(_n);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new Q;_focused=new Q;_highlighted=!1;_triggersSubmenu=!1;constructor(){_(Vn).load(dl),this._parentMenu?.addItem?.(this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let t=this._elementRef.nativeElement.cloneNode(!0),r=t.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(r,i){r&1&&Y("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),r&2&&(Pe("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),Me("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Fe],disableRipple:[2,"disableRipple","disableRipple",Fe]},exportAs:["matMenuItem"],attrs:AQ,ngContentSelectors:MQ,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,i){r&1&&(Ct(RQ),He(0),C(1,"span",0),He(2,1),M(),ye(3,"div",1),fe(4,kQ,2,0,":svg:svg",2)),r&2&&(O(3),ee("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),O(),pe(i._triggersSubmenu?4:-1))},dependencies:[fg],encapsulation:2,changeDetection:0})}return n})();var OQ=new L("MatMenuContent");var FQ=new L("mat-menu-default-options",{providedIn:"root",factory:LQ});function LQ(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var iS="_mat-menu-enter",Vv="_mat-menu-exit",Rs=(()=>{class n{_elementRef=_(xe);_changeDetectorRef=_(_n);_injector=_(Te);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=Mn();_allItems;_directDescendantItems=new Ni;_classList={};_panelAnimationState="void";_animationDone=new Q;_isAnimating=ze(!1);parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(t){let r=this._previousPanelClass,i=V({},this._classList);r&&r.length&&r.split(" ").forEach(o=>{i[o]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(o=>{i[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}_previousPanelClass;get classList(){return this.panelClass}set classList(t){this.panelClass=t}closed=new Ue;close=this.closed;panelId=_(tr).getId("mat-menu-panel-");constructor(){let t=_(FQ);this.overlayPanelClass=t.overlayPanelClass||"",this._xPosition=t.xPosition,this._yPosition=t.yPosition,this.backdropClass=t.backdropClass,this.overlapTrigger=t.overlapTrigger,this.hasBackdrop=t.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Yd(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ar(this._directDescendantItems),xt(t=>$s(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{let r=this._keyManager;if(this._panelAnimationState==="enter"&&r.activeItem?._hasFocus()){let i=t.toArray(),o=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[o]&&!i[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(ar(this._directDescendantItems),xt(r=>$s(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){let r=t.keyCode,i=this._keyManager;switch(r){case 27:ll(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(r===38||r===40)&&i.setFocusOrigin("keyboard"),i.onKeydown(t);return}}focusFirstItem(t="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=ni(()=>{let r=this._resolvePanel();if(!r||!r.contains(document.activeElement)){let i=this._keyManager;i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&r&&r.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){}setPositionClasses(t=this.xPosition,r=this.yPosition){this._classList=se(V({},this._classList),{"mat-menu-before":t==="before","mat-menu-after":t==="after","mat-menu-above":r==="above","mat-menu-below":r==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(t){let r=t===Vv;(r||t===iS)&&(r&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(r?"void":"enter"),this._isAnimating.set(!1))}_onAnimationStart(t){(t===iS||t===Vv)&&this._isAnimating.set(!0)}_setIsOpen(t){if(this._panelAnimationState=t?"enter":"void",t){if(this._keyManager.activeItemIndex===0){let r=this._resolvePanel();r&&(r.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(Vv),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(t?iS:Vv)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(ar(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let t=null;return this._directDescendantItems.length&&(t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["mat-menu"]],contentQueries:function(r,i,o){if(r&1&&(gn(o,OQ,5),gn(o,Za,5),gn(o,Za,4)),r&2){let s;Ke(s=Ye())&&(i.lazyContent=s.first),Ke(s=Ye())&&(i._allItems=s),Ke(s=Ye())&&(i.items=s)}},viewQuery:function(r,i){if(r&1&&kt(kr,5),r&2){let o;Ke(o=Ye())&&(i.templateRef=o.first)}},hostVars:3,hostBindings:function(r,i){r&2&&Pe("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Fe],hasBackdrop:[2,"hasBackdrop","hasBackdrop",t=>t==null?null:Fe(t)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[on([{provide:oS,useExisting:n}])],ngContentSelectors:PQ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(r,i){r&1&&(Ct(),fm(0,NQ,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return n})(),$2=new L("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=_(Te);return()=>Xa(n)}});function VQ(n){let e=_(Te);return()=>Xa(e)}var jQ={provide:$2,deps:[],useFactory:VQ};var eu=new WeakMap,BQ=(()=>{class n{_canHaveBackdrop;_element=_(xe);_viewContainerRef=_(Kn);_menuItemInstance=_(Za,{optional:!0,self:!0});_dir=_(Wi,{optional:!0});_focusMonitor=_(Yo);_ngZone=_(K);_injector=_(Te);_scrollStrategy=_($2);_changeDetectorRef=_(_n);_animationsDisabled=Mn();_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Ve.EMPTY;_menuCloseSubscription=Ve.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _menu(){return this._menuInternal}set _menu(t){t!==this._menuInternal&&(this._menuInternal=t,this._menuCloseSubscription.unsubscribe(),t&&(this._parentMaterialMenu,this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),(r==="click"||r==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this._triggersSubmenu()))}_menuInternal;constructor(t){this._canHaveBackdrop=t;let r=_(oS,{optional:!0});this._parentMaterialMenu=r instanceof Rs?r:void 0}ngOnDestroy(){this._menu&&this._ownsMenu(this._menu)&&eu.delete(this._menu),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this._menu)}_closeMenu(){this._menu?.close.emit()}_openMenu(t){let r=this._menu;if(this._menuOpen||!r)return;this._pendingRemoval?.unsubscribe();let i=eu.get(r);eu.set(r,this),i&&i!==this&&i._closeMenu();let o=this._createOverlay(r),s=o.getConfig(),a=s.positionStrategy;this._setPosition(r,a),this._canHaveBackdrop?s.hasBackdrop=r.hasBackdrop==null?!this._triggersSubmenu():r.hasBackdrop:s.hasBackdrop=!1,o.hasAttached()||(o.attach(this._getPortal(r)),r.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this._closeMenu()),r.parentMenu=this._triggersSubmenu()?this._parentMaterialMenu:void 0,r.direction=this.dir,t&&r.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),r instanceof Rs&&(r._setIsOpen(!0),r._directDescendantItems.changes.pipe(Cn(r.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}_destroyMenu(t){let r=this._overlayRef,i=this._menu;!r||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),i instanceof Rs&&this._ownsMenu(i)?(this._pendingRemoval=i._animationDone.pipe(In(1)).subscribe(()=>{r.detach(),eu.has(i)||i.lazyContent?.detach()}),i._setIsOpen(!1)):(r.detach(),i?.lazyContent?.detach()),i&&this._ownsMenu(i)&&eu.delete(i),this.restoreFocus&&(t==="keydown"||!this._openedBy||!this._triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this._triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){let r=this._getOverlayConfig(t);this._subscribeToPositions(t,r.positionStrategy),this._overlayRef=Lv(this._injector,r),this._overlayRef.keydownEvents().subscribe(i=>{this._menu instanceof Rs&&this._menu._handleKeydown(i)})}return this._overlayRef}_getOverlayConfig(t){return new Jl({positionStrategy:Fv(this._injector,this._getOverlayOrigin()).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled})}_subscribeToPositions(t,r){t.setPositionClasses&&r.positionChanges.subscribe(i=>{this._ngZone.run(()=>{let o=i.connectionPair.overlayX==="start"?"after":"before",s=i.connectionPair.overlayY==="top"?"below":"above";t.setPositionClasses(o,s)})})}_setPosition(t,r){let[i,o]=t.xPosition==="before"?["end","start"]:["start","end"],[s,a]=t.yPosition==="above"?["bottom","top"]:["top","bottom"],[c,u]=[s,a],[d,p]=[i,o],m=0;if(this._triggersSubmenu()){if(p=i=t.xPosition==="before"?"start":"end",o=d=i==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let g=this._parentMaterialMenu.items.first;this._parentInnerPadding=g?g._getHostElement().offsetTop:0}m=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(c=s==="top"?"bottom":"top",u=a==="top"?"bottom":"top");r.withPositions([{originX:i,originY:c,overlayX:d,overlayY:s,offsetY:m},{originX:o,originY:c,overlayX:p,overlayY:s,offsetY:m},{originX:i,originY:u,overlayX:d,overlayY:a,offsetY:-m},{originX:o,originY:u,overlayX:p,overlayY:a,offsetY:-m}])}_menuClosingActions(){let t=this._getOutsideClickStream(this._overlayRef),r=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:X(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(nt(s=>this._menuOpen&&s!==this._menuItemInstance)):X();return $s(t,i,o,r)}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Xl(t.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(t){return eu.get(t)===this}static \u0275fac=function(r){dm()};static \u0275dir=ue({type:n})}return n})(),Ja=(()=>{class n extends BQ{_cleanupTouchstart;_hoverSubscription=Ve.EMPTY;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){this._menu=t}menuData;restoreFocus=!0;menuOpened=new Ue;onMenuOpen=this.menuOpened;menuClosed=new Ue;onMenuClose=this.menuClosed;constructor(){super(!0);let t=_(Ht);this._cleanupTouchstart=t.listen(this._element.nativeElement,"touchstart",r=>{ba(r)||(this._openedBy="touch")},{passive:!0})}triggersSubmenu(){return super._triggersSubmenu()}toggleMenu(){return this.menuOpen?this.closeMenu():this.openMenu()}openMenu(){this._openMenu(!0)}closeMenu(){this._closeMenu()}updatePosition(){this._overlayRef?.updatePosition()}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTouchstart(),this._hoverSubscription.unsubscribe()}_getOverlayOrigin(){return this._element}_getOutsideClickStream(t){return t.backdropClick()}_handleMousedown(t){ya(t)||(this._openedBy=t.button===0?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){let r=t.keyCode;(r===13||r===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(r===39&&this.dir==="ltr"||r===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(t=>{t===this._menuItemInstance&&!t.disabled&&this._parentMaterialMenu?._panelAnimationState!=="void"&&(this._openedBy="mouse",this._openMenu(!1))}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,i){r&1&&Y("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),r&2&&Pe("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu==null?null:i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],features:[$t]})}return n})();var jv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({providers:[jQ],imports:[hl,Qe,rS,Sv,Qe]})}return n})(),z2={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},FDe=z2.fadeInItems,LDe=z2.transformMenu;function UQ(n,e){if(n&1&&(C(0,"button",5)(1,"mat-icon"),j(2,"more_vert"),M()()),n&2){z();let t=Qn(16);ee("matMenuTriggerFor",t)}}function HQ(n,e){if(n&1){let t=je();C(0,"button",8),Y("click",function(){ae(t);let i=z(2);return ce(i.removeFeatured())}),C(1,"mat-icon"),j(2,"remove"),M(),C(3,"span"),j(4,"Remove from featured"),M()()}}function $Q(n,e){if(n&1){let t=je();C(0,"button",8),Y("click",function(){let i;ae(t);let o=z(2);return ce((i=o.card())!=null&&i.starred?o.unstarCard():o.starCard())}),C(1,"mat-icon"),j(2),M(),C(3,"span"),j(4),M()(),C(5,"button",8),Y("click",function(){ae(t);let i=z(2);return ce(i.setFeatured())}),C(6,"mat-icon"),j(7,"style"),M(),C(8,"span"),j(9,"Add to featured"),M()(),C(10,"button",8),Y("click",function(){ae(t);let i=z(2);return ce(i.sellCard())}),C(11,"mat-icon"),j(12,"toll"),M(),C(13,"span"),j(14),M()()}if(n&2){let t,r,i=z(2);O(2),Tt((t=i.card())!=null&&t.starred?"star":"star_outline"),O(2),Tt((r=i.card())!=null&&r.starred?"Unstar":"Star"),O(10),et("Sell card (",i.cardSellValue(),")")}}function zQ(n,e){if(n&1){let t=je();C(0,"div",1)(1,"div",2),Y("click",function(){ae(t);let i=z();return ce(i.hideCard())}),M(),C(2,"mat-card")(3,"mat-card-title"),j(4),M(),C(5,"mat-card-footer")(6,"i"),j(7),M()(),ye(8,"img",3),C(9,"mat-card-content"),j(10),M(),C(11,"mat-card-actions")(12,"a",4),j(13,"Full Article \u2197"),M()(),fe(14,UQ,3,1,"button",5),M()(),C(15,"mat-menu",6,0),fe(17,HQ,5,0,"button",7)(18,$Q,15,3),C(19,"button",8),Y("click",function(){ae(t);let i=z();return ce(i.setProfilePicture())}),C(20,"mat-icon"),j(21,"account_circle"),M(),C(22,"span"),j(23,"Set as profile picture"),M()()()}if(n&2){let t,r,i,o,s,a,c=z();O(2),Pe("class",(t=c.card())==null?null:t.rarity),O(2),Tt((r=c.card())==null?null:r.title),O(3),et("Collected ",(i=c.card())==null?null:i.created),O(),ee("src",Kt((o=c.card())==null?null:o.thumbnail),rn)("alt",Kt((s=c.card())==null?null:s.title)),O(2),et(" ",c.desc," "),O(2),ee("href",Kt((a=c.card())==null?null:a.link),rn),O(2),pe(c.currUser()?14:-1),O(3),pe(c.profilePage()?17:18)}}var tu=class n{matMenu=new Ja;firebase=_(wt);shown=Em(!1);card=Em();currUser=pd(!1);cards=Em();profilePage=pd(!1);desc="Loading...";constructor(){Pt(()=>{this.shown()&&this.showCard()})}showCard(){return y(this,null,function*(){if(this.card()===void 0)return;this.desc="";let e={action:"query",format:"json",prop:"extracts",exsentences:"20",exlimit:"1",titles:this.card()?.title??"",explaintext:"1",formatversion:"2"};var t="https://en.wikipedia.org/w/api.php?origin=*&"+new URLSearchParams(e).toString(),r=yield(yield fetch(t)).json();r.query.pages[0].extract?this.desc=r.query.pages[0].extract.replaceAll(`



`,`
`).replaceAll(`


`,`
`).replaceAll(`
`,`

`):this.desc="[ No description ]"})}hideCard(){this.shown.set(!1)}showMenu(){this.matMenu.openMenu()}starCard(){var e=this.card();e&&(this.card.set(se(V({},e),{starred:!0})),this.firebase.starCard(e.id))}unstarCard(){var e=this.card();e&&(this.card.set(se(V({},e),{starred:!1})),this.firebase.unstarCard(e.id))}setFeatured(){var e=this.card();e!==void 0&&this.firebase.setFeaturedCard(e)}removeFeatured(){return y(this,null,function*(){var e=this.card();e!==void 0&&confirm("Are you sure you want to un-feature this card?")&&(yield this.firebase.removeFeaturedCard(e))&&(this.cards.set(this.cards()?.filter(t=>t.id!==this.card()?.id)),this.shown.set(!1))})}setProfilePicture(){var e=this.card();e!==void 0&&this.firebase.setProfilePicture(e.thumbnail)}cardSellValue(){switch(this.card()?.rarity){case"common":return 5;case"uncommon":return 10;case"rare":return 25;case"epic":return 50;case"legendary":return 100;default:return 0}}sellCard(){return y(this,null,function*(){var e=this.card();if(e!==void 0){var t=this.cardSellValue();confirm("Are you sure you want to sell this card for "+t+" coins?")&&(yield this.firebase.sellCard(e.id,t))&&(this.cards.set(this.cards()?.filter(r=>r.id!==this.card()?.id)),this.shown.set(!1))}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-full-card"]],viewQuery:function(t,r){if(t&1&&kt(Ja,5),t&2){let i;Ke(i=Ye())&&(r.matMenu=i.first)}},inputs:{shown:[1,"shown"],card:[1,"card"],currUser:[1,"currUser"],cards:[1,"cards"],profilePage:[1,"profilePage"]},outputs:{shown:"shownChange",card:"cardChange",cards:"cardsChange"},decls:1,vars:1,consts:[["menu","matMenu"],[1,"overlay"],[1,"background",3,"click"],["mat-card-image","",3,"src","alt"],["target","_blank",3,"href"],["matIconButton","","aria-label","Card actions",1,"menu-button",3,"matMenuTriggerFor"],["xPosition","after"],["mat-menu-item",""],["mat-menu-item","",3,"click"]],template:function(t,r){t&1&&fe(0,zQ,24,12),t&2&&pe(r.shown()?0:-1)},dependencies:[As,Ds,p2,vv,bv,xs,Ss,wr,br,jv,Rs,Za,Ja,yr,Vr],styles:['.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100dvw;height:100dvh;display:flex;align-items:center;justify-content:center}.background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100dvw;height:100dvh;background-color:#0000004d;z-index:-1}.overlay[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{position:relative;min-width:40dvw;width:500px;max-width:80dvw;max-height:80dvh;height:800px;padding:30px;background-color:#fff;border-radius:4px;display:flex;flex-direction:column;gap:10px}.overlay[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-family:Linux Libertine,Georgia,Times,"Source Serif 4",serif;font-size:1.5rem;padding-bottom:4px}mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;max-height:32vh;max-width:100%;margin:10px auto}.overlay[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{white-space:pre-line;height:32vh;overflow:auto}.overlay[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]{margin-top:auto}.menu-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}']})};var qQ=(n,e)=>e.id;function WQ(n,e){if(n&1){let t=je();C(0,"mat-card",10),Y("click",function(){let i=ae(t).$implicit,o=z();return ce(o.showFullCard(i))}),C(1,"button",11),Y("click",function(i){let o=ae(t).$implicit,s=z();return ce(o.starred?s.unstarCard(o,i):s.starCard(o,i))}),C(2,"mat-icon"),j(3),M()(),C(4,"div",12)(5,"mat-card-title"),j(6),M(),ye(7,"img",13),C(8,"mat-card-subtitle"),j(9),M()()()}if(n&2){let t=e.$implicit;Pe("id",t.id)("class",t.rarity),O(3),Tt(t.starred?"star":"star_outline"),O(3),Tt(t.title),O(),ee("src",Kt(t.thumbnail),rn)("alt",Kt(t.title)),O(2),et("[ Collected ",t.created," ]")}}function GQ(n,e){n&1&&(C(0,"p"),j(1,"Loading..."),M())}function KQ(n,e){n&1&&(C(0,"p"),j(1,"[ Empty ]"),M())}function YQ(n,e){if(n&1&&fe(0,GQ,2,0,"p")(1,KQ,2,0,"p"),n&2){let t=z();pe(t.loading?0:1)}}function QQ(n,e){if(n&1){let t=je();C(0,"button",14),Y("click",function(){ae(t);let i=z();return ce(i.loadCards())}),j(1,"Load More"),M()}}var Bv=class n{firebase=_(wt);cards=[];loading=!0;lastDoc=null;selectedSort="Star";moreCards=!0;loadLimit=20;selectedCard;selected=!1;showFullCard(e){this.selectedCard=e,this.selected=!0}reloadEffect=Pt(()=>{this.cards=[],this.lastDoc=null,this.loadCards()});loadCards(){return y(this,null,function*(){if(this.loading=!0,this.firebase.username()!=null){var e;this.selectedSort==="Rarity"?e=yield this.firebase.loadCollection(this.lastDoc,this.loadLimit):this.selectedSort==="Date"?e=yield this.firebase.loadCollectionByDate(this.lastDoc,this.loadLimit):e=yield this.firebase.loadCollectionByStar(this.lastDoc,this.loadLimit),this.moreCards=e.length>=this.loadLimit,this.lastDoc=e[e.length-1],e.forEach(t=>{var r=t.data(),i=r.rarity;i==0?i="common":i==1?i="uncommon":i==2?i="rare":i==3?i="epic":i==4&&(i="legendary"),this.cards.push({id:t.id,rarity:i,wiki_id:r.id,title:r.title,link:r.link,thumbnail:r.thumbnail,created:r.created.toDate().toDateString(),starred:r.starred})}),this.loading=!1}})}changeSort(e){return y(this,null,function*(){this.selectedSort=e,this.cards=[],this.lastDoc=null,this.loadCards()})}starCard(e,t){return y(this,null,function*(){t.stopPropagation(),e.starred=!0,this.firebase.starCard(e.id)})}unstarCard(e,t){return y(this,null,function*(){t.stopPropagation(),e.starred=!1,this.firebase.unstarCard(e.id)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-collection-page"]],decls:19,vars:7,consts:[[1,"container"],[1,"content"],[1,"content-header"],["name","sortOrder","aria-label","Sort Order",3,"change","value"],["value","Rarity"],["value","Date"],["value","Star"],[1,"cards"],["matButton","filled",1,"load-button"],[3,"cardChange","shownChange","cardsChange","card","shown","currUser","cards"],[3,"click"],["matIconButton","",1,"star-button",3,"click"],[1,"card-content"],["mat-card-image","",3,"src","alt"],["matButton","filled",1,"load-button",3,"click"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),j(4,"My Collection"),M(),C(5,"mat-button-toggle-group",3),Y("change",function(o){return r.changeSort(o.value)}),C(6,"mat-button-toggle",4),j(7,"Rarity"),M(),C(8,"mat-button-toggle",5),j(9,"Date"),M(),C(10,"mat-button-toggle",6),j(11,"Starred"),M()()(),ye(12,"mat-divider"),C(13,"div",7),fr(14,WQ,10,9,"mat-card",null,qQ,!1,YQ,2,1),M(),fe(17,QQ,2,0,"button",8),M()(),C(18,"app-full-card",9),gr("cardChange",function(o){return An(r.selectedCard,o)||(r.selectedCard=o),o})("shownChange",function(o){return An(r.selected,o)||(r.selected=o),o})("cardsChange",function(o){return An(r.cards,o)||(r.cards=o),o}),M()),t&2&&(O(5),ee("value",r.selectedSort),O(9),pr(r.cards),O(3),pe(r.moreCards?17:-1),O(),Fn("card",r.selectedCard)("shown",r.selected),ee("currUser",!0),Fn("cards",r.cards))},dependencies:[As,Ds,xs,yv,Ss,y2,Cv,I2,QD,Dv,yr,fl,Vr,wr,br,tu],styles:['.container[_ngcontent-%COMP%]{height:92vh;overflow:auto}.content[_ngcontent-%COMP%]{margin:30px 50px;padding-bottom:40px}h1[_ngcontent-%COMP%]{font-family:Linux Libertine,Georgia,Times,"Source Serif 4",serif;font-weight:400}.content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:20px;gap:20px;align-items:center;justify-content:center}.cards[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;width:100%}.cards[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:200px;height:300px;padding:20px 24px;position:relative;overflow:hidden;display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:-4px 4px 10px #0003;background-color:#fff;text-align:center;transition:transform .3s ease-in-out}.star-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.cards[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]:hover{transform:translate(3px,-3px);cursor:pointer}.cards[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;max-width:90%;object-fit:contain;margin:14px auto;border-radius:2px}.cards[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.5em}.cards[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-weight:400;font-size:small;font-style:italic}mat-card-title[_ngcontent-%COMP%]{font-family:Linux Libertine,Georgia,Times,"Source Serif 4",serif;font-size:24px}mat-card-content[_ngcontent-%COMP%]{overflow:auto;margin-bottom:10px}.load-button[_ngcontent-%COMP%]{margin:0 auto;align-self:center;justify-content:center}@media (max-width: 600px){.content-header[_ngcontent-%COMP%]{flex-direction:column;align-items:start;margin-bottom:20px}mat-card-title[_ngcontent-%COMP%]{font-size:16px}}']})};var XQ=(n,e)=>e.id;function ZQ(n,e){if(n&1){let t=je();C(0,"mat-card",9),Y("click",function(){let i=ae(t).$implicit,o=z(2);return ce(o.showFullCard(i))}),C(1,"mat-card-title"),j(2),M(),ye(3,"img",10),C(4,"mat-card-footer")(5,"i"),j(6),M()()()}if(n&2){let t=e.$implicit;Pe("id",t.id)("class",t.rarity),O(2),Tt(t.title),O(),ee("src",Kt(t.thumbnail),rn)("alt",Kt(t.title)),O(3),et("[ Collected ",t.created," ]")}}function JQ(n,e){n&1&&(C(0,"p"),j(1,"[ None ]"),M())}function eX(n,e){if(n&1&&(C(0,"div",2),ye(1,"img",3),C(2,"div",4)(3,"h1"),j(4),M(),C(5,"h3"),j(6),M()()(),ye(7,"div",5),C(8,"div",6)(9,"h2"),j(10),M(),C(11,"div",7)(12,"div",8),fr(13,ZQ,7,8,"mat-card",null,XQ,!1,JQ,2,0,"p"),M()()()),n&2){let t=z();O(),ee("src",t.profile.pfp??"default-card.png",rn),O(3),Tt(t.profile.username),O(2),et("Member since ",t.profile.joined.toDateString()),O(4),et("Featured Cards (",t.profile.featured.length," / 5)"),O(3),pr(t.profile.featured)}}function tX(n,e){n&1&&(C(0,"p"),j(1,"[ This user does not exist ]"),M())}var Uv=class n{firebase=_(wt);route=_(Jn);router=_(sn);profile={username:"---",pfp:null,joined:new Date,featured:[]};currentUser=!1;selectedCard;selected=!1;reloadEffect=Pt(()=>{console.log("reload"),this.currentUser=this.firebase.username()===this.profile.username});constructor(){this.route.params.subscribe(e=>{var t=e.username||"";this.profile.username=t,this.loadProfile(t)})}loadProfile(e){return y(this,null,function*(){var t=yield this.firebase.loadProfile(e);t&&(this.profile=t)})}showFullCard(e){this.selectedCard=e,this.selected=!0}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-profile-page"]],decls:4,vars:6,consts:[[1,"container"],[3,"cardChange","shownChange","cardsChange","card","shown","currUser","cards","profilePage"],[1,"header"],[1,"pfp",3,"src"],[1,"profile-info"],[1,"divider"],[1,"featured"],[1,"card-container"],[1,"cards"],[3,"click"],["mat-card-image","",3,"src","alt"]],template:function(t,r){t&1&&(C(0,"div",0),fe(1,eX,16,5)(2,tX,2,0,"p"),M(),C(3,"app-full-card",1),gr("cardChange",function(o){return An(r.selectedCard,o)||(r.selectedCard=o),o})("shownChange",function(o){return An(r.selected,o)||(r.selected=o),o})("cardsChange",function(o){return An(r.profile.featured,o)||(r.profile.featured=o),o}),M()),t&2&&(O(),pe(r.profile!==null?1:2),O(2),Fn("card",r.selectedCard)("shown",r.selected),ee("currUser",r.currentUser),Fn("cards",r.profile.featured),ee("profilePage",!0))},dependencies:[As,Ds,bv,xs,Ss,tu],styles:['.container[_ngcontent-%COMP%]{margin:30px 50px;display:flex;flex-direction:column;gap:20px;max-width:92vw;height:calc(100dvh - 110px)}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:30px}.header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-style:italic;font-weight:400}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20vh;min-height:100px;aspect-ratio:1;border-radius:100px;object-fit:contain;background-color:#f0f8ff;border:2px solid darkblue}.divider[_ngcontent-%COMP%]{height:0px;border:1px solid rgba(99,99,99,.4)}.card-container[_ngcontent-%COMP%]{margin-top:10px;overflow:auto hidden}.cards[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:8px;gap:30px;height:40%}.cards[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{box-shadow:-4px 4px 4px #0003;background-color:#fff;border-radius:4px;padding:20px;width:20dvw;max-width:240px;justify-content:center;align-items:center;text-align:center;display:flex;justify-content:space-evenly;gap:20px;flex-direction:column;transition:transform .4s ease-in-out,box-shadow .4s ease-in-out}.cards[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.02);box-shadow:-5px 5px 4px #0003}.cards[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;max-width:14dvw}.cards[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-family:Linux Libertine,Georgia,Times,"Source Serif 4",serif}@media (max-width: 720px){.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16dvh}.cards[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{min-width:48dvw;padding:30px 20px}.cards[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:30dvw}}']})};var Hv=class n{firebase=_(wt);balance=0;oneCardPackCost=20;threeCardPackCost=50;fiveCardPackCost=70;reloadEffect=Pt(()=>{console.log("reload"),this.loadBalance()});ngOnInit(){this.loadBalance()}loadBalance(){return y(this,null,function*(){this.firebase.username()!==null&&(this.balance=yield this.firebase.loadBalance())})}buyOneCardPack(){return y(this,null,function*(){confirm("Buy pack of 1?")&&(yield this.firebase.buyPack(1,this.oneCardPackCost))&&(this.balance-=this.oneCardPackCost)})}buyThreeCardPack(){return y(this,null,function*(){confirm("Buy pack of 3?")&&(yield this.firebase.buyPack(3,this.threeCardPackCost))&&(this.balance-=this.threeCardPackCost)})}buyFiveCardPack(){return y(this,null,function*(){confirm("Buy pack of 5?")&&(yield this.firebase.buyPack(5,this.fiveCardPackCost))&&(this.balance-=this.fiveCardPackCost)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-buy-pack-page"]],decls:14,vars:4,consts:[[1,"main"],[1,"balance"],[1,"packs"],[3,"click"],[1,"back"],["routerLink","/packs"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"div",1)(2,"h2"),j(3),M()(),C(4,"div",2)(5,"button",3),Y("click",function(){return r.buyOneCardPack()}),j(6),M(),C(7,"button",3),Y("click",function(){return r.buyThreeCardPack()}),j(8),M(),C(9,"button",3),Y("click",function(){return r.buyFiveCardPack()}),j(10),M()(),C(11,"div",4)(12,"a",5),j(13,"View Packs"),M()()()),t&2&&(O(3),et("Balance: ",r.balance," coin"),O(3),et("One Pack (",r.oneCardPackCost,")"),O(2),et("Three Pack (",r.threeCardPackCost,")"),O(2),et("Five Pack (",r.fiveCardPackCost,")"))},dependencies:[ci],styles:['.main[_ngcontent-%COMP%]{margin:6vh 8vw;text-align:center}.balance[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Linux Libertine,Georgia,Times,"Source Serif 4",serif;margin-bottom:40px}.packs[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.packs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:2px solid rgb(19,19,67);border-radius:4px;padding:20px;color:#fff;background-color:#161638}.packs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#1e1e45;box-shadow:-2px 2px 4px #0003;transform:translate(2px,-2px)}.back[_ngcontent-%COMP%]{margin-top:40px}']})};var nX=(n,e)=>e.username;function rX(n,e){if(n&1&&(C(0,"a",4)(1,"div",5),ye(2,"img",6),C(3,"p"),j(4),ye(5,"br"),C(6,"i"),j(7),M()()()()),n&2){let t=e.$implicit;ee("routerLink","/profile/"+t.username),O(2),ee("src",Kt(t.pfp??"default-card.png"),rn),O(2),et("",t.username," "),O(3),et("Joined ",t.joined.toDateString())}}var $v=class n{firebase=_(wt);profiles=[];selectedCard;selected=!1;showFullCard(e){this.selectedCard=e,this.selected=!0}constructor(){this.loadProfiles()}loadProfiles(){return y(this,null,function*(){this.profiles=yield this.firebase.loadRandomProfiles(10)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-community-page"]],decls:9,vars:0,consts:[[1,"container"],[1,"content-header"],[1,"profiles-container"],[1,"profiles"],[3,"routerLink"],[1,"profile"],[3,"src"]],template:function(t,r){t&1&&(C(0,"div",0)(1,"div",1)(2,"h1"),j(3,"New Users"),M()(),ye(4,"mat-divider"),C(5,"div",2)(6,"div",3),fr(7,rX,8,5,"a",4,nX),M()()()),t&2&&(O(7),pr(r.profiles))},dependencies:[ci,Cv,yr],styles:[".container[_ngcontent-%COMP%]{margin:30px 50px}.content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.profiles-container[_ngcontent-%COMP%]{overflow:auto hidden}.profiles[_ngcontent-%COMP%]{padding:20px;display:flex;gap:40px}.profile[_ngcontent-%COMP%]{width:14dvw;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.profile[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:smaller;color:#000;text-decoration:none}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;aspect-ratio:1;object-fit:contain;border:2px solid aqua;background-color:#fff;border-radius:100px}"]})};var W2=[{path:"",component:_v},{path:"community",component:$v},{path:"pack/:pack_id",component:Ev},{path:"buy_packs",component:Hv},{path:"profile/:username",component:Uv},{path:"packs",component:Iv},{path:"collection",component:Bv},{path:"sign_in",component:Xh},{path:"**",component:Xh}];var G2={providers:[jb(),DE({eventCoalescing:!0}),y0(W2),KE(),s1(()=>a1({apiKey:"AIzaSyD4HO7sZ9IHD5xral5ksFD7rG8q7WuqkfA",authDomain:"wikicards-1e17c.firebaseapp.com",projectId:"wikicards-1e17c",storageBucket:"wikicards-1e17c.firebasestorage.app",messagingSenderId:"435510501230",appId:"1:435510501230:web:d599a6364f63868209ab7f",measurementId:"G-PPS9Z2DSHE"})),c2(()=>h2()),hF(()=>pF())]};var iX=["*",[["mat-toolbar-row"]]],oX=["*","mat-toolbar-row"],sX=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ue({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),K2=(()=>{class n{_elementRef=_(xe);_platform=_(at);_document=_(ve);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Z({type:n,selectors:[["mat-toolbar"]],contentQueries:function(r,i,o){if(r&1&&gn(o,sX,5),r&2){let s;Ke(s=Ye())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,i){r&2&&(Nr(i.color?"mat-"+i.color:""),Me("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:oX,decls:2,vars:0,template:function(r,i){r&1&&(Ct(iX),He(0),He(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return n})();var Y2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ee({type:n});static \u0275inj=ge({imports:[Qe,Qe]})}return n})();function cX(n,e){n&1&&(C(0,"a",14),j(1,"Sign In"),M())}function lX(n,e){if(n&1){let t=je();C(0,"a",15),j(1,"Profile"),M(),C(2,"a",16),j(3,"Collection"),M(),C(4,"button",17),Y("click",function(){ae(t);let i=z();return ce(i.firebase.claimDailyPack())}),j(5,"Claim Daily Pack"),M(),C(6,"button",17),Y("click",function(){ae(t);let i=z();return ce(i.signOut())}),j(7,"Sign Out"),M()}if(n&2){let t=z();ee("routerLink","/profile/"+t.firebase.username())}}var zv=class n{firebase=_(wt);router=_(sn);signOut(){confirm("Are you sure you want to sign out?")&&(this.firebase.signOut(),this.router.navigateByUrl("/sign_in"))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-header"]],decls:30,vars:5,consts:[["menu","matMenu"],["profile","matMenu"],["color","secondary"],[1,"menu-item",3,"matMenuTriggerFor"],["matIconButton","","aria-label","Menu",1,"toolbar-icon"],[3,"matMenuTriggerFor"],["mat-menu-item","","routerLink","/"],["mat-menu-item","","routerLink","/packs"],["mat-menu-item","","routerLink","/buy_packs"],["mat-menu-item","","routerLink","/community"],[1,"title"],["routerLink","/"],["matIconButton","","aria-label","Person",1,"toolbar-icon"],[1,"username"],["mat-menu-item","","routerLink","/sign_in"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","","routerLink","/collection"],["mat-menu-item","",3,"click"]],template:function(t,r){if(t&1&&(C(0,"mat-toolbar",2)(1,"span",3)(2,"button",4)(3,"mat-icon"),j(4,"menu"),M()(),C(5,"span",5),j(6,"Menu"),M()(),C(7,"mat-menu",null,0)(9,"a",6),j(10,"Timer"),M(),C(11,"a",7),j(12,"Packs"),M(),C(13,"a",8),j(14,"Buy Packs"),M(),C(15,"a",9),j(16,"Community"),M()(),C(17,"span",10)(18,"a",11),j(19,"WikiCards"),M()(),C(20,"span",3)(21,"button",12)(22,"mat-icon"),j(23,"person"),M()(),C(24,"span",13),j(25),M()(),C(26,"mat-menu",null,1),fe(28,cX,2,0,"a",14)(29,lX,8,1),M()()),t&2){let i=Qn(8),o=Qn(27);O(),ee("matMenuTriggerFor",i),O(4),ee("matMenuTriggerFor",i),O(15),ee("matMenuTriggerFor",o),O(5),Tt(r.firebase.username()??"Not logged in"),O(3),pe(r.firebase.username()===null?28:29)}},dependencies:[wr,br,Y2,K2,yr,Vr,jv,Rs,Za,Ja,ci],styles:['.title[_ngcontent-%COMP%]{width:100%;text-align:center}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:larger;font-family:Linux Libertine,Georgia,Times,"Source Serif 4",serif;color:#000;font-variant:small-caps;text-decoration:none}mat-toolbar[_ngcontent-%COMP%]{height:50px;background-color:#fff;border-bottom:1px solid rgba(0,0,0,.2)}mat-icon[_ngcontent-%COMP%]{color:#000}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer}']})};var qv=class n{title=ze("wiki-cards");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){t&1&&ye(0,"app-header")(1,"router-outlet")},dependencies:[Hd,zv],encapsulation:2})};qE(qv,G2).catch(n=>console.error(n));
